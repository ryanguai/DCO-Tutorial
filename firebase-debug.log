[debug] [2023-01-15T09:33:18.739Z] ----------------------------------------------------------------------
[debug] [2023-01-15T09:33:18.741Z] Command:       /usr/local/bin/node /Users/ryanguai/.npm-global/bin/firebase serve
[debug] [2023-01-15T09:33:18.742Z] CLI Version:   11.20.0
[debug] [2023-01-15T09:33:18.742Z] Platform:      darwin
[debug] [2023-01-15T09:33:18.743Z] Node Version:  v16.13.0
[debug] [2023-01-15T09:33:18.744Z] Time:          Sun Jan 15 2023 17:33:18 GMT+0800 (Singapore Standard Time)
[debug] [2023-01-15T09:33:18.745Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-01-15T09:33:18.841Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-01-15T09:33:18.842Z] > authorizing via signed-in user (e0694442@u.nus.edu)
[debug] [2023-01-15T09:33:18.843Z] [iam] checking project todoapp-65153 for permissions ["firebase.projects.get"]
[debug] [2023-01-15T09:33:18.845Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions [none]
[debug] [2023-01-15T09:33:18.846Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions x-goog-quota-user=projects/todoapp-65153
[debug] [2023-01-15T09:33:18.847Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-01-15T09:33:19.996Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions 200
[debug] [2023-01-15T09:33:20.001Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-01-15T09:33:20.007Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 [none]
[debug] [2023-01-15T09:33:20.384Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 200
[debug] [2023-01-15T09:33:20.390Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 {"projectId":"todoapp-65153","projectNumber":"171978637376","displayName":"TodoApp","name":"projects/todoapp-65153","resources":{"hostingSite":"todoapp-65153"},"state":"ACTIVE","etag":"1_0db5b273-f110-4f41-bfe1-d0cd548786a7"}
[info] 
[info] === Serving from '/Users/ryanguai/DCO-Tutorial'...
[info] 
[info] ✔  functions: Using node@16 from host. {"metadata":{"emulator":{"name":"functions"},"message":"Using node@16 from host."}}
[debug] [2023-01-15T09:33:20.437Z] defaultcredentials: writing to file /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json
[debug] [2023-01-15T09:33:20.439Z] Setting GAC to /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json"}}
[debug] [2023-01-15T09:33:20.441Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig [none]
[debug] [2023-01-15T09:33:21.103Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig 200
[debug] [2023-01-15T09:33:21.105Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig {"projectId":"todoapp-65153","storageBucket":"todoapp-65153.appspot.com"}
[info] i  functions: Watching "/Users/ryanguai/DCO-Tutorial/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/ryanguai/DCO-Tutorial/functions\" for Cloud Functions..."}}
[debug] [2023-01-15T09:33:21.171Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T09:33:23.125Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T09:33:23.126Z] Building nodejs source
[debug] [2023-01-15T09:33:23.129Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T09:33:23.450Z] Serving at port 9005

[debug] [2023-01-15T09:33:23.551Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T09:33:23.565Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions[us-central1-api]: http function initialized (http://localhost:5000/todoapp-65153/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5000/todoapp-65153/us-central1/api)."}}
[debug] [2023-01-15T09:33:33.937Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api-2023-01-15T09:33:33.936Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T09:33:33.946Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api-2023-01-15T09:33:33.936Z"],"workRunningCount":1}
[debug] [2023-01-15T09:33:33.950Z] Accepted request GET /todoapp-65153/us-central1/api --> us-central1-api
[debug] [2023-01-15T09:33:33.955Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T09:33:33.957Z] [functions] Got req.url=/todoapp-65153/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api, mapping to path=/"}}
[debug] [2023-01-15T09:33:33.999Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-15T09:33:34.001Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-01-15T09:33:35.431Z] [runtime-status] [84190] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84190] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T09:33:35.432Z] [runtime-status] [84190] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84190] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T09:33:35.432Z] [runtime-status] [84190] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84190] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-15T09:33:35.432Z] [runtime-status] [84190] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84190] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T09:33:35.475Z] [runtime-status] [84190] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84190] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-15T09:33:35.476Z] [runtime-status] [84190] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84190] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-15T09:33:35.478Z] [runtime-status] [84190] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84190] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T09:33:35.478Z] [runtime-status] [84190] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84190] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T09:33:35.480Z] [runtime-status] [84190] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84190] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T09:33:35.481Z] [runtime-status] [84190] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84190] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-15T09:33:35.563Z] [runtime-status] [84190] initializeApp(DEFAULT) {"storageBucket":"todoapp-65153.appspot.com","projectId":"todoapp-65153"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84190] initializeApp(DEFAULT) {\"storageBucket\":\"todoapp-65153.appspot.com\",\"projectId\":\"todoapp-65153\"}"}}
[warn] ⚠  functions: The Cloud Firestore emulator is not running, so calls to Firestore will affect production. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"The Cloud Firestore emulator is not running, so calls to Firestore will affect production."}}
[debug] [2023-01-15T09:33:35.584Z] [runtime-status] [84190] Functions runtime initialized. {"cwd":"/Users/ryanguai/DCO-Tutorial/functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84190] Functions runtime initialized. {\"cwd\":\"/Users/ryanguai/DCO-Tutorial/functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2023-01-15T09:33:35.585Z] [runtime-status] [84190] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_bae3927a361e3ad0.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84190] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_bae3927a361e3ad0.sock"}}
[debug] [2023-01-15T09:33:35.624Z] [worker-us-central1-api-ebccdb9e-a14c-4f8a-8332-a55b0bb62d20]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ebccdb9e-a14c-4f8a-8332-a55b0bb62d20]: IDLE"}}
[debug] [2023-01-15T09:33:35.624Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T09:33:35.624Z] [worker-us-central1-api-ebccdb9e-a14c-4f8a-8332-a55b0bb62d20]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ebccdb9e-a14c-4f8a-8332-a55b0bb62d20]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T09:33:35.635Z] [worker-us-central1-api-ebccdb9e-a14c-4f8a-8332-a55b0bb62d20]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ebccdb9e-a14c-4f8a-8332-a55b0bb62d20]: IDLE"}}
[debug] [2023-01-15T09:33:35.642Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 3.337458ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 3.337458ms"}}
[debug] [2023-01-15T09:34:02.929Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api-2023-01-15T09:34:02.928Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T09:34:02.945Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api-2023-01-15T09:34:02.928Z"],"workRunningCount":1}
[debug] [2023-01-15T09:34:02.945Z] Accepted request GET /todoapp-65153/us-central1/api --> us-central1-api
[debug] [2023-01-15T09:34:02.964Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T09:34:02.969Z] [functions] Got req.url=/todoapp-65153/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api, mapping to path=/"}}
[debug] [2023-01-15T09:34:02.973Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T09:34:02.976Z] [worker-us-central1-api-ebccdb9e-a14c-4f8a-8332-a55b0bb62d20]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ebccdb9e-a14c-4f8a-8332-a55b0bb62d20]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T09:34:03.005Z] [worker-us-central1-api-ebccdb9e-a14c-4f8a-8332-a55b0bb62d20]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ebccdb9e-a14c-4f8a-8332-a55b0bb62d20]: IDLE"}}
[debug] [2023-01-15T09:34:03.008Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 3.1945ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 3.1945ms"}}
[debug] [2023-01-15T09:34:06.771Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/todos-2023-01-15T09:34:06.771Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T09:34:06.772Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/todos-2023-01-15T09:34:06.771Z"],"workRunningCount":1}
[debug] [2023-01-15T09:34:06.772Z] Accepted request GET /todoapp-65153/us-central1/api/todos --> us-central1-api
[debug] [2023-01-15T09:34:06.774Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T09:34:06.775Z] [functions] Got req.url=/todoapp-65153/us-central1/api/todos, mapping to path=/todos {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/todos, mapping to path=/todos"}}
[debug] [2023-01-15T09:34:06.775Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T09:34:06.775Z] [worker-us-central1-api-ebccdb9e-a14c-4f8a-8332-a55b0bb62d20]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ebccdb9e-a14c-4f8a-8332-a55b0bb62d20]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-15T09:34:07.825Z] [worker-us-central1-api-ebccdb9e-a14c-4f8a-8332-a55b0bb62d20]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ebccdb9e-a14c-4f8a-8332-a55b0bb62d20]: IDLE"}}
[debug] [2023-01-15T09:34:07.826Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 1040.506417ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 1040.506417ms"}}
[debug] [2023-01-15T09:34:07.906Z] Functions emulator received unknown request at path /favicon.ico
[debug] [2023-01-15T09:35:37.373Z] File /Users/ryanguai/DCO-Tutorial/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-15T09:35:38.390Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T09:35:39.270Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T09:35:39.270Z] Building nodejs source
[debug] [2023-01-15T09:35:39.272Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T09:35:39.569Z] Serving at port 9005

[debug] [2023-01-15T09:35:39.585Z] Got response from /__/functions.yaml Failed to generate manifest from function source: SyntaxError: Unexpected token '.'
[debug] [2023-01-15T09:35:39.593Z] Failed to parse functions.yamlincomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 62:
     ... rom function source: SyntaxError: Unexpected token '.'
                                         ^ {"name":"YAMLException","reason":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line","mark":{"name":null,"buffer":"Failed to generate manifest from function source: SyntaxError: Unexpected token '.'\n\u0000","position":61,"line":0,"column":61},"message":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 62:\n     ... rom function source: SyntaxError: Unexpected token '.'\n                                         ^"}
[debug] [2023-01-15T09:35:39.599Z] shutdown requested via /__/quitquitquit

[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: SyntaxError: Unexpected token '.' {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: SyntaxError: Unexpected token '.'"}}
[debug] [2023-01-15T09:36:57.991Z] File /Users/ryanguai/DCO-Tutorial/functions/APIs/todos.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/APIs/todos.js changed, reloading triggers"}}
[debug] [2023-01-15T09:36:59.004Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T09:36:59.934Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T09:36:59.934Z] Building nodejs source
[debug] [2023-01-15T09:36:59.935Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T09:37:00.225Z] Serving at port 9005

[debug] [2023-01-15T09:37:00.244Z] Got response from /__/functions.yaml Failed to generate manifest from function source: SyntaxError: Unexpected token '.'
[debug] [2023-01-15T09:37:00.246Z] Failed to parse functions.yamlincomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 62:
     ... rom function source: SyntaxError: Unexpected token '.'
                                         ^ {"name":"YAMLException","reason":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line","mark":{"name":null,"buffer":"Failed to generate manifest from function source: SyntaxError: Unexpected token '.'\n\u0000","position":61,"line":0,"column":61},"message":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 62:\n     ... rom function source: SyntaxError: Unexpected token '.'\n                                         ^"}
[debug] [2023-01-15T09:37:00.254Z] shutdown requested via /__/quitquitquit

[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: SyntaxError: Unexpected token '.' {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: SyntaxError: Unexpected token '.'"}}
[debug] [2023-01-15T09:37:24.014Z] ----------------------------------------------------------------------
[debug] [2023-01-15T09:37:24.016Z] Command:       /usr/local/bin/node /Users/ryanguai/.npm-global/bin/firebase serve
[debug] [2023-01-15T09:37:24.017Z] CLI Version:   11.20.0
[debug] [2023-01-15T09:37:24.017Z] Platform:      darwin
[debug] [2023-01-15T09:37:24.017Z] Node Version:  v16.13.0
[debug] [2023-01-15T09:37:24.019Z] Time:          Sun Jan 15 2023 17:37:24 GMT+0800 (Singapore Standard Time)
[debug] [2023-01-15T09:37:24.020Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-01-15T09:37:24.118Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-01-15T09:37:24.120Z] > authorizing via signed-in user (e0694442@u.nus.edu)
[debug] [2023-01-15T09:37:24.120Z] [iam] checking project todoapp-65153 for permissions ["firebase.projects.get"]
[debug] [2023-01-15T09:37:24.123Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions [none]
[debug] [2023-01-15T09:37:24.124Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions x-goog-quota-user=projects/todoapp-65153
[debug] [2023-01-15T09:37:24.125Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-01-15T09:37:25.238Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions 200
[debug] [2023-01-15T09:37:25.242Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-01-15T09:37:25.248Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 [none]
[debug] [2023-01-15T09:37:25.723Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 200
[debug] [2023-01-15T09:37:25.726Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 {"projectId":"todoapp-65153","projectNumber":"171978637376","displayName":"TodoApp","name":"projects/todoapp-65153","resources":{"hostingSite":"todoapp-65153"},"state":"ACTIVE","etag":"1_0db5b273-f110-4f41-bfe1-d0cd548786a7"}
[info] 
[info] === Serving from '/Users/ryanguai/DCO-Tutorial'...
[info] 
[info] ✔  functions: Using node@16 from host. {"metadata":{"emulator":{"name":"functions"},"message":"Using node@16 from host."}}
[debug] [2023-01-15T09:37:25.765Z] defaultcredentials: writing to file /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json
[debug] [2023-01-15T09:37:25.767Z] Setting GAC to /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json"}}
[debug] [2023-01-15T09:37:25.769Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig [none]
[debug] [2023-01-15T09:37:26.134Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig 200
[debug] [2023-01-15T09:37:26.135Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig {"projectId":"todoapp-65153","storageBucket":"todoapp-65153.appspot.com"}
[info] i  functions: Watching "/Users/ryanguai/DCO-Tutorial/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/ryanguai/DCO-Tutorial/functions\" for Cloud Functions..."}}
[debug] [2023-01-15T09:37:26.200Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T09:37:27.026Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T09:37:27.027Z] Building nodejs source
[debug] [2023-01-15T09:37:27.030Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T09:37:27.334Z] Serving at port 9005

[debug] [2023-01-15T09:37:27.351Z] Got response from /__/functions.yaml Failed to generate manifest from function source: SyntaxError: Unexpected token '.'
[debug] [2023-01-15T09:37:27.354Z] Failed to parse functions.yamlincomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 62:
     ... rom function source: SyntaxError: Unexpected token '.'
                                         ^ {"name":"YAMLException","reason":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line","mark":{"name":null,"buffer":"Failed to generate manifest from function source: SyntaxError: Unexpected token '.'\n\u0000","position":61,"line":0,"column":61},"message":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 62:\n     ... rom function source: SyntaxError: Unexpected token '.'\n                                         ^"}
[debug] [2023-01-15T09:37:27.363Z] shutdown requested via /__/quitquitquit

[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: SyntaxError: Unexpected token '.' {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: SyntaxError: Unexpected token '.'"}}
[debug] [2023-01-15T09:38:30.622Z] File /Users/ryanguai/DCO-Tutorial/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-15T09:38:31.638Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T09:38:32.541Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T09:38:32.542Z] Building nodejs source
[debug] [2023-01-15T09:38:32.543Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T09:38:32.820Z] Serving at port 9005

[debug] [2023-01-15T09:38:32.923Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T09:38:32.931Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions[us-central1-api]: http function initialized (http://localhost:5000/todoapp-65153/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5000/todoapp-65153/us-central1/api)."}}
[debug] [2023-01-15T09:38:35.231Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api-2023-01-15T09:38:35.231Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T09:38:35.232Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api-2023-01-15T09:38:35.231Z"],"workRunningCount":1}
[debug] [2023-01-15T09:38:35.236Z] Accepted request GET /todoapp-65153/us-central1/api --> us-central1-api
[debug] [2023-01-15T09:38:35.238Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T09:38:35.243Z] [functions] Got req.url=/todoapp-65153/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api, mapping to path=/"}}
[debug] [2023-01-15T09:38:35.307Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-15T09:38:35.308Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-01-15T09:38:36.487Z] [runtime-status] [84289] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84289] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T09:38:36.490Z] [runtime-status] [84289] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84289] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T09:38:36.491Z] [runtime-status] [84289] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84289] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-15T09:38:36.491Z] [runtime-status] [84289] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84289] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T09:38:36.519Z] [runtime-status] [84289] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84289] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-15T09:38:36.520Z] [runtime-status] [84289] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84289] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-15T09:38:36.520Z] [runtime-status] [84289] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84289] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T09:38:36.521Z] [runtime-status] [84289] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84289] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T09:38:36.523Z] [runtime-status] [84289] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84289] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T09:38:36.524Z] [runtime-status] [84289] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84289] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-15T09:38:36.580Z] [runtime-status] [84289] initializeApp(DEFAULT) {"storageBucket":"todoapp-65153.appspot.com","projectId":"todoapp-65153"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84289] initializeApp(DEFAULT) {\"storageBucket\":\"todoapp-65153.appspot.com\",\"projectId\":\"todoapp-65153\"}"}}
[warn] ⚠  functions: The Cloud Firestore emulator is not running, so calls to Firestore will affect production. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"The Cloud Firestore emulator is not running, so calls to Firestore will affect production."}}
[debug] [2023-01-15T09:38:36.602Z] [runtime-status] [84289] Functions runtime initialized. {"cwd":"/Users/ryanguai/DCO-Tutorial/functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84289] Functions runtime initialized. {\"cwd\":\"/Users/ryanguai/DCO-Tutorial/functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2023-01-15T09:38:36.603Z] [runtime-status] [84289] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_07c71f97c276e8bb.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84289] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_07c71f97c276e8bb.sock"}}
[debug] [2023-01-15T09:38:36.691Z] [worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: IDLE"}}
[debug] [2023-01-15T09:38:36.692Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T09:38:36.692Z] [worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T09:38:36.710Z] [worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: IDLE"}}
[debug] [2023-01-15T09:38:36.712Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 4.002834ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 4.002834ms"}}
[debug] [2023-01-15T09:38:40.491Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/todos-2023-01-15T09:38:40.490Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T09:38:40.492Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/todos-2023-01-15T09:38:40.490Z"],"workRunningCount":1}
[debug] [2023-01-15T09:38:40.493Z] Accepted request GET /todoapp-65153/us-central1/api/todos --> us-central1-api
[debug] [2023-01-15T09:38:40.494Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T09:38:40.497Z] [functions] Got req.url=/todoapp-65153/us-central1/api/todos, mapping to path=/todos {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/todos, mapping to path=/todos"}}
[debug] [2023-01-15T09:38:40.499Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T09:38:40.500Z] [worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-15T09:38:42.461Z] [worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: IDLE"}}
[debug] [2023-01-15T09:38:42.462Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 1948.4548340000001ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 1948.4548340000001ms"}}
[debug] [2023-01-15T09:43:59.819Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/todos-2023-01-15T09:43:59.817Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T09:43:59.824Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/todos-2023-01-15T09:43:59.817Z"],"workRunningCount":1}
[debug] [2023-01-15T09:43:59.824Z] Accepted request POST /todoapp-65153/us-central1/api/todos --> us-central1-api
[debug] [2023-01-15T09:43:59.828Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T09:43:59.834Z] [functions] Got req.url=/todoapp-65153/us-central1/api/todos, mapping to path=/todos {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/todos, mapping to path=/todos"}}
[debug] [2023-01-15T09:43:59.835Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T09:43:59.835Z] [worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T09:43:59.867Z] [worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: IDLE"}}
[debug] [2023-01-15T09:43:59.867Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 12.25825ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 12.25825ms"}}
[debug] [2023-01-15T09:44:21.760Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/todo-2023-01-15T09:44:21.759Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T09:44:21.762Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/todo-2023-01-15T09:44:21.759Z"],"workRunningCount":1}
[debug] [2023-01-15T09:44:21.762Z] Accepted request POST /todoapp-65153/us-central1/api/todo --> us-central1-api
[debug] [2023-01-15T09:44:21.766Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T09:44:21.768Z] [functions] Got req.url=/todoapp-65153/us-central1/api/todo, mapping to path=/todo {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/todo, mapping to path=/todo"}}
[debug] [2023-01-15T09:44:21.768Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T09:44:21.769Z] [worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T09:44:21.795Z] [worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: IDLE"}}
[debug] [2023-01-15T09:44:21.797Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 13.258708ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 13.258708ms"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'trim') {"user":"TypeError: Cannot read properties of undefined (reading 'trim')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'trim')"}}
[info] >      at exports.postOneTodo (/Users/ryanguai/DCO-Tutorial/functions/APIs/todos.js:29:24) {"user":"    at exports.postOneTodo (/Users/ryanguai/DCO-Tutorial/functions/APIs/todos.js:29:24)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at exports.postOneTodo (/Users/ryanguai/DCO-Tutorial/functions/APIs/todos.js:29:24)"}}
[info] >      at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13) {"user":"    at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13)"}}
[info] >      at Route.dispatch (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:114:3) {"user":"    at Route.dispatch (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:114:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:114:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at expressInit (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/middleware/init.js:40:5) {"user":"    at expressInit (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/middleware/init.js:40:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at expressInit (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/middleware/init.js:40:5)"}}
[info] >      at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[debug] [2023-01-15T09:44:36.353Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/todo-2023-01-15T09:44:36.352Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T09:44:36.354Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/todo-2023-01-15T09:44:36.352Z"],"workRunningCount":1}
[debug] [2023-01-15T09:44:36.354Z] Accepted request POST /todoapp-65153/us-central1/api/todo --> us-central1-api
[debug] [2023-01-15T09:44:36.356Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T09:44:36.358Z] [functions] Got req.url=/todoapp-65153/us-central1/api/todo, mapping to path=/todo {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/todo, mapping to path=/todo"}}
[debug] [2023-01-15T09:44:36.358Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T09:44:36.358Z] [worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T09:44:36.406Z] [worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: IDLE"}}
[debug] [2023-01-15T09:44:36.406Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 1.702042ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 1.702042ms"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'trim') {"user":"TypeError: Cannot read properties of undefined (reading 'trim')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'trim')"}}
[info] >      at exports.postOneTodo (/Users/ryanguai/DCO-Tutorial/functions/APIs/todos.js:29:24) {"user":"    at exports.postOneTodo (/Users/ryanguai/DCO-Tutorial/functions/APIs/todos.js:29:24)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at exports.postOneTodo (/Users/ryanguai/DCO-Tutorial/functions/APIs/todos.js:29:24)"}}
[info] >      at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13) {"user":"    at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13)"}}
[info] >      at Route.dispatch (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:114:3) {"user":"    at Route.dispatch (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:114:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:114:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at expressInit (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/middleware/init.js:40:5) {"user":"    at expressInit (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/middleware/init.js:40:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at expressInit (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/middleware/init.js:40:5)"}}
[info] >      at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[debug] [2023-01-15T09:44:37.966Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/todo-2023-01-15T09:44:37.966Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T09:44:37.967Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/todo-2023-01-15T09:44:37.966Z"],"workRunningCount":1}
[debug] [2023-01-15T09:44:37.967Z] Accepted request POST /todoapp-65153/us-central1/api/todo --> us-central1-api
[debug] [2023-01-15T09:44:37.968Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T09:44:37.968Z] [functions] Got req.url=/todoapp-65153/us-central1/api/todo, mapping to path=/todo {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/todo, mapping to path=/todo"}}
[debug] [2023-01-15T09:44:37.968Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T09:44:37.968Z] [worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T09:44:37.986Z] [worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: IDLE"}}
[debug] [2023-01-15T09:44:37.999Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 5.043ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 5.043ms"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'trim') {"user":"TypeError: Cannot read properties of undefined (reading 'trim')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'trim')"}}
[info] >      at exports.postOneTodo (/Users/ryanguai/DCO-Tutorial/functions/APIs/todos.js:29:24) {"user":"    at exports.postOneTodo (/Users/ryanguai/DCO-Tutorial/functions/APIs/todos.js:29:24)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at exports.postOneTodo (/Users/ryanguai/DCO-Tutorial/functions/APIs/todos.js:29:24)"}}
[info] >      at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13) {"user":"    at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13)"}}
[info] >      at Route.dispatch (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:114:3) {"user":"    at Route.dispatch (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:114:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:114:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at expressInit (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/middleware/init.js:40:5) {"user":"    at expressInit (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/middleware/init.js:40:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at expressInit (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/middleware/init.js:40:5)"}}
[info] >      at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[debug] [2023-01-15T09:45:15.407Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/todo-2023-01-15T09:45:15.406Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T09:45:15.407Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/todo-2023-01-15T09:45:15.406Z"],"workRunningCount":1}
[debug] [2023-01-15T09:45:15.408Z] Accepted request POST /todoapp-65153/us-central1/api/todo --> us-central1-api
[debug] [2023-01-15T09:45:15.409Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T09:45:15.410Z] [functions] Got req.url=/todoapp-65153/us-central1/api/todo, mapping to path=/todo {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/todo, mapping to path=/todo"}}
[debug] [2023-01-15T09:45:15.412Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T09:45:15.414Z] [worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T09:45:15.428Z] [worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: IDLE"}}
[debug] [2023-01-15T09:45:15.429Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 3.555042ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 3.555042ms"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'trim') {"user":"TypeError: Cannot read properties of undefined (reading 'trim')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'trim')"}}
[info] >      at exports.postOneTodo (/Users/ryanguai/DCO-Tutorial/functions/APIs/todos.js:29:24) {"user":"    at exports.postOneTodo (/Users/ryanguai/DCO-Tutorial/functions/APIs/todos.js:29:24)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at exports.postOneTodo (/Users/ryanguai/DCO-Tutorial/functions/APIs/todos.js:29:24)"}}
[info] >      at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13) {"user":"    at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13)"}}
[info] >      at Route.dispatch (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:114:3) {"user":"    at Route.dispatch (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:114:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:114:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at expressInit (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/middleware/init.js:40:5) {"user":"    at expressInit (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/middleware/init.js:40:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at expressInit (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/middleware/init.js:40:5)"}}
[info] >      at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[debug] [2023-01-15T09:45:33.940Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/todo-2023-01-15T09:45:33.940Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T09:45:33.941Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/todo-2023-01-15T09:45:33.940Z"],"workRunningCount":1}
[debug] [2023-01-15T09:45:33.941Z] Accepted request POST /todoapp-65153/us-central1/api/todo --> us-central1-api
[debug] [2023-01-15T09:45:33.942Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T09:45:33.943Z] [functions] Got req.url=/todoapp-65153/us-central1/api/todo, mapping to path=/todo {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/todo, mapping to path=/todo"}}
[debug] [2023-01-15T09:45:33.944Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T09:45:33.944Z] [worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T09:45:33.958Z] [worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: IDLE"}}
[debug] [2023-01-15T09:45:33.958Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 7.152209ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 7.152209ms"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'trim') {"user":"TypeError: Cannot read properties of undefined (reading 'trim')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'trim')"}}
[info] >      at exports.postOneTodo (/Users/ryanguai/DCO-Tutorial/functions/APIs/todos.js:29:24) {"user":"    at exports.postOneTodo (/Users/ryanguai/DCO-Tutorial/functions/APIs/todos.js:29:24)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at exports.postOneTodo (/Users/ryanguai/DCO-Tutorial/functions/APIs/todos.js:29:24)"}}
[info] >      at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13) {"user":"    at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13)"}}
[info] >      at Route.dispatch (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:114:3) {"user":"    at Route.dispatch (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:114:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:114:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at expressInit (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/middleware/init.js:40:5) {"user":"    at expressInit (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/middleware/init.js:40:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at expressInit (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/middleware/init.js:40:5)"}}
[info] >      at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[debug] [2023-01-15T09:48:18.096Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/todo-2023-01-15T09:48:18.095Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T09:48:18.098Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/todo-2023-01-15T09:48:18.095Z"],"workRunningCount":1}
[debug] [2023-01-15T09:48:18.098Z] Accepted request POST /todoapp-65153/us-central1/api/todo --> us-central1-api
[debug] [2023-01-15T09:48:18.101Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T09:48:18.102Z] [functions] Got req.url=/todoapp-65153/us-central1/api/todo, mapping to path=/todo {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/todo, mapping to path=/todo"}}
[debug] [2023-01-15T09:48:18.103Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T09:48:18.103Z] [worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T09:48:19.672Z] [worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: IDLE"}}
[debug] [2023-01-15T09:48:19.674Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 1551.546583ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 1551.546583ms"}}
[debug] [2023-01-15T09:50:00.630Z] File /Users/ryanguai/DCO-Tutorial/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-15T09:50:01.642Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T09:50:02.790Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T09:50:02.791Z] Building nodejs source
[debug] [2023-01-15T09:50:02.792Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T09:50:03.122Z] Serving at port 9005

[debug] [2023-01-15T09:50:03.230Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T09:50:03.240Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-01-15T09:50:03.249Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-01-15T09:50:03.250Z] [worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: FINISHING"}}
[debug] [2023-01-15T09:50:03.260Z] [worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: exited"}}
[debug] [2023-01-15T09:50:03.261Z] [worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-dd279723-a6e8-4595-82bc-7cc855d38004]: FINISHED"}}
[debug] [2023-01-15T09:50:18.158Z] File /Users/ryanguai/DCO-Tutorial/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-15T09:50:19.188Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T09:50:20.134Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T09:50:20.134Z] Building nodejs source
[debug] [2023-01-15T09:50:20.135Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T09:50:20.430Z] Serving at port 9005

[debug] [2023-01-15T09:50:20.536Z] Got response from /__/functions.yaml Failed to generate manifest from function source: Error: Route.delete() requires a callback function but got a [object Undefined]
[debug] [2023-01-15T09:50:20.537Z] Failed to parse functions.yamlincomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 56:
     ... fest from function source: Error: Route.delete() requires a call ... 
                                         ^ {"name":"YAMLException","reason":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line","mark":{"name":null,"buffer":"Failed to generate manifest from function source: Error: Route.delete() requires a callback function but got a [object Undefined]\n\u0000","position":55,"line":0,"column":55},"message":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 56:\n     ... fest from function source: Error: Route.delete() requires a call ... \n                                         ^"}
[debug] [2023-01-15T09:50:20.545Z] shutdown requested via /__/quitquitquit

[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: Error: Route.delete() requires a callback function but got a [object Undefined] {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: Error: Route.delete() requires a callback function but got a [object Undefined]"}}
[debug] [2023-01-15T09:50:36.615Z] File /Users/ryanguai/DCO-Tutorial/functions/APIs/todos.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/APIs/todos.js changed, reloading triggers"}}
[debug] [2023-01-15T09:50:37.630Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T09:50:38.550Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T09:50:38.551Z] Building nodejs source
[debug] [2023-01-15T09:50:38.552Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T09:50:38.831Z] Serving at port 9005

[debug] [2023-01-15T09:50:38.940Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T09:50:38.956Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-01-15T09:51:11.743Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/todo-2023-01-15T09:51:11.743Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T09:51:11.747Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/todo-2023-01-15T09:51:11.743Z"],"workRunningCount":1}
[debug] [2023-01-15T09:51:11.747Z] Accepted request DELETE /todoapp-65153/us-central1/api/todo --> us-central1-api
[debug] [2023-01-15T09:51:11.751Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T09:51:11.752Z] [functions] Got req.url=/todoapp-65153/us-central1/api/todo, mapping to path=/todo {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/todo, mapping to path=/todo"}}
[debug] [2023-01-15T09:51:11.753Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-01-15T09:51:11.812Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-15T09:51:11.813Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-01-15T09:51:12.870Z] [runtime-status] [84494] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84494] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T09:51:12.873Z] [runtime-status] [84494] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84494] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T09:51:12.873Z] [runtime-status] [84494] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84494] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-15T09:51:12.873Z] [runtime-status] [84494] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84494] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T09:51:12.907Z] [runtime-status] [84494] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84494] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-15T09:51:12.907Z] [runtime-status] [84494] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84494] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-15T09:51:12.909Z] [runtime-status] [84494] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84494] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T09:51:12.909Z] [runtime-status] [84494] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84494] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T09:51:12.913Z] [runtime-status] [84494] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84494] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T09:51:12.914Z] [runtime-status] [84494] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84494] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-15T09:51:12.987Z] [runtime-status] [84494] initializeApp(DEFAULT) {"storageBucket":"todoapp-65153.appspot.com","projectId":"todoapp-65153"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84494] initializeApp(DEFAULT) {\"storageBucket\":\"todoapp-65153.appspot.com\",\"projectId\":\"todoapp-65153\"}"}}
[debug] [2023-01-15T09:51:13.006Z] [runtime-status] [84494] Functions runtime initialized. {"cwd":"/Users/ryanguai/DCO-Tutorial/functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84494] Functions runtime initialized. {\"cwd\":\"/Users/ryanguai/DCO-Tutorial/functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2023-01-15T09:51:13.007Z] [runtime-status] [84494] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_2ea8bcf37532f257.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84494] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_2ea8bcf37532f257.sock"}}
[debug] [2023-01-15T09:51:13.086Z] [worker-us-central1-api-a8100b79-335a-43fc-9fdb-e5dd47e54af2]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a8100b79-335a-43fc-9fdb-e5dd47e54af2]: IDLE"}}
[debug] [2023-01-15T09:51:13.086Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T09:51:13.086Z] [worker-us-central1-api-a8100b79-335a-43fc-9fdb-e5dd47e54af2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a8100b79-335a-43fc-9fdb-e5dd47e54af2]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T09:51:13.101Z] [worker-us-central1-api-a8100b79-335a-43fc-9fdb-e5dd47e54af2]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a8100b79-335a-43fc-9fdb-e5dd47e54af2]: IDLE"}}
[debug] [2023-01-15T09:51:13.101Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 9.08525ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 9.08525ms"}}
[debug] [2023-01-15T09:51:18.754Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/todos-2023-01-15T09:51:18.754Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T09:51:18.754Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/todos-2023-01-15T09:51:18.754Z"],"workRunningCount":1}
[debug] [2023-01-15T09:51:18.755Z] Accepted request DELETE /todoapp-65153/us-central1/api/todos --> us-central1-api
[debug] [2023-01-15T09:51:18.756Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T09:51:18.760Z] [functions] Got req.url=/todoapp-65153/us-central1/api/todos, mapping to path=/todos {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/todos, mapping to path=/todos"}}
[debug] [2023-01-15T09:51:18.762Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T09:51:18.762Z] [worker-us-central1-api-a8100b79-335a-43fc-9fdb-e5dd47e54af2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a8100b79-335a-43fc-9fdb-e5dd47e54af2]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T09:51:18.785Z] [worker-us-central1-api-a8100b79-335a-43fc-9fdb-e5dd47e54af2]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a8100b79-335a-43fc-9fdb-e5dd47e54af2]: IDLE"}}
[debug] [2023-01-15T09:51:18.785Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 8.242875ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 8.242875ms"}}
[debug] [2023-01-15T09:51:23.643Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/todo-2023-01-15T09:51:23.643Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T09:51:23.645Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/todo-2023-01-15T09:51:23.643Z"],"workRunningCount":1}
[debug] [2023-01-15T09:51:23.645Z] Accepted request DELETE /todoapp-65153/us-central1/api/todo --> us-central1-api
[debug] [2023-01-15T09:51:23.647Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T09:51:23.648Z] [functions] Got req.url=/todoapp-65153/us-central1/api/todo, mapping to path=/todo {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/todo, mapping to path=/todo"}}
[debug] [2023-01-15T09:51:23.649Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T09:51:23.650Z] [worker-us-central1-api-a8100b79-335a-43fc-9fdb-e5dd47e54af2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a8100b79-335a-43fc-9fdb-e5dd47e54af2]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] i  functions: Finished "api" in 1.527834ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 1.527834ms"}}
[debug] [2023-01-15T09:51:23.664Z] [worker-us-central1-api-a8100b79-335a-43fc-9fdb-e5dd47e54af2]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a8100b79-335a-43fc-9fdb-e5dd47e54af2]: IDLE"}}
[debug] [2023-01-15T09:51:23.664Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T09:51:42.576Z] ----------------------------------------------------------------------
[debug] [2023-01-15T09:51:42.577Z] Command:       /usr/local/bin/node /Users/ryanguai/.npm-global/bin/firebase serve
[debug] [2023-01-15T09:51:42.578Z] CLI Version:   11.20.0
[debug] [2023-01-15T09:51:42.579Z] Platform:      darwin
[debug] [2023-01-15T09:51:42.579Z] Node Version:  v16.13.0
[debug] [2023-01-15T09:51:42.583Z] Time:          Sun Jan 15 2023 17:51:42 GMT+0800 (Singapore Standard Time)
[debug] [2023-01-15T09:51:42.584Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-01-15T09:51:42.681Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-01-15T09:51:42.683Z] > authorizing via signed-in user (e0694442@u.nus.edu)
[debug] [2023-01-15T09:51:42.683Z] [iam] checking project todoapp-65153 for permissions ["firebase.projects.get"]
[debug] [2023-01-15T09:51:42.685Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions [none]
[debug] [2023-01-15T09:51:42.687Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions x-goog-quota-user=projects/todoapp-65153
[debug] [2023-01-15T09:51:42.687Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-01-15T09:51:42.996Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions 200
[debug] [2023-01-15T09:51:43.000Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-01-15T09:51:43.006Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 [none]
[debug] [2023-01-15T09:51:43.566Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 200
[debug] [2023-01-15T09:51:43.569Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 {"projectId":"todoapp-65153","projectNumber":"171978637376","displayName":"TodoApp","name":"projects/todoapp-65153","resources":{"hostingSite":"todoapp-65153"},"state":"ACTIVE","etag":"1_0db5b273-f110-4f41-bfe1-d0cd548786a7"}
[info] 
[info] === Serving from '/Users/ryanguai/DCO-Tutorial'...
[info] 
[info] ✔  functions: Using node@16 from host. {"metadata":{"emulator":{"name":"functions"},"message":"Using node@16 from host."}}
[debug] [2023-01-15T09:51:43.609Z] defaultcredentials: writing to file /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json
[debug] [2023-01-15T09:51:43.612Z] Setting GAC to /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json"}}
[debug] [2023-01-15T09:51:43.614Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig [none]
[debug] [2023-01-15T09:51:44.046Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig 200
[debug] [2023-01-15T09:51:44.048Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig {"projectId":"todoapp-65153","storageBucket":"todoapp-65153.appspot.com"}
[info] i  functions: Watching "/Users/ryanguai/DCO-Tutorial/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/ryanguai/DCO-Tutorial/functions\" for Cloud Functions..."}}
[debug] [2023-01-15T09:51:44.116Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T09:51:44.965Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T09:51:44.965Z] Building nodejs source
[debug] [2023-01-15T09:51:44.968Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T09:51:45.276Z] Serving at port 9005

[debug] [2023-01-15T09:51:45.377Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T09:51:45.390Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions[us-central1-api]: http function initialized (http://localhost:5000/todoapp-65153/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5000/todoapp-65153/us-central1/api)."}}
[debug] [2023-01-15T09:51:51.267Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api-2023-01-15T09:51:51.267Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T09:51:51.281Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api-2023-01-15T09:51:51.267Z"],"workRunningCount":1}
[debug] [2023-01-15T09:51:51.283Z] Accepted request GET /todoapp-65153/us-central1/api --> us-central1-api
[debug] [2023-01-15T09:51:51.293Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T09:51:51.294Z] [functions] Got req.url=/todoapp-65153/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api, mapping to path=/"}}
[debug] [2023-01-15T09:51:51.346Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-15T09:51:51.347Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-01-15T09:51:52.848Z] [runtime-status] [84519] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84519] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T09:51:52.853Z] [runtime-status] [84519] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84519] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T09:51:52.854Z] [runtime-status] [84519] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84519] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-15T09:51:52.854Z] [runtime-status] [84519] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84519] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T09:51:52.897Z] [runtime-status] [84519] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84519] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-15T09:51:52.897Z] [runtime-status] [84519] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84519] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-15T09:51:52.898Z] [runtime-status] [84519] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84519] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T09:51:52.899Z] [runtime-status] [84519] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84519] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T09:51:52.902Z] [runtime-status] [84519] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84519] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T09:51:52.902Z] [runtime-status] [84519] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84519] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-15T09:51:52.998Z] [runtime-status] [84519] initializeApp(DEFAULT) {"storageBucket":"todoapp-65153.appspot.com","projectId":"todoapp-65153"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84519] initializeApp(DEFAULT) {\"storageBucket\":\"todoapp-65153.appspot.com\",\"projectId\":\"todoapp-65153\"}"}}
[warn] ⚠  functions: The Cloud Firestore emulator is not running, so calls to Firestore will affect production. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"The Cloud Firestore emulator is not running, so calls to Firestore will affect production."}}
[debug] [2023-01-15T09:51:53.016Z] [runtime-status] [84519] Functions runtime initialized. {"cwd":"/Users/ryanguai/DCO-Tutorial/functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84519] Functions runtime initialized. {\"cwd\":\"/Users/ryanguai/DCO-Tutorial/functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2023-01-15T09:51:53.017Z] [runtime-status] [84519] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_3d414938a0673f56.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84519] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_3d414938a0673f56.sock"}}
[debug] [2023-01-15T09:51:53.112Z] [worker-us-central1-api-06e8e0cb-4495-4726-a5d1-6b9c1b238a27]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-06e8e0cb-4495-4726-a5d1-6b9c1b238a27]: IDLE"}}
[debug] [2023-01-15T09:51:53.113Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T09:51:53.113Z] [worker-us-central1-api-06e8e0cb-4495-4726-a5d1-6b9c1b238a27]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-06e8e0cb-4495-4726-a5d1-6b9c1b238a27]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T09:51:53.129Z] [worker-us-central1-api-06e8e0cb-4495-4726-a5d1-6b9c1b238a27]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-06e8e0cb-4495-4726-a5d1-6b9c1b238a27]: IDLE"}}
[debug] [2023-01-15T09:51:53.129Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 3.557958ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 3.557958ms"}}
[debug] [2023-01-15T09:51:55.984Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/todos-2023-01-15T09:51:55.984Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T09:51:55.984Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/todos-2023-01-15T09:51:55.984Z"],"workRunningCount":1}
[debug] [2023-01-15T09:51:55.984Z] Accepted request GET /todoapp-65153/us-central1/api/todos --> us-central1-api
[debug] [2023-01-15T09:51:55.990Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T09:51:55.991Z] [functions] Got req.url=/todoapp-65153/us-central1/api/todos, mapping to path=/todos {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/todos, mapping to path=/todos"}}
[debug] [2023-01-15T09:51:55.991Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T09:51:55.992Z] [worker-us-central1-api-06e8e0cb-4495-4726-a5d1-6b9c1b238a27]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-06e8e0cb-4495-4726-a5d1-6b9c1b238a27]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-15T09:51:57.956Z] [worker-us-central1-api-06e8e0cb-4495-4726-a5d1-6b9c1b238a27]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-06e8e0cb-4495-4726-a5d1-6b9c1b238a27]: IDLE"}}
[debug] [2023-01-15T09:51:57.956Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 1950.9292500000001ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 1950.9292500000001ms"}}
[debug] [2023-01-15T09:52:07.780Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/todo-2023-01-15T09:52:07.779Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T09:52:07.781Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/todo-2023-01-15T09:52:07.779Z"],"workRunningCount":1}
[debug] [2023-01-15T09:52:07.781Z] Accepted request DELETE /todoapp-65153/us-central1/api/todo --> us-central1-api
[debug] [2023-01-15T09:52:07.784Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T09:52:07.786Z] [functions] Got req.url=/todoapp-65153/us-central1/api/todo, mapping to path=/todo {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/todo, mapping to path=/todo"}}
[debug] [2023-01-15T09:52:07.787Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T09:52:07.787Z] [worker-us-central1-api-06e8e0cb-4495-4726-a5d1-6b9c1b238a27]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-06e8e0cb-4495-4726-a5d1-6b9c1b238a27]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T09:52:07.810Z] [worker-us-central1-api-06e8e0cb-4495-4726-a5d1-6b9c1b238a27]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-06e8e0cb-4495-4726-a5d1-6b9c1b238a27]: IDLE"}}
[debug] [2023-01-15T09:52:07.811Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 4.73225ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 4.73225ms"}}
[debug] [2023-01-15T09:52:10.981Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/todos-2023-01-15T09:52:10.981Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T09:52:10.984Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/todos-2023-01-15T09:52:10.981Z"],"workRunningCount":1}
[debug] [2023-01-15T09:52:10.984Z] Accepted request DELETE /todoapp-65153/us-central1/api/todos --> us-central1-api
[debug] [2023-01-15T09:52:10.986Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T09:52:10.987Z] [functions] Got req.url=/todoapp-65153/us-central1/api/todos, mapping to path=/todos {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/todos, mapping to path=/todos"}}
[debug] [2023-01-15T09:52:10.987Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T09:52:10.988Z] [worker-us-central1-api-06e8e0cb-4495-4726-a5d1-6b9c1b238a27]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-06e8e0cb-4495-4726-a5d1-6b9c1b238a27]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T09:52:10.998Z] [worker-us-central1-api-06e8e0cb-4495-4726-a5d1-6b9c1b238a27]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-06e8e0cb-4495-4726-a5d1-6b9c1b238a27]: IDLE"}}
[debug] [2023-01-15T09:52:11.000Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 2.941ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 2.941ms"}}
[debug] [2023-01-15T09:52:46.575Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/todo/RgtnOROBjTnc6GRz2n4t-2023-01-15T09:52:46.574Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T09:52:46.576Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/todo/RgtnOROBjTnc6GRz2n4t-2023-01-15T09:52:46.574Z"],"workRunningCount":1}
[debug] [2023-01-15T09:52:46.577Z] Accepted request DELETE /todoapp-65153/us-central1/api/todo/RgtnOROBjTnc6GRz2n4t --> us-central1-api
[debug] [2023-01-15T09:52:46.579Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T09:52:46.580Z] [functions] Got req.url=/todoapp-65153/us-central1/api/todo/RgtnOROBjTnc6GRz2n4t, mapping to path=/todo/RgtnOROBjTnc6GRz2n4t {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/todo/RgtnOROBjTnc6GRz2n4t, mapping to path=/todo/RgtnOROBjTnc6GRz2n4t"}}
[debug] [2023-01-15T09:52:46.580Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T09:52:46.580Z] [worker-us-central1-api-06e8e0cb-4495-4726-a5d1-6b9c1b238a27]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-06e8e0cb-4495-4726-a5d1-6b9c1b238a27]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T09:52:48.009Z] [worker-us-central1-api-06e8e0cb-4495-4726-a5d1-6b9c1b238a27]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-06e8e0cb-4495-4726-a5d1-6b9c1b238a27]: IDLE"}}
[debug] [2023-01-15T09:52:48.009Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 1415.923542ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 1415.923542ms"}}
[debug] [2023-01-15T09:52:50.892Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/todos-2023-01-15T09:52:50.891Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T09:52:50.893Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/todos-2023-01-15T09:52:50.891Z"],"workRunningCount":1}
[debug] [2023-01-15T09:52:50.893Z] Accepted request GET /todoapp-65153/us-central1/api/todos --> us-central1-api
[debug] [2023-01-15T09:52:50.894Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T09:52:50.895Z] [functions] Got req.url=/todoapp-65153/us-central1/api/todos, mapping to path=/todos {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/todos, mapping to path=/todos"}}
[debug] [2023-01-15T09:52:50.896Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T09:52:50.896Z] [worker-us-central1-api-06e8e0cb-4495-4726-a5d1-6b9c1b238a27]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-06e8e0cb-4495-4726-a5d1-6b9c1b238a27]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T09:52:51.200Z] [worker-us-central1-api-06e8e0cb-4495-4726-a5d1-6b9c1b238a27]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-06e8e0cb-4495-4726-a5d1-6b9c1b238a27]: IDLE"}}
[debug] [2023-01-15T09:52:51.203Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 296.756709ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 296.756709ms"}}
[debug] [2023-01-15T09:53:18.633Z] File /Users/ryanguai/DCO-Tutorial/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-15T09:53:19.653Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T09:53:20.572Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T09:53:20.572Z] Building nodejs source
[debug] [2023-01-15T09:53:20.572Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T09:53:20.864Z] Serving at port 9005

[debug] [2023-01-15T09:53:20.968Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T09:53:20.976Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-01-15T09:53:20.988Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-01-15T09:53:20.988Z] [worker-us-central1-api-06e8e0cb-4495-4726-a5d1-6b9c1b238a27]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-06e8e0cb-4495-4726-a5d1-6b9c1b238a27]: FINISHING"}}
[debug] [2023-01-15T09:53:20.999Z] [worker-us-central1-api-06e8e0cb-4495-4726-a5d1-6b9c1b238a27]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-06e8e0cb-4495-4726-a5d1-6b9c1b238a27]: exited"}}
[debug] [2023-01-15T09:53:20.999Z] [worker-us-central1-api-06e8e0cb-4495-4726-a5d1-6b9c1b238a27]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-06e8e0cb-4495-4726-a5d1-6b9c1b238a27]: FINISHED"}}
[debug] [2023-01-15T09:53:34.612Z] File /Users/ryanguai/DCO-Tutorial/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-15T09:53:35.626Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T09:53:36.460Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T09:53:36.461Z] Building nodejs source
[debug] [2023-01-15T09:53:36.462Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T09:53:36.776Z] Serving at port 9005

[debug] [2023-01-15T09:53:36.890Z] Got response from /__/functions.yaml Failed to generate manifest from function source: Error: Route.put() requires a callback function but got a [object Undefined]
[debug] [2023-01-15T09:53:36.896Z] Failed to parse functions.yamlincomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 56:
     ... fest from function source: Error: Route.put() requires a callbac ... 
                                         ^ {"name":"YAMLException","reason":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line","mark":{"name":null,"buffer":"Failed to generate manifest from function source: Error: Route.put() requires a callback function but got a [object Undefined]\n\u0000","position":55,"line":0,"column":55},"message":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 56:\n     ... fest from function source: Error: Route.put() requires a callbac ... \n                                         ^"}
[debug] [2023-01-15T09:53:36.912Z] shutdown requested via /__/quitquitquit

[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: Error: Route.put() requires a callback function but got a [object Undefined] {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: Error: Route.put() requires a callback function but got a [object Undefined]"}}
[debug] [2023-01-15T09:54:00.184Z] File /Users/ryanguai/DCO-Tutorial/functions/APIs/todos.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/APIs/todos.js changed, reloading triggers"}}
[debug] [2023-01-15T09:54:01.211Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T09:54:02.103Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T09:54:02.104Z] Building nodejs source
[debug] [2023-01-15T09:54:02.105Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T09:54:02.415Z] Serving at port 9005

[debug] [2023-01-15T09:54:02.535Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T09:54:02.545Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-01-15T09:54:53.002Z] ----------------------------------------------------------------------
[debug] [2023-01-15T09:54:53.004Z] Command:       /usr/local/bin/node /Users/ryanguai/.npm-global/bin/firebase serve
[debug] [2023-01-15T09:54:53.005Z] CLI Version:   11.20.0
[debug] [2023-01-15T09:54:53.005Z] Platform:      darwin
[debug] [2023-01-15T09:54:53.005Z] Node Version:  v16.13.0
[debug] [2023-01-15T09:54:53.007Z] Time:          Sun Jan 15 2023 17:54:53 GMT+0800 (Singapore Standard Time)
[debug] [2023-01-15T09:54:53.008Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-01-15T09:54:53.102Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-01-15T09:54:53.103Z] > authorizing via signed-in user (e0694442@u.nus.edu)
[debug] [2023-01-15T09:54:53.104Z] [iam] checking project todoapp-65153 for permissions ["firebase.projects.get"]
[debug] [2023-01-15T09:54:53.106Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions [none]
[debug] [2023-01-15T09:54:53.107Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions x-goog-quota-user=projects/todoapp-65153
[debug] [2023-01-15T09:54:53.108Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-01-15T09:54:53.623Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions 200
[debug] [2023-01-15T09:54:53.628Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-01-15T09:54:53.632Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 [none]
[debug] [2023-01-15T09:54:54.212Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 200
[debug] [2023-01-15T09:54:54.214Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 {"projectId":"todoapp-65153","projectNumber":"171978637376","displayName":"TodoApp","name":"projects/todoapp-65153","resources":{"hostingSite":"todoapp-65153"},"state":"ACTIVE","etag":"1_0db5b273-f110-4f41-bfe1-d0cd548786a7"}
[info] 
[info] === Serving from '/Users/ryanguai/DCO-Tutorial'...
[info] 
[info] ✔  functions: Using node@16 from host. {"metadata":{"emulator":{"name":"functions"},"message":"Using node@16 from host."}}
[debug] [2023-01-15T09:54:54.252Z] defaultcredentials: writing to file /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json
[debug] [2023-01-15T09:54:54.254Z] Setting GAC to /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json"}}
[debug] [2023-01-15T09:54:54.257Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig [none]
[debug] [2023-01-15T09:54:54.830Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig 200
[debug] [2023-01-15T09:54:54.832Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig {"projectId":"todoapp-65153","storageBucket":"todoapp-65153.appspot.com"}
[info] i  functions: Watching "/Users/ryanguai/DCO-Tutorial/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/ryanguai/DCO-Tutorial/functions\" for Cloud Functions..."}}
[debug] [2023-01-15T09:54:54.899Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T09:54:55.761Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T09:54:55.762Z] Building nodejs source
[debug] [2023-01-15T09:54:55.764Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T09:54:56.063Z] Serving at port 9005

[debug] [2023-01-15T09:54:56.162Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T09:54:56.175Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions[us-central1-api]: http function initialized (http://localhost:5000/todoapp-65153/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5000/todoapp-65153/us-central1/api)."}}
[debug] [2023-01-15T09:54:58.683Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api-2023-01-15T09:54:58.683Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T09:54:58.684Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api-2023-01-15T09:54:58.683Z"],"workRunningCount":1}
[debug] [2023-01-15T09:54:58.685Z] Accepted request GET /todoapp-65153/us-central1/api --> us-central1-api
[debug] [2023-01-15T09:54:58.693Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T09:54:58.694Z] [functions] Got req.url=/todoapp-65153/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api, mapping to path=/"}}
[debug] [2023-01-15T09:54:58.760Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-15T09:54:58.761Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-01-15T09:55:00.257Z] [runtime-status] [84573] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84573] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T09:55:00.259Z] [runtime-status] [84573] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84573] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T09:55:00.259Z] [runtime-status] [84573] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84573] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-15T09:55:00.260Z] [runtime-status] [84573] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84573] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T09:55:00.291Z] [runtime-status] [84573] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84573] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-15T09:55:00.292Z] [runtime-status] [84573] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84573] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-15T09:55:00.296Z] [runtime-status] [84573] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84573] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T09:55:00.297Z] [runtime-status] [84573] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84573] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T09:55:00.299Z] [runtime-status] [84573] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84573] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T09:55:00.301Z] [runtime-status] [84573] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84573] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-15T09:55:00.363Z] [runtime-status] [84573] initializeApp(DEFAULT) {"storageBucket":"todoapp-65153.appspot.com","projectId":"todoapp-65153"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84573] initializeApp(DEFAULT) {\"storageBucket\":\"todoapp-65153.appspot.com\",\"projectId\":\"todoapp-65153\"}"}}
[warn] ⚠  functions: The Cloud Firestore emulator is not running, so calls to Firestore will affect production. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"The Cloud Firestore emulator is not running, so calls to Firestore will affect production."}}
[debug] [2023-01-15T09:55:00.385Z] [runtime-status] [84573] Functions runtime initialized. {"cwd":"/Users/ryanguai/DCO-Tutorial/functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84573] Functions runtime initialized. {\"cwd\":\"/Users/ryanguai/DCO-Tutorial/functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2023-01-15T09:55:00.387Z] [runtime-status] [84573] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_c7f96a6e4b8d9584.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [84573] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_c7f96a6e4b8d9584.sock"}}
[debug] [2023-01-15T09:55:00.401Z] [worker-us-central1-api-681d9132-fca6-450f-bcc2-691061c6ccc8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-681d9132-fca6-450f-bcc2-691061c6ccc8]: IDLE"}}
[debug] [2023-01-15T09:55:00.407Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T09:55:00.407Z] [worker-us-central1-api-681d9132-fca6-450f-bcc2-691061c6ccc8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-681d9132-fca6-450f-bcc2-691061c6ccc8]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T09:55:00.425Z] [worker-us-central1-api-681d9132-fca6-450f-bcc2-691061c6ccc8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-681d9132-fca6-450f-bcc2-691061c6ccc8]: IDLE"}}
[debug] [2023-01-15T09:55:00.433Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 4.44275ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 4.44275ms"}}
[debug] [2023-01-15T09:55:03.189Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/todo-2023-01-15T09:55:03.188Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T09:55:03.199Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/todo-2023-01-15T09:55:03.188Z"],"workRunningCount":1}
[debug] [2023-01-15T09:55:03.202Z] Accepted request GET /todoapp-65153/us-central1/api/todo --> us-central1-api
[debug] [2023-01-15T09:55:03.205Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T09:55:03.207Z] [functions] Got req.url=/todoapp-65153/us-central1/api/todo, mapping to path=/todo {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/todo, mapping to path=/todo"}}
[debug] [2023-01-15T09:55:03.207Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T09:55:03.207Z] [worker-us-central1-api-681d9132-fca6-450f-bcc2-691061c6ccc8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-681d9132-fca6-450f-bcc2-691061c6ccc8]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T09:55:03.231Z] [worker-us-central1-api-681d9132-fca6-450f-bcc2-691061c6ccc8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-681d9132-fca6-450f-bcc2-691061c6ccc8]: IDLE"}}
[debug] [2023-01-15T09:55:03.232Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 6.43575ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 6.43575ms"}}
[debug] [2023-01-15T09:55:06.040Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/todos-2023-01-15T09:55:06.040Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T09:55:06.041Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/todos-2023-01-15T09:55:06.040Z"],"workRunningCount":1}
[debug] [2023-01-15T09:55:06.041Z] Accepted request GET /todoapp-65153/us-central1/api/todos --> us-central1-api
[debug] [2023-01-15T09:55:06.042Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T09:55:06.043Z] [functions] Got req.url=/todoapp-65153/us-central1/api/todos, mapping to path=/todos {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/todos, mapping to path=/todos"}}
[debug] [2023-01-15T09:55:06.044Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T09:55:06.044Z] [worker-us-central1-api-681d9132-fca6-450f-bcc2-691061c6ccc8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-681d9132-fca6-450f-bcc2-691061c6ccc8]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-15T09:55:08.077Z] [worker-us-central1-api-681d9132-fca6-450f-bcc2-691061c6ccc8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-681d9132-fca6-450f-bcc2-691061c6ccc8]: IDLE"}}
[debug] [2023-01-15T09:55:08.078Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 2022.007959ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 2022.007959ms"}}
[debug] [2023-01-15T09:55:26.954Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/todo/RgtnOROBjTnc6GRz2n4t-2023-01-15T09:55:26.954Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T09:55:26.957Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/todo/RgtnOROBjTnc6GRz2n4t-2023-01-15T09:55:26.954Z"],"workRunningCount":1}
[debug] [2023-01-15T09:55:26.957Z] Accepted request PUT /todoapp-65153/us-central1/api/todo/RgtnOROBjTnc6GRz2n4t --> us-central1-api
[debug] [2023-01-15T09:55:26.960Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T09:55:26.960Z] [functions] Got req.url=/todoapp-65153/us-central1/api/todo/RgtnOROBjTnc6GRz2n4t, mapping to path=/todo/RgtnOROBjTnc6GRz2n4t {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/todo/RgtnOROBjTnc6GRz2n4t, mapping to path=/todo/RgtnOROBjTnc6GRz2n4t"}}
[debug] [2023-01-15T09:55:26.961Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T09:55:26.961Z] [worker-us-central1-api-681d9132-fca6-450f-bcc2-691061c6ccc8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-681d9132-fca6-450f-bcc2-691061c6ccc8]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T09:55:26.990Z] [worker-us-central1-api-681d9132-fca6-450f-bcc2-691061c6ccc8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-681d9132-fca6-450f-bcc2-691061c6ccc8]: IDLE"}}
[debug] [2023-01-15T09:55:26.990Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 8.493084ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 8.493084ms"}}
[info] >  Error: Update() requires either a single JavaScript object or an alternating list of field/value pairs that can be followed by an optional precondition. At least one field must be updated. {"user":"Error: Update() requires either a single JavaScript object or an alternating list of field/value pairs that can be followed by an optional precondition. At least one field must be updated.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: Update() requires either a single JavaScript object or an alternating list of field/value pairs that can be followed by an optional precondition. At least one field must be updated."}}
[info] >      at WriteBatch.update (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/write-batch.js:378:23) {"user":"    at WriteBatch.update (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/write-batch.js:378:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at WriteBatch.update (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/write-batch.js:378:23)"}}
[info] >      at DocumentReference.update (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/reference.js:392:14) {"user":"    at DocumentReference.update (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/reference.js:392:14)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at DocumentReference.update (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/reference.js:392:14)"}}
[info] >      at exports.editTodo (/Users/ryanguai/DCO-Tutorial/functions/APIs/todos.js:80:14) {"user":"    at exports.editTodo (/Users/ryanguai/DCO-Tutorial/functions/APIs/todos.js:80:14)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at exports.editTodo (/Users/ryanguai/DCO-Tutorial/functions/APIs/todos.js:80:14)"}}
[info] >      at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13) {"user":"    at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13)"}}
[info] >      at Route.dispatch (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:114:3) {"user":"    at Route.dispatch (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:114:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:114:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at param (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:365:14) {"user":"    at param (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:365:14)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at param (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:365:14)"}}
[info] >      at param (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:376:14) {"user":"    at param (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:376:14)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at param (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:376:14)"}}
[debug] [2023-01-15T09:56:02.831Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/todo/RgtnOROBjTnc6GRz2n4t-2023-01-15T09:56:02.830Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T09:56:02.833Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/todo/RgtnOROBjTnc6GRz2n4t-2023-01-15T09:56:02.830Z"],"workRunningCount":1}
[debug] [2023-01-15T09:56:02.833Z] Accepted request PUT /todoapp-65153/us-central1/api/todo/RgtnOROBjTnc6GRz2n4t --> us-central1-api
[debug] [2023-01-15T09:56:02.836Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T09:56:02.837Z] [functions] Got req.url=/todoapp-65153/us-central1/api/todo/RgtnOROBjTnc6GRz2n4t, mapping to path=/todo/RgtnOROBjTnc6GRz2n4t {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/todo/RgtnOROBjTnc6GRz2n4t, mapping to path=/todo/RgtnOROBjTnc6GRz2n4t"}}
[debug] [2023-01-15T09:56:02.838Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T09:56:02.838Z] [worker-us-central1-api-681d9132-fca6-450f-bcc2-691061c6ccc8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-681d9132-fca6-450f-bcc2-691061c6ccc8]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] >  Error: 5 NOT_FOUND: No document to update: projects/todoapp-65153/databases/(default)/documents/todos/RgtnOROBjTnc6GRz2n4t {"user":"Error: 5 NOT_FOUND: No document to update: projects/todoapp-65153/databases/(default)/documents/todos/RgtnOROBjTnc6GRz2n4t","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: 5 NOT_FOUND: No document to update: projects/todoapp-65153/databases/(default)/documents/todos/RgtnOROBjTnc6GRz2n4t"}}
[info] >      at Object.callErrorFromStatus (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/call.js:31:19) {"user":"    at Object.callErrorFromStatus (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/call.js:31:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Object.callErrorFromStatus (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/call.js:31:19)"}}
[info] >      at Object.onReceiveStatus (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/client.js:190:52) {"user":"    at Object.onReceiveStatus (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/client.js:190:52)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Object.onReceiveStatus (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/client.js:190:52)"}}
[info] >      at Object.onReceiveStatus (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:365:141) {"user":"    at Object.onReceiveStatus (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:365:141)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Object.onReceiveStatus (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:365:141)"}}
[info] >      at Object.onReceiveStatus (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:328:181) {"user":"    at Object.onReceiveStatus (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:328:181)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Object.onReceiveStatus (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:328:181)"}}
[info] >      at /Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/call-stream.js:188:78 {"user":"    at /Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/call-stream.js:188:78","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/call-stream.js:188:78"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:78:11) {"user":"    at processTicksAndRejections (node:internal/process/task_queues:78:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:78:11)"}}
[info] >  for call at {"user":"for call at","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m for call at"}}
[info] >      at ServiceClientImpl.makeUnaryRequest (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/client.js:160:30) {"user":"    at ServiceClientImpl.makeUnaryRequest (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/client.js:160:30)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServiceClientImpl.makeUnaryRequest (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/client.js:160:30)"}}
[info] >      at ServiceClientImpl.<anonymous> (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19) {"user":"    at ServiceClientImpl.<anonymous> (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServiceClientImpl.<anonymous> (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)"}}
[info] >      at /Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:205:29 {"user":"    at /Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:205:29","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:205:29"}}
[info] >      at /Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16 {"user":"    at /Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16"}}
[info] >      at repeat (/Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/normalCalls/retries.js:80:25) {"user":"    at repeat (/Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/normalCalls/retries.js:80:25)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at repeat (/Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/normalCalls/retries.js:80:25)"}}
[info] >      at /Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/normalCalls/retries.js:118:13 {"user":"    at /Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/normalCalls/retries.js:118:13","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/normalCalls/retries.js:118:13"}}
[info] >      at OngoingCallPromise.call (/Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/call.js:67:27) {"user":"    at OngoingCallPromise.call (/Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/call.js:67:27)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at OngoingCallPromise.call (/Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/call.js:67:27)"}}
[info] >      at NormalApiCaller.call (/Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19) {"user":"    at NormalApiCaller.call (/Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at NormalApiCaller.call (/Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19)"}}
[info] >      at /Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/createApiCall.js:81:30 {"user":"    at /Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/createApiCall.js:81:30","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/createApiCall.js:81:30"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5)"}}
[info] >  Caused by: Error {"user":"Caused by: Error","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Caused by: Error"}}
[info] >      at WriteBatch.commit (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/write-batch.js:417:23) {"user":"    at WriteBatch.commit (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/write-batch.js:417:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at WriteBatch.commit (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/write-batch.js:417:23)"}}
[info] >      at DocumentReference.update (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/reference.js:393:14) {"user":"    at DocumentReference.update (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/reference.js:393:14)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at DocumentReference.update (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/reference.js:393:14)"}}
[info] >      at exports.editTodo (/Users/ryanguai/DCO-Tutorial/functions/APIs/todos.js:80:14) {"user":"    at exports.editTodo (/Users/ryanguai/DCO-Tutorial/functions/APIs/todos.js:80:14)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at exports.editTodo (/Users/ryanguai/DCO-Tutorial/functions/APIs/todos.js:80:14)"}}
[info] >      at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13) {"user":"    at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13)"}}
[info] >      at Route.dispatch (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:114:3) {"user":"    at Route.dispatch (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:114:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:114:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at param (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:365:14) {"user":"    at param (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:365:14)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at param (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:365:14)"}}
[info] >      at param (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:376:14) { {"user":"    at param (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:376:14) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at param (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/index.js:376:14) {"}}
[info] >    code: 5, {"user":"  code: 5,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 5,"}}
[info] >    details: 'No document to update: projects/todoapp-65153/databases/(default)/documents/todos/RgtnOROBjTnc6GRz2n4t', {"user":"  details: 'No document to update: projects/todoapp-65153/databases/(default)/documents/todos/RgtnOROBjTnc6GRz2n4t',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   details: 'No document to update: projects/todoapp-65153/databases/(default)/documents/todos/RgtnOROBjTnc6GRz2n4t',"}}
[info] >    metadata: Metadata { internalRepr: Map(0) {}, options: {} }, {"user":"  metadata: Metadata { internalRepr: Map(0) {}, options: {} },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   metadata: Metadata { internalRepr: Map(0) {}, options: {} },"}}
[info] >    note: 'Exception occurred in retry method that was not classified as transient' {"user":"  note: 'Exception occurred in retry method that was not classified as transient'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   note: 'Exception occurred in retry method that was not classified as transient'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-01-15T09:56:03.312Z] [worker-us-central1-api-681d9132-fca6-450f-bcc2-691061c6ccc8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-681d9132-fca6-450f-bcc2-691061c6ccc8]: IDLE"}}
[debug] [2023-01-15T09:56:03.313Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 378.407959ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 378.407959ms"}}
[debug] [2023-01-15T09:56:28.120Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/todo/mi1oJ5F4CbgDv1Y4E9Wc-2023-01-15T09:56:28.120Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T09:56:28.120Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/todo/mi1oJ5F4CbgDv1Y4E9Wc-2023-01-15T09:56:28.120Z"],"workRunningCount":1}
[debug] [2023-01-15T09:56:28.120Z] Accepted request PUT /todoapp-65153/us-central1/api/todo/mi1oJ5F4CbgDv1Y4E9Wc --> us-central1-api
[debug] [2023-01-15T09:56:28.122Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T09:56:28.122Z] [functions] Got req.url=/todoapp-65153/us-central1/api/todo/mi1oJ5F4CbgDv1Y4E9Wc, mapping to path=/todo/mi1oJ5F4CbgDv1Y4E9Wc {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/todo/mi1oJ5F4CbgDv1Y4E9Wc, mapping to path=/todo/mi1oJ5F4CbgDv1Y4E9Wc"}}
[debug] [2023-01-15T09:56:28.122Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T09:56:28.122Z] [worker-us-central1-api-681d9132-fca6-450f-bcc2-691061c6ccc8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-681d9132-fca6-450f-bcc2-691061c6ccc8]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T09:56:28.537Z] [worker-us-central1-api-681d9132-fca6-450f-bcc2-691061c6ccc8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-681d9132-fca6-450f-bcc2-691061c6ccc8]: IDLE"}}
[debug] [2023-01-15T09:56:28.537Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 398.68175ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 398.68175ms"}}
[debug] [2023-01-15T09:56:31.312Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/todos-2023-01-15T09:56:31.312Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T09:56:31.313Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/todos-2023-01-15T09:56:31.312Z"],"workRunningCount":1}
[debug] [2023-01-15T09:56:31.313Z] Accepted request GET /todoapp-65153/us-central1/api/todos --> us-central1-api
[debug] [2023-01-15T09:56:31.315Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T09:56:31.315Z] [functions] Got req.url=/todoapp-65153/us-central1/api/todos, mapping to path=/todos {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/todos, mapping to path=/todos"}}
[debug] [2023-01-15T09:56:31.316Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T09:56:31.318Z] [worker-us-central1-api-681d9132-fca6-450f-bcc2-691061c6ccc8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-681d9132-fca6-450f-bcc2-691061c6ccc8]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T09:56:31.706Z] [worker-us-central1-api-681d9132-fca6-450f-bcc2-691061c6ccc8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-681d9132-fca6-450f-bcc2-691061c6ccc8]: IDLE"}}
[debug] [2023-01-15T09:56:31.707Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 376.382ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 376.382ms"}}
[debug] [2023-01-15T10:23:18.124Z] ----------------------------------------------------------------------
[debug] [2023-01-15T10:23:18.126Z] Command:       /usr/local/bin/node /Users/ryanguai/.npm-global/bin/firebase serve
[debug] [2023-01-15T10:23:18.127Z] CLI Version:   11.20.0
[debug] [2023-01-15T10:23:18.127Z] Platform:      darwin
[debug] [2023-01-15T10:23:18.127Z] Node Version:  v16.13.0
[debug] [2023-01-15T10:23:18.131Z] Time:          Sun Jan 15 2023 18:23:18 GMT+0800 (Singapore Standard Time)
[debug] [2023-01-15T10:23:18.132Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-01-15T10:23:18.232Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-01-15T10:23:18.233Z] > authorizing via signed-in user (e0694442@u.nus.edu)
[debug] [2023-01-15T10:23:18.234Z] [iam] checking project todoapp-65153 for permissions ["firebase.projects.get"]
[debug] [2023-01-15T10:23:18.236Z] > refreshing access token with scopes: []
[debug] [2023-01-15T10:23:18.238Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2023-01-15T10:23:18.239Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-01-15T10:23:18.416Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2023-01-15T10:23:18.419Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-01-15T10:23:18.463Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions [none]
[debug] [2023-01-15T10:23:18.464Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions x-goog-quota-user=projects/todoapp-65153
[debug] [2023-01-15T10:23:18.465Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-01-15T10:23:19.550Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions 200
[debug] [2023-01-15T10:23:19.554Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-01-15T10:23:19.557Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 [none]
[debug] [2023-01-15T10:23:20.165Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 200
[debug] [2023-01-15T10:23:20.167Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 {"projectId":"todoapp-65153","projectNumber":"171978637376","displayName":"TodoApp","name":"projects/todoapp-65153","resources":{"hostingSite":"todoapp-65153"},"state":"ACTIVE","etag":"1_5bd77694-3c44-44ba-8128-cf1116539f14"}
[info] 
[info] === Serving from '/Users/ryanguai/DCO-Tutorial'...
[info] 
[info] ✔  functions: Using node@16 from host. {"metadata":{"emulator":{"name":"functions"},"message":"Using node@16 from host."}}
[debug] [2023-01-15T10:23:20.209Z] defaultcredentials: writing to file /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json
[debug] [2023-01-15T10:23:20.212Z] Setting GAC to /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json"}}
[debug] [2023-01-15T10:23:20.215Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig [none]
[debug] [2023-01-15T10:23:20.527Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig 200
[debug] [2023-01-15T10:23:20.529Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig {"projectId":"todoapp-65153","storageBucket":"todoapp-65153.appspot.com"}
[info] i  functions: Watching "/Users/ryanguai/DCO-Tutorial/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/ryanguai/DCO-Tutorial/functions\" for Cloud Functions..."}}
[debug] [2023-01-15T10:23:20.595Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T10:23:21.589Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T10:23:21.589Z] Building nodejs source
[debug] [2023-01-15T10:23:21.593Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T10:23:21.911Z] Serving at port 9005

[debug] [2023-01-15T10:23:22.027Z] Got response from /__/functions.yaml Failed to generate manifest from function source: Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: No "exports" main defined in /Users/ryanguai/node_modules/firebase/package.json
[debug] [2023-01-15T10:23:22.030Z] Failed to parse functions.yamlincomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 88:
     ...  [ERR_PACKAGE_PATH_NOT_EXPORTED]: No "exports" main defined in / ... 
                                         ^ {"name":"YAMLException","reason":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line","mark":{"name":null,"buffer":"Failed to generate manifest from function source: Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: No \"exports\" main defined in /Users/ryanguai/node_modules/firebase/package.json\n\u0000","position":87,"line":0,"column":87},"message":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 88:\n     ...  [ERR_PACKAGE_PATH_NOT_EXPORTED]: No \"exports\" main defined in / ... \n                                         ^"}
[debug] [2023-01-15T10:23:22.041Z] shutdown requested via /__/quitquitquit

[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: No "exports" main defined in /Users/ryanguai/node_modules/firebase/package.json {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: No \"exports\" main defined in /Users/ryanguai/node_modules/firebase/package.json"}}
[debug] [2023-01-15T10:26:00.624Z] ----------------------------------------------------------------------
[debug] [2023-01-15T10:26:00.626Z] Command:       /usr/local/bin/node /Users/ryanguai/.npm-global/bin/firebase serve
[debug] [2023-01-15T10:26:00.627Z] CLI Version:   11.20.0
[debug] [2023-01-15T10:26:00.627Z] Platform:      darwin
[debug] [2023-01-15T10:26:00.628Z] Node Version:  v16.13.0
[debug] [2023-01-15T10:26:00.629Z] Time:          Sun Jan 15 2023 18:26:00 GMT+0800 (Singapore Standard Time)
[debug] [2023-01-15T10:26:00.630Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-01-15T10:26:00.739Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-01-15T10:26:00.741Z] > authorizing via signed-in user (e0694442@u.nus.edu)
[debug] [2023-01-15T10:26:00.741Z] [iam] checking project todoapp-65153 for permissions ["firebase.projects.get"]
[debug] [2023-01-15T10:26:00.743Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions [none]
[debug] [2023-01-15T10:26:00.744Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions x-goog-quota-user=projects/todoapp-65153
[debug] [2023-01-15T10:26:00.745Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-01-15T10:26:01.881Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions 200
[debug] [2023-01-15T10:26:01.885Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-01-15T10:26:01.887Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 [none]
[debug] [2023-01-15T10:26:02.484Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 200
[debug] [2023-01-15T10:26:02.485Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 {"projectId":"todoapp-65153","projectNumber":"171978637376","displayName":"TodoApp","name":"projects/todoapp-65153","resources":{"hostingSite":"todoapp-65153"},"state":"ACTIVE","etag":"1_5bd77694-3c44-44ba-8128-cf1116539f14"}
[info] 
[info] === Serving from '/Users/ryanguai/DCO-Tutorial'...
[info] 
[info] ✔  functions: Using node@16 from host. {"metadata":{"emulator":{"name":"functions"},"message":"Using node@16 from host."}}
[debug] [2023-01-15T10:26:02.527Z] defaultcredentials: writing to file /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json
[debug] [2023-01-15T10:26:02.530Z] Setting GAC to /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json"}}
[debug] [2023-01-15T10:26:02.531Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig [none]
[debug] [2023-01-15T10:26:03.184Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig 200
[debug] [2023-01-15T10:26:03.186Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig {"projectId":"todoapp-65153","storageBucket":"todoapp-65153.appspot.com"}
[info] i  functions: Watching "/Users/ryanguai/DCO-Tutorial/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/ryanguai/DCO-Tutorial/functions\" for Cloud Functions..."}}
[debug] [2023-01-15T10:26:03.274Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T10:26:04.170Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T10:26:04.171Z] Building nodejs source
[debug] [2023-01-15T10:26:04.175Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T10:26:04.513Z] Serving at port 9005

[debug] [2023-01-15T10:26:04.620Z] Got response from /__/functions.yaml Failed to generate manifest from function source: Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: No "exports" main defined in /Users/ryanguai/node_modules/firebase/package.json
[debug] [2023-01-15T10:26:04.623Z] Failed to parse functions.yamlincomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 88:
     ...  [ERR_PACKAGE_PATH_NOT_EXPORTED]: No "exports" main defined in / ... 
                                         ^ {"name":"YAMLException","reason":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line","mark":{"name":null,"buffer":"Failed to generate manifest from function source: Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: No \"exports\" main defined in /Users/ryanguai/node_modules/firebase/package.json\n\u0000","position":87,"line":0,"column":87},"message":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 88:\n     ...  [ERR_PACKAGE_PATH_NOT_EXPORTED]: No \"exports\" main defined in / ... \n                                         ^"}
[debug] [2023-01-15T10:26:04.634Z] shutdown requested via /__/quitquitquit

[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: No "exports" main defined in /Users/ryanguai/node_modules/firebase/package.json {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: No \"exports\" main defined in /Users/ryanguai/node_modules/firebase/package.json"}}
[debug] [2023-01-15T10:26:35.832Z] ----------------------------------------------------------------------
[debug] [2023-01-15T10:26:35.833Z] Command:       /usr/local/bin/node /Users/ryanguai/.npm-global/bin/firebase serve
[debug] [2023-01-15T10:26:35.834Z] CLI Version:   11.20.0
[debug] [2023-01-15T10:26:35.834Z] Platform:      darwin
[debug] [2023-01-15T10:26:35.835Z] Node Version:  v16.13.0
[debug] [2023-01-15T10:26:35.836Z] Time:          Sun Jan 15 2023 18:26:35 GMT+0800 (Singapore Standard Time)
[debug] [2023-01-15T10:26:35.837Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-01-15T10:26:35.934Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-01-15T10:26:35.935Z] > authorizing via signed-in user (e0694442@u.nus.edu)
[debug] [2023-01-15T10:26:35.936Z] [iam] checking project todoapp-65153 for permissions ["firebase.projects.get"]
[debug] [2023-01-15T10:26:35.938Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions [none]
[debug] [2023-01-15T10:26:35.939Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions x-goog-quota-user=projects/todoapp-65153
[debug] [2023-01-15T10:26:35.940Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-01-15T10:26:37.104Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions 200
[debug] [2023-01-15T10:26:37.109Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-01-15T10:26:37.115Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 [none]
[debug] [2023-01-15T10:26:37.679Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 200
[debug] [2023-01-15T10:26:37.682Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 {"projectId":"todoapp-65153","projectNumber":"171978637376","displayName":"TodoApp","name":"projects/todoapp-65153","resources":{"hostingSite":"todoapp-65153"},"state":"ACTIVE","etag":"1_5bd77694-3c44-44ba-8128-cf1116539f14"}
[info] 
[info] === Serving from '/Users/ryanguai/DCO-Tutorial'...
[info] 
[info] ✔  functions: Using node@16 from host. {"metadata":{"emulator":{"name":"functions"},"message":"Using node@16 from host."}}
[debug] [2023-01-15T10:26:37.737Z] defaultcredentials: writing to file /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json
[debug] [2023-01-15T10:26:37.739Z] Setting GAC to /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json"}}
[debug] [2023-01-15T10:26:37.741Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig [none]
[debug] [2023-01-15T10:26:38.307Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig 200
[debug] [2023-01-15T10:26:38.309Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig {"projectId":"todoapp-65153","storageBucket":"todoapp-65153.appspot.com"}
[info] i  functions: Watching "/Users/ryanguai/DCO-Tutorial/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/ryanguai/DCO-Tutorial/functions\" for Cloud Functions..."}}
[debug] [2023-01-15T10:26:38.385Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T10:26:39.275Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T10:26:39.276Z] Building nodejs source
[debug] [2023-01-15T10:26:39.280Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T10:26:39.619Z] Serving at port 9005

[debug] [2023-01-15T10:26:39.726Z] Got response from /__/functions.yaml Failed to generate manifest from function source: Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: No "exports" main defined in /Users/ryanguai/node_modules/firebase/package.json
[debug] [2023-01-15T10:26:39.729Z] Failed to parse functions.yamlincomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 88:
     ...  [ERR_PACKAGE_PATH_NOT_EXPORTED]: No "exports" main defined in / ... 
                                         ^ {"name":"YAMLException","reason":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line","mark":{"name":null,"buffer":"Failed to generate manifest from function source: Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: No \"exports\" main defined in /Users/ryanguai/node_modules/firebase/package.json\n\u0000","position":87,"line":0,"column":87},"message":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 88:\n     ...  [ERR_PACKAGE_PATH_NOT_EXPORTED]: No \"exports\" main defined in / ... \n                                         ^"}
[debug] [2023-01-15T10:26:39.740Z] shutdown requested via /__/quitquitquit

[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: No "exports" main defined in /Users/ryanguai/node_modules/firebase/package.json {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: No \"exports\" main defined in /Users/ryanguai/node_modules/firebase/package.json"}}
[debug] [2023-01-15T10:28:14.395Z] File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers"}}
[debug] [2023-01-15T10:28:15.414Z] Validating nodejs source
[debug] [2023-01-15T10:28:20.838Z] ----------------------------------------------------------------------
[debug] [2023-01-15T10:28:20.839Z] Command:       /usr/local/bin/node /Users/ryanguai/.npm-global/bin/firebase serve
[debug] [2023-01-15T10:28:20.840Z] CLI Version:   11.20.0
[debug] [2023-01-15T10:28:20.841Z] Platform:      darwin
[debug] [2023-01-15T10:28:20.841Z] Node Version:  v16.13.0
[debug] [2023-01-15T10:28:20.842Z] Time:          Sun Jan 15 2023 18:28:20 GMT+0800 (Singapore Standard Time)
[debug] [2023-01-15T10:28:20.843Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-01-15T10:28:20.940Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-01-15T10:28:20.942Z] > authorizing via signed-in user (e0694442@u.nus.edu)
[debug] [2023-01-15T10:28:20.943Z] [iam] checking project todoapp-65153 for permissions ["firebase.projects.get"]
[debug] [2023-01-15T10:28:20.945Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions [none]
[debug] [2023-01-15T10:28:20.946Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions x-goog-quota-user=projects/todoapp-65153
[debug] [2023-01-15T10:28:20.947Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-01-15T10:28:22.029Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions 200
[debug] [2023-01-15T10:28:22.034Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-01-15T10:28:22.040Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 [none]
[debug] [2023-01-15T10:28:22.442Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 200
[debug] [2023-01-15T10:28:22.447Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 {"projectId":"todoapp-65153","projectNumber":"171978637376","displayName":"TodoApp","name":"projects/todoapp-65153","resources":{"hostingSite":"todoapp-65153"},"state":"ACTIVE","etag":"1_5bd77694-3c44-44ba-8128-cf1116539f14"}
[info] 
[info] === Serving from '/Users/ryanguai/DCO-Tutorial'...
[info] 
[info] ✔  functions: Using node@16 from host. {"metadata":{"emulator":{"name":"functions"},"message":"Using node@16 from host."}}
[debug] [2023-01-15T10:28:22.478Z] defaultcredentials: writing to file /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json
[debug] [2023-01-15T10:28:22.480Z] Setting GAC to /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json"}}
[debug] [2023-01-15T10:28:22.482Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig [none]
[debug] [2023-01-15T10:28:23.064Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig 200
[debug] [2023-01-15T10:28:23.065Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig {"projectId":"todoapp-65153","storageBucket":"todoapp-65153.appspot.com"}
[info] i  functions: Watching "/Users/ryanguai/DCO-Tutorial/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/ryanguai/DCO-Tutorial/functions\" for Cloud Functions..."}}
[debug] [2023-01-15T10:28:23.133Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T10:28:23.962Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T10:28:23.962Z] Building nodejs source
[debug] [2023-01-15T10:28:23.965Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T10:28:24.263Z] Serving at port 9005

[debug] [2023-01-15T10:28:24.358Z] Got response from /__/functions.yaml Failed to generate manifest from function source: Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: No "exports" main defined in /Users/ryanguai/node_modules/firebase/package.json
[debug] [2023-01-15T10:28:24.362Z] Failed to parse functions.yamlincomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 88:
     ...  [ERR_PACKAGE_PATH_NOT_EXPORTED]: No "exports" main defined in / ... 
                                         ^ {"name":"YAMLException","reason":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line","mark":{"name":null,"buffer":"Failed to generate manifest from function source: Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: No \"exports\" main defined in /Users/ryanguai/node_modules/firebase/package.json\n\u0000","position":87,"line":0,"column":87},"message":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 88:\n     ...  [ERR_PACKAGE_PATH_NOT_EXPORTED]: No \"exports\" main defined in / ... \n                                         ^"}
[debug] [2023-01-15T10:28:24.372Z] shutdown requested via /__/quitquitquit

[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: No "exports" main defined in /Users/ryanguai/node_modules/firebase/package.json {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: No \"exports\" main defined in /Users/ryanguai/node_modules/firebase/package.json"}}
[debug] [2023-01-15T10:29:10.880Z] File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers"}}
[debug] [2023-01-15T10:29:11.906Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T10:29:12.832Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T10:29:12.832Z] Building nodejs source
[debug] [2023-01-15T10:29:12.834Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T10:29:13.193Z] Serving at port 9005

[debug] [2023-01-15T10:29:13.297Z] Got response from /__/functions.yaml Failed to generate manifest from function source: Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: No "exports" main defined in /Users/ryanguai/node_modules/firebase/package.json
[debug] [2023-01-15T10:29:13.299Z] Failed to parse functions.yamlincomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 88:
     ...  [ERR_PACKAGE_PATH_NOT_EXPORTED]: No "exports" main defined in / ... 
                                         ^ {"name":"YAMLException","reason":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line","mark":{"name":null,"buffer":"Failed to generate manifest from function source: Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: No \"exports\" main defined in /Users/ryanguai/node_modules/firebase/package.json\n\u0000","position":87,"line":0,"column":87},"message":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 88:\n     ...  [ERR_PACKAGE_PATH_NOT_EXPORTED]: No \"exports\" main defined in / ... \n                                         ^"}
[debug] [2023-01-15T10:29:13.305Z] shutdown requested via /__/quitquitquit

[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: No "exports" main defined in /Users/ryanguai/node_modules/firebase/package.json {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: No \"exports\" main defined in /Users/ryanguai/node_modules/firebase/package.json"}}
[debug] [2023-01-15T10:30:12.507Z] File /Users/ryanguai/DCO-Tutorial/functions/package.json changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/package.json changed, reloading triggers"}}
[debug] [2023-01-15T10:30:18.699Z] ----------------------------------------------------------------------
[debug] [2023-01-15T10:30:18.700Z] Command:       /usr/local/bin/node /Users/ryanguai/.npm-global/bin/firebase serve
[debug] [2023-01-15T10:30:18.701Z] CLI Version:   11.20.0
[debug] [2023-01-15T10:30:18.702Z] Platform:      darwin
[debug] [2023-01-15T10:30:18.702Z] Node Version:  v16.13.0
[debug] [2023-01-15T10:30:18.704Z] Time:          Sun Jan 15 2023 18:30:18 GMT+0800 (Singapore Standard Time)
[debug] [2023-01-15T10:30:18.704Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-01-15T10:30:18.800Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-01-15T10:30:18.801Z] > authorizing via signed-in user (e0694442@u.nus.edu)
[debug] [2023-01-15T10:30:18.802Z] [iam] checking project todoapp-65153 for permissions ["firebase.projects.get"]
[debug] [2023-01-15T10:30:18.804Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions [none]
[debug] [2023-01-15T10:30:18.805Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions x-goog-quota-user=projects/todoapp-65153
[debug] [2023-01-15T10:30:18.805Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-01-15T10:30:19.915Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions 200
[debug] [2023-01-15T10:30:19.920Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-01-15T10:30:19.924Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 [none]
[debug] [2023-01-15T10:30:20.513Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 200
[debug] [2023-01-15T10:30:20.519Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 {"projectId":"todoapp-65153","projectNumber":"171978637376","displayName":"TodoApp","name":"projects/todoapp-65153","resources":{"hostingSite":"todoapp-65153"},"state":"ACTIVE","etag":"1_5bd77694-3c44-44ba-8128-cf1116539f14"}
[info] 
[info] === Serving from '/Users/ryanguai/DCO-Tutorial'...
[info] 
[info] ✔  functions: Using node@16 from host. {"metadata":{"emulator":{"name":"functions"},"message":"Using node@16 from host."}}
[debug] [2023-01-15T10:30:20.553Z] defaultcredentials: writing to file /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json
[debug] [2023-01-15T10:30:20.555Z] Setting GAC to /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json"}}
[debug] [2023-01-15T10:30:20.557Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig [none]
[debug] [2023-01-15T10:30:21.087Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig 200
[debug] [2023-01-15T10:30:21.088Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig {"projectId":"todoapp-65153","storageBucket":"todoapp-65153.appspot.com"}
[info] i  functions: Watching "/Users/ryanguai/DCO-Tutorial/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/ryanguai/DCO-Tutorial/functions\" for Cloud Functions..."}}
[debug] [2023-01-15T10:30:21.152Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T10:30:22.001Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T10:30:22.002Z] Building nodejs source
[debug] [2023-01-15T10:30:22.005Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T10:30:22.315Z] Serving at port 9005

[debug] [2023-01-15T10:30:22.416Z] Got response from /__/functions.yaml Failed to generate manifest from function source: Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: No "exports" main defined in /Users/ryanguai/node_modules/firebase/package.json
[debug] [2023-01-15T10:30:22.419Z] Failed to parse functions.yamlincomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 88:
     ...  [ERR_PACKAGE_PATH_NOT_EXPORTED]: No "exports" main defined in / ... 
                                         ^ {"name":"YAMLException","reason":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line","mark":{"name":null,"buffer":"Failed to generate manifest from function source: Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: No \"exports\" main defined in /Users/ryanguai/node_modules/firebase/package.json\n\u0000","position":87,"line":0,"column":87},"message":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 88:\n     ...  [ERR_PACKAGE_PATH_NOT_EXPORTED]: No \"exports\" main defined in / ... \n                                         ^"}
[debug] [2023-01-15T10:30:22.429Z] shutdown requested via /__/quitquitquit

[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: No "exports" main defined in /Users/ryanguai/node_modules/firebase/package.json {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: No \"exports\" main defined in /Users/ryanguai/node_modules/firebase/package.json"}}
[debug] [2023-01-15T10:32:22.326Z] ----------------------------------------------------------------------
[debug] [2023-01-15T10:32:22.327Z] Command:       /usr/local/bin/node /Users/ryanguai/.npm-global/bin/firebase serve
[debug] [2023-01-15T10:32:22.328Z] CLI Version:   11.20.0
[debug] [2023-01-15T10:32:22.329Z] Platform:      darwin
[debug] [2023-01-15T10:32:22.329Z] Node Version:  v16.13.0
[debug] [2023-01-15T10:32:22.334Z] Time:          Sun Jan 15 2023 18:32:22 GMT+0800 (Singapore Standard Time)
[debug] [2023-01-15T10:32:22.336Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-01-15T10:32:22.437Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-01-15T10:32:22.438Z] > authorizing via signed-in user (e0694442@u.nus.edu)
[debug] [2023-01-15T10:32:22.439Z] [iam] checking project todoapp-65153 for permissions ["firebase.projects.get"]
[debug] [2023-01-15T10:32:22.442Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions [none]
[debug] [2023-01-15T10:32:22.443Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions x-goog-quota-user=projects/todoapp-65153
[debug] [2023-01-15T10:32:22.443Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-01-15T10:32:23.610Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions 200
[debug] [2023-01-15T10:32:23.615Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-01-15T10:32:23.618Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 [none]
[debug] [2023-01-15T10:32:24.225Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 200
[debug] [2023-01-15T10:32:24.237Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 {"projectId":"todoapp-65153","projectNumber":"171978637376","displayName":"TodoApp","name":"projects/todoapp-65153","resources":{"hostingSite":"todoapp-65153"},"state":"ACTIVE","etag":"1_5bd77694-3c44-44ba-8128-cf1116539f14"}
[info] 
[info] === Serving from '/Users/ryanguai/DCO-Tutorial'...
[info] 
[info] ✔  functions: Using node@16 from host. {"metadata":{"emulator":{"name":"functions"},"message":"Using node@16 from host."}}
[debug] [2023-01-15T10:32:24.282Z] defaultcredentials: writing to file /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json
[debug] [2023-01-15T10:32:24.285Z] Setting GAC to /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json"}}
[debug] [2023-01-15T10:32:24.287Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig [none]
[debug] [2023-01-15T10:32:24.938Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig 200
[debug] [2023-01-15T10:32:24.940Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig {"projectId":"todoapp-65153","storageBucket":"todoapp-65153.appspot.com"}
[info] i  functions: Watching "/Users/ryanguai/DCO-Tutorial/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/ryanguai/DCO-Tutorial/functions\" for Cloud Functions..."}}
[debug] [2023-01-15T10:32:25.006Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T10:32:26.850Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T10:32:26.851Z] Building nodejs source
[debug] [2023-01-15T10:32:26.854Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T10:32:27.158Z] Serving at port 9005

[debug] [2023-01-15T10:32:27.258Z] Got response from /__/functions.yaml Failed to generate manifest from function source: Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: No "exports" main defined in /Users/ryanguai/node_modules/firebase/package.json
[debug] [2023-01-15T10:32:27.262Z] Failed to parse functions.yamlincomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 88:
     ...  [ERR_PACKAGE_PATH_NOT_EXPORTED]: No "exports" main defined in / ... 
                                         ^ {"name":"YAMLException","reason":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line","mark":{"name":null,"buffer":"Failed to generate manifest from function source: Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: No \"exports\" main defined in /Users/ryanguai/node_modules/firebase/package.json\n\u0000","position":87,"line":0,"column":87},"message":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 88:\n     ...  [ERR_PACKAGE_PATH_NOT_EXPORTED]: No \"exports\" main defined in / ... \n                                         ^"}
[debug] [2023-01-15T10:32:27.272Z] shutdown requested via /__/quitquitquit

[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: No "exports" main defined in /Users/ryanguai/node_modules/firebase/package.json {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: No \"exports\" main defined in /Users/ryanguai/node_modules/firebase/package.json"}}
[debug] [2023-01-15T10:34:05.872Z] File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers"}}
[debug] [2023-01-15T10:34:06.891Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T10:34:07.914Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T10:34:07.915Z] Building nodejs source
[debug] [2023-01-15T10:34:07.917Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T10:34:08.203Z] Serving at port 9005

[debug] [2023-01-15T10:34:08.363Z] Got response from /__/functions.yaml Failed to generate manifest from function source: ReferenceError: firebase is not defined
[debug] [2023-01-15T10:34:08.364Z] Failed to parse functions.yamlincomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 65:
     ...  function source: ReferenceError: firebase is not defined
                                         ^ {"name":"YAMLException","reason":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line","mark":{"name":null,"buffer":"Failed to generate manifest from function source: ReferenceError: firebase is not defined\n\u0000","position":64,"line":0,"column":64},"message":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 65:\n     ...  function source: ReferenceError: firebase is not defined\n                                         ^"}
[debug] [2023-01-15T10:34:08.370Z] shutdown requested via /__/quitquitquit

[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: ReferenceError: firebase is not defined {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: ReferenceError: firebase is not defined"}}
[debug] [2023-01-15T10:38:27.432Z] File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers"}}
[debug] [2023-01-15T10:38:28.440Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T10:38:29.366Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T10:38:29.367Z] Building nodejs source
[debug] [2023-01-15T10:38:29.368Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T10:38:29.662Z] Serving at port 9005

[debug] [2023-01-15T10:38:29.839Z] Got response from /__/functions.yaml Failed to generate manifest from function source: FirebaseError: Firebase: Need to provide options, when not being deployed to hosting via source. (app/no-options).
[debug] [2023-01-15T10:38:29.840Z] Failed to parse functions.yamlincomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 64:
     ... m function source: FirebaseError: Firebase: Need to provide opti ... 
                                         ^ {"name":"YAMLException","reason":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line","mark":{"name":null,"buffer":"Failed to generate manifest from function source: FirebaseError: Firebase: Need to provide options, when not being deployed to hosting via source. (app/no-options).\n\u0000","position":63,"line":0,"column":63},"message":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 64:\n     ... m function source: FirebaseError: Firebase: Need to provide opti ... \n                                         ^"}
[debug] [2023-01-15T10:38:29.844Z] shutdown requested via /__/quitquitquit

[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: FirebaseError: Firebase: Need to provide options, when not being deployed to hosting via source. (app/no-options). {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: FirebaseError: Firebase: Need to provide options, when not being deployed to hosting via source. (app/no-options)."}}
[debug] [2023-01-15T10:39:37.637Z] File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers"}}
[debug] [2023-01-15T10:39:38.646Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T10:39:39.637Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T10:39:39.637Z] Building nodejs source
[debug] [2023-01-15T10:39:39.638Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T10:39:39.950Z] Serving at port 9005

[debug] [2023-01-15T10:39:40.056Z] Got response from /__/functions.yaml Failed to generate manifest from function source: Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: No "exports" main defined in /Users/ryanguai/node_modules/firebase/package.json
[debug] [2023-01-15T10:39:40.056Z] Failed to parse functions.yamlincomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 88:
     ...  [ERR_PACKAGE_PATH_NOT_EXPORTED]: No "exports" main defined in / ... 
                                         ^ {"name":"YAMLException","reason":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line","mark":{"name":null,"buffer":"Failed to generate manifest from function source: Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: No \"exports\" main defined in /Users/ryanguai/node_modules/firebase/package.json\n\u0000","position":87,"line":0,"column":87},"message":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 88:\n     ...  [ERR_PACKAGE_PATH_NOT_EXPORTED]: No \"exports\" main defined in / ... \n                                         ^"}
[debug] [2023-01-15T10:39:40.064Z] shutdown requested via /__/quitquitquit

[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: No "exports" main defined in /Users/ryanguai/node_modules/firebase/package.json {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: No \"exports\" main defined in /Users/ryanguai/node_modules/firebase/package.json"}}
[debug] [2023-01-15T10:41:48.304Z] ----------------------------------------------------------------------
[debug] [2023-01-15T10:41:48.305Z] Command:       /usr/local/bin/node /Users/ryanguai/.npm-global/bin/firebase serve
[debug] [2023-01-15T10:41:48.306Z] CLI Version:   11.20.0
[debug] [2023-01-15T10:41:48.307Z] Platform:      darwin
[debug] [2023-01-15T10:41:48.307Z] Node Version:  v16.13.0
[debug] [2023-01-15T10:41:48.311Z] Time:          Sun Jan 15 2023 18:41:48 GMT+0800 (Singapore Standard Time)
[debug] [2023-01-15T10:41:48.312Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-01-15T10:41:48.409Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-01-15T10:41:48.411Z] > authorizing via signed-in user (e0694442@u.nus.edu)
[debug] [2023-01-15T10:41:48.412Z] [iam] checking project todoapp-65153 for permissions ["firebase.projects.get"]
[debug] [2023-01-15T10:41:48.414Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions [none]
[debug] [2023-01-15T10:41:48.415Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions x-goog-quota-user=projects/todoapp-65153
[debug] [2023-01-15T10:41:48.415Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-01-15T10:41:49.587Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions 200
[debug] [2023-01-15T10:41:49.591Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-01-15T10:41:49.594Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 [none]
[debug] [2023-01-15T10:41:50.075Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 200
[debug] [2023-01-15T10:41:50.079Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 {"projectId":"todoapp-65153","projectNumber":"171978637376","displayName":"TodoApp","name":"projects/todoapp-65153","resources":{"hostingSite":"todoapp-65153"},"state":"ACTIVE","etag":"1_5bd77694-3c44-44ba-8128-cf1116539f14"}
[info] 
[info] === Serving from '/Users/ryanguai/DCO-Tutorial'...
[info] 
[info] ✔  functions: Using node@16 from host. {"metadata":{"emulator":{"name":"functions"},"message":"Using node@16 from host."}}
[debug] [2023-01-15T10:41:50.123Z] defaultcredentials: writing to file /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json
[debug] [2023-01-15T10:41:50.125Z] Setting GAC to /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json"}}
[debug] [2023-01-15T10:41:50.127Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig [none]
[debug] [2023-01-15T10:41:50.488Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig 200
[debug] [2023-01-15T10:41:50.489Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig {"projectId":"todoapp-65153","storageBucket":"todoapp-65153.appspot.com"}
[info] i  functions: Watching "/Users/ryanguai/DCO-Tutorial/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/ryanguai/DCO-Tutorial/functions\" for Cloud Functions..."}}
[debug] [2023-01-15T10:41:50.555Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T10:41:51.424Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T10:41:51.425Z] Building nodejs source
[debug] [2023-01-15T10:41:51.428Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T10:41:51.725Z] Serving at port 9005

[debug] [2023-01-15T10:41:51.988Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T10:41:52.003Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions[us-central1-api]: http function initialized (http://localhost:5000/todoapp-65153/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5000/todoapp-65153/us-central1/api)."}}
[debug] [2023-01-15T10:42:14.367Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/login-2023-01-15T10:42:14.367Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T10:42:14.378Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/login-2023-01-15T10:42:14.367Z"],"workRunningCount":1}
[debug] [2023-01-15T10:42:14.381Z] Accepted request GET /todoapp-65153/us-central1/api/login --> us-central1-api
[debug] [2023-01-15T10:42:14.387Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T10:42:14.389Z] [functions] Got req.url=/todoapp-65153/us-central1/api/login, mapping to path=/login {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/login, mapping to path=/login"}}
[debug] [2023-01-15T10:42:14.430Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-15T10:42:14.431Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-01-15T10:42:15.408Z] [runtime-status] [86746] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [86746] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T10:42:15.411Z] [runtime-status] [86746] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [86746] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T10:42:15.411Z] [runtime-status] [86746] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [86746] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-15T10:42:15.411Z] [runtime-status] [86746] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [86746] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T10:42:15.447Z] [runtime-status] [86746] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [86746] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-15T10:42:15.448Z] [runtime-status] [86746] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [86746] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-15T10:42:15.449Z] [runtime-status] [86746] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [86746] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T10:42:15.451Z] [runtime-status] [86746] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [86746] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T10:42:15.453Z] [runtime-status] [86746] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [86746] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T10:42:15.453Z] [runtime-status] [86746] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [86746] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-15T10:42:15.538Z] [runtime-status] [86746] initializeApp(DEFAULT) {"storageBucket":"todoapp-65153.appspot.com","projectId":"todoapp-65153"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [86746] initializeApp(DEFAULT) {\"storageBucket\":\"todoapp-65153.appspot.com\",\"projectId\":\"todoapp-65153\"}"}}
[warn] ⚠  functions: The Cloud Firestore emulator is not running, so calls to Firestore will affect production. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"The Cloud Firestore emulator is not running, so calls to Firestore will affect production."}}
[debug] [2023-01-15T10:42:15.719Z] [runtime-status] [86746] Functions runtime initialized. {"cwd":"/Users/ryanguai/DCO-Tutorial/functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [86746] Functions runtime initialized. {\"cwd\":\"/Users/ryanguai/DCO-Tutorial/functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2023-01-15T10:42:15.720Z] [runtime-status] [86746] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_cfd1e37f7c86a506.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [86746] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_cfd1e37f7c86a506.sock"}}
[debug] [2023-01-15T10:42:15.836Z] [worker-us-central1-api-ad343ad8-aef8-4890-9e6f-39172d4e329c]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ad343ad8-aef8-4890-9e6f-39172d4e329c]: IDLE"}}
[debug] [2023-01-15T10:42:15.836Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T10:42:15.837Z] [worker-us-central1-api-ad343ad8-aef8-4890-9e6f-39172d4e329c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ad343ad8-aef8-4890-9e6f-39172d4e329c]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T10:42:15.848Z] [worker-us-central1-api-ad343ad8-aef8-4890-9e6f-39172d4e329c]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ad343ad8-aef8-4890-9e6f-39172d4e329c]: IDLE"}}
[debug] [2023-01-15T10:42:15.849Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 4.934ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 4.934ms"}}
[debug] [2023-01-15T10:43:22.833Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/login-2023-01-15T10:43:22.833Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T10:43:22.836Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/login-2023-01-15T10:43:22.833Z"],"workRunningCount":1}
[debug] [2023-01-15T10:43:22.836Z] Accepted request POST /todoapp-65153/us-central1/api/login --> us-central1-api
[debug] [2023-01-15T10:43:22.840Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T10:43:22.841Z] [functions] Got req.url=/todoapp-65153/us-central1/api/login, mapping to path=/login {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/login, mapping to path=/login"}}
[debug] [2023-01-15T10:43:22.842Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T10:43:22.843Z] [worker-us-central1-api-ad343ad8-aef8-4890-9e6f-39172d4e329c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ad343ad8-aef8-4890-9e6f-39172d4e329c]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T10:43:23.781Z] [worker-us-central1-api-ad343ad8-aef8-4890-9e6f-39172d4e329c]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ad343ad8-aef8-4890-9e6f-39172d4e329c]: IDLE"}}
[debug] [2023-01-15T10:43:23.782Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 889.1075ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 889.1075ms"}}
[debug] [2023-01-15T10:44:06.763Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/login-2023-01-15T10:44:06.763Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T10:44:06.764Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/login-2023-01-15T10:44:06.763Z"],"workRunningCount":1}
[debug] [2023-01-15T10:44:06.764Z] Accepted request GET /todoapp-65153/us-central1/api/login --> us-central1-api
[debug] [2023-01-15T10:44:06.765Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T10:44:06.766Z] [functions] Got req.url=/todoapp-65153/us-central1/api/login, mapping to path=/login {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/login, mapping to path=/login"}}
[debug] [2023-01-15T10:44:06.766Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T10:44:06.766Z] [worker-us-central1-api-ad343ad8-aef8-4890-9e6f-39172d4e329c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ad343ad8-aef8-4890-9e6f-39172d4e329c]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T10:44:06.785Z] [worker-us-central1-api-ad343ad8-aef8-4890-9e6f-39172d4e329c]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ad343ad8-aef8-4890-9e6f-39172d4e329c]: IDLE"}}
[debug] [2023-01-15T10:44:06.786Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 5.069125ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 5.069125ms"}}
[debug] [2023-01-15T10:54:57.284Z] ----------------------------------------------------------------------
[debug] [2023-01-15T10:54:57.285Z] Command:       /usr/local/bin/node /Users/ryanguai/.npm-global/bin/firebase serve
[debug] [2023-01-15T10:54:57.286Z] CLI Version:   11.20.0
[debug] [2023-01-15T10:54:57.286Z] Platform:      darwin
[debug] [2023-01-15T10:54:57.287Z] Node Version:  v16.13.0
[debug] [2023-01-15T10:54:57.291Z] Time:          Sun Jan 15 2023 18:54:57 GMT+0800 (Singapore Standard Time)
[debug] [2023-01-15T10:54:57.292Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-01-15T10:54:57.407Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-01-15T10:54:57.408Z] > authorizing via signed-in user (e0694442@u.nus.edu)
[debug] [2023-01-15T10:54:57.409Z] [iam] checking project todoapp-65153 for permissions ["firebase.projects.get"]
[debug] [2023-01-15T10:54:57.416Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions [none]
[debug] [2023-01-15T10:54:57.418Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions x-goog-quota-user=projects/todoapp-65153
[debug] [2023-01-15T10:54:57.418Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-01-15T10:54:58.579Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions 200
[debug] [2023-01-15T10:54:58.584Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-01-15T10:54:58.587Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 [none]
[debug] [2023-01-15T10:54:59.075Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 200
[debug] [2023-01-15T10:54:59.076Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 {"projectId":"todoapp-65153","projectNumber":"171978637376","displayName":"TodoApp","name":"projects/todoapp-65153","resources":{"hostingSite":"todoapp-65153"},"state":"ACTIVE","etag":"1_5bd77694-3c44-44ba-8128-cf1116539f14"}
[info] 
[info] === Serving from '/Users/ryanguai/DCO-Tutorial'...
[info] 
[info] ✔  functions: Using node@16 from host. {"metadata":{"emulator":{"name":"functions"},"message":"Using node@16 from host."}}
[debug] [2023-01-15T10:54:59.128Z] defaultcredentials: writing to file /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json
[debug] [2023-01-15T10:54:59.131Z] Setting GAC to /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json"}}
[debug] [2023-01-15T10:54:59.133Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig [none]
[debug] [2023-01-15T10:54:59.686Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig 200
[debug] [2023-01-15T10:54:59.687Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig {"projectId":"todoapp-65153","storageBucket":"todoapp-65153.appspot.com"}
[info] i  functions: Watching "/Users/ryanguai/DCO-Tutorial/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/ryanguai/DCO-Tutorial/functions\" for Cloud Functions..."}}
[debug] [2023-01-15T10:54:59.742Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T10:55:00.651Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T10:55:00.651Z] Building nodejs source
[debug] [2023-01-15T10:55:00.655Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T10:55:00.967Z] Serving at port 9005

[debug] [2023-01-15T10:55:01.236Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T10:55:01.249Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions[us-central1-api]: http function initialized (http://localhost:5000/todoapp-65153/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5000/todoapp-65153/us-central1/api)."}}
[debug] [2023-01-15T10:56:43.133Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/signup-2023-01-15T10:56:43.133Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T10:56:43.138Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/signup-2023-01-15T10:56:43.133Z"],"workRunningCount":1}
[debug] [2023-01-15T10:56:43.140Z] Accepted request POST /todoapp-65153/us-central1/api/signup --> us-central1-api
[debug] [2023-01-15T10:56:43.144Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T10:56:43.145Z] [functions] Got req.url=/todoapp-65153/us-central1/api/signup, mapping to path=/signup {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/signup, mapping to path=/signup"}}
[debug] [2023-01-15T10:56:43.173Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-15T10:56:43.174Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-01-15T10:56:44.208Z] [runtime-status] [86960] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [86960] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T10:56:44.211Z] [runtime-status] [86960] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [86960] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T10:56:44.211Z] [runtime-status] [86960] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [86960] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-15T10:56:44.212Z] [runtime-status] [86960] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [86960] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T10:56:44.252Z] [runtime-status] [86960] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [86960] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-15T10:56:44.252Z] [runtime-status] [86960] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [86960] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-15T10:56:44.253Z] [runtime-status] [86960] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [86960] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T10:56:44.254Z] [runtime-status] [86960] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [86960] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T10:56:44.256Z] [runtime-status] [86960] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [86960] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T10:56:44.257Z] [runtime-status] [86960] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [86960] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-15T10:56:44.334Z] [runtime-status] [86960] initializeApp(DEFAULT) {"storageBucket":"todoapp-65153.appspot.com","projectId":"todoapp-65153"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [86960] initializeApp(DEFAULT) {\"storageBucket\":\"todoapp-65153.appspot.com\",\"projectId\":\"todoapp-65153\"}"}}
[warn] ⚠  functions: The Cloud Firestore emulator is not running, so calls to Firestore will affect production. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"The Cloud Firestore emulator is not running, so calls to Firestore will affect production."}}
[debug] [2023-01-15T10:56:44.473Z] [runtime-status] [86960] Functions runtime initialized. {"cwd":"/Users/ryanguai/DCO-Tutorial/functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [86960] Functions runtime initialized. {\"cwd\":\"/Users/ryanguai/DCO-Tutorial/functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2023-01-15T10:56:44.474Z] [runtime-status] [86960] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_6293cb2ede4a6b30.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [86960] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_6293cb2ede4a6b30.sock"}}
[debug] [2023-01-15T10:56:44.479Z] [worker-us-central1-api-32972c0d-bcd6-4a2c-b3b3-f765c5e1a4b8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-32972c0d-bcd6-4a2c-b3b3-f765c5e1a4b8]: IDLE"}}
[debug] [2023-01-15T10:56:44.480Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T10:56:44.480Z] [worker-us-central1-api-32972c0d-bcd6-4a2c-b3b3-f765c5e1a4b8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-32972c0d-bcd6-4a2c-b3b3-f765c5e1a4b8]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  [t [Error]: The email address is already in use by another account.] { {"user":"[t [Error]: The email address is already in use by another account.] {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m [t [Error]: The email address is already in use by another account.] {"}}
[info] >    code: 'auth/email-already-in-use', {"user":"  code: 'auth/email-already-in-use',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'auth/email-already-in-use',"}}
[info] >    a: null {"user":"  a: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   a: null"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-01-15T10:56:47.126Z] [worker-us-central1-api-32972c0d-bcd6-4a2c-b3b3-f765c5e1a4b8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-32972c0d-bcd6-4a2c-b3b3-f765c5e1a4b8]: IDLE"}}
[debug] [2023-01-15T10:56:47.126Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 2630.813583ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 2630.813583ms"}}
[debug] [2023-01-15T10:57:08.751Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/signup-2023-01-15T10:57:08.751Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T10:57:08.752Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/signup-2023-01-15T10:57:08.751Z"],"workRunningCount":1}
[debug] [2023-01-15T10:57:08.752Z] Accepted request POST /todoapp-65153/us-central1/api/signup --> us-central1-api
[debug] [2023-01-15T10:57:08.754Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T10:57:08.756Z] [functions] Got req.url=/todoapp-65153/us-central1/api/signup, mapping to path=/signup {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/signup, mapping to path=/signup"}}
[debug] [2023-01-15T10:57:08.756Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T10:57:08.756Z] [worker-us-central1-api-32972c0d-bcd6-4a2c-b3b3-f765c5e1a4b8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-32972c0d-bcd6-4a2c-b3b3-f765c5e1a4b8]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T10:57:11.076Z] [worker-us-central1-api-32972c0d-bcd6-4a2c-b3b3-f765c5e1a4b8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-32972c0d-bcd6-4a2c-b3b3-f765c5e1a4b8]: IDLE"}}
[debug] [2023-01-15T10:57:11.077Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 2299.817375ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 2299.817375ms"}}
[debug] [2023-01-15T11:11:25.630Z] ----------------------------------------------------------------------
[debug] [2023-01-15T11:11:25.632Z] Command:       /usr/local/bin/node /Users/ryanguai/.npm-global/bin/firebase serve
[debug] [2023-01-15T11:11:25.633Z] CLI Version:   11.20.0
[debug] [2023-01-15T11:11:25.633Z] Platform:      darwin
[debug] [2023-01-15T11:11:25.633Z] Node Version:  v16.13.0
[debug] [2023-01-15T11:11:25.639Z] Time:          Sun Jan 15 2023 19:11:25 GMT+0800 (Singapore Standard Time)
[debug] [2023-01-15T11:11:25.640Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-01-15T11:11:25.744Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-01-15T11:11:25.745Z] > authorizing via signed-in user (e0694442@u.nus.edu)
[debug] [2023-01-15T11:11:25.746Z] [iam] checking project todoapp-65153 for permissions ["firebase.projects.get"]
[debug] [2023-01-15T11:11:25.748Z] > refreshing access token with scopes: []
[debug] [2023-01-15T11:11:25.750Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2023-01-15T11:11:25.750Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-01-15T11:11:25.894Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2023-01-15T11:11:25.896Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-01-15T11:11:25.960Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions [none]
[debug] [2023-01-15T11:11:25.961Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions x-goog-quota-user=projects/todoapp-65153
[debug] [2023-01-15T11:11:25.961Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-01-15T11:11:27.028Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions 200
[debug] [2023-01-15T11:11:27.032Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-01-15T11:11:27.036Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 [none]
[debug] [2023-01-15T11:11:27.672Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 200
[debug] [2023-01-15T11:11:27.673Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 {"projectId":"todoapp-65153","projectNumber":"171978637376","displayName":"TodoApp","name":"projects/todoapp-65153","resources":{"hostingSite":"todoapp-65153","storageBucket":"todoapp-65153.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_c1e7cafb-3a30-4039-bae6-0ac258e73773"}
[info] 
[info] === Serving from '/Users/ryanguai/DCO-Tutorial'...
[info] 
[info] ✔  functions: Using node@16 from host. {"metadata":{"emulator":{"name":"functions"},"message":"Using node@16 from host."}}
[debug] [2023-01-15T11:11:27.742Z] defaultcredentials: writing to file /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json
[debug] [2023-01-15T11:11:27.745Z] Setting GAC to /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json"}}
[debug] [2023-01-15T11:11:27.747Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig [none]
[debug] [2023-01-15T11:11:28.063Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig 200
[debug] [2023-01-15T11:11:28.064Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig {"projectId":"todoapp-65153","storageBucket":"todoapp-65153.appspot.com","locationId":"us-central"}
[info] i  functions: Watching "/Users/ryanguai/DCO-Tutorial/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/ryanguai/DCO-Tutorial/functions\" for Cloud Functions..."}}
[debug] [2023-01-15T11:11:28.131Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T11:11:29.140Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T11:11:29.140Z] Building nodejs source
[debug] [2023-01-15T11:11:29.144Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T11:11:29.448Z] Serving at port 9005

[debug] [2023-01-15T11:11:29.722Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T11:11:29.734Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions[us-central1-api]: http function initialized (http://localhost:5000/todoapp-65153/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5000/todoapp-65153/us-central1/api)."}}
[debug] [2023-01-15T11:16:36.673Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/login-2023-01-15T11:16:36.673Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T11:16:36.679Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/login-2023-01-15T11:16:36.673Z"],"workRunningCount":1}
[debug] [2023-01-15T11:16:36.684Z] Accepted request POST /todoapp-65153/us-central1/api/login --> us-central1-api
[debug] [2023-01-15T11:16:36.688Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T11:16:36.689Z] [functions] Got req.url=/todoapp-65153/us-central1/api/login, mapping to path=/login {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/login, mapping to path=/login"}}
[debug] [2023-01-15T11:16:36.733Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-15T11:16:36.734Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-01-15T11:16:37.750Z] [runtime-status] [87463] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87463] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T11:16:37.751Z] [runtime-status] [87463] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87463] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T11:16:37.752Z] [runtime-status] [87463] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87463] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-15T11:16:37.752Z] [runtime-status] [87463] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87463] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T11:16:37.789Z] [runtime-status] [87463] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87463] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-15T11:16:37.790Z] [runtime-status] [87463] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87463] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-15T11:16:37.792Z] [runtime-status] [87463] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87463] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T11:16:37.793Z] [runtime-status] [87463] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87463] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T11:16:37.795Z] [runtime-status] [87463] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87463] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T11:16:37.797Z] [runtime-status] [87463] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87463] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-15T11:16:37.883Z] [runtime-status] [87463] initializeApp(DEFAULT) {"storageBucket":"todoapp-65153.appspot.com","projectId":"todoapp-65153"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87463] initializeApp(DEFAULT) {\"storageBucket\":\"todoapp-65153.appspot.com\",\"projectId\":\"todoapp-65153\"}"}}
[warn] ⚠  functions: The Cloud Firestore emulator is not running, so calls to Firestore will affect production. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"The Cloud Firestore emulator is not running, so calls to Firestore will affect production."}}
[debug] [2023-01-15T11:16:38.025Z] [runtime-status] [87463] Functions runtime initialized. {"cwd":"/Users/ryanguai/DCO-Tutorial/functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87463] Functions runtime initialized. {\"cwd\":\"/Users/ryanguai/DCO-Tutorial/functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2023-01-15T11:16:38.026Z] [runtime-status] [87463] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_06e5c17790e4e67c.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87463] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_06e5c17790e4e67c.sock"}}
[debug] [2023-01-15T11:16:38.126Z] [worker-us-central1-api-59803b81-2bec-4b35-98d0-f91138a88fc2]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-59803b81-2bec-4b35-98d0-f91138a88fc2]: IDLE"}}
[debug] [2023-01-15T11:16:38.127Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T11:16:38.127Z] [worker-us-central1-api-59803b81-2bec-4b35-98d0-f91138a88fc2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-59803b81-2bec-4b35-98d0-f91138a88fc2]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T11:16:38.975Z] [worker-us-central1-api-59803b81-2bec-4b35-98d0-f91138a88fc2]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-59803b81-2bec-4b35-98d0-f91138a88fc2]: IDLE"}}
[debug] [2023-01-15T11:16:38.976Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 827.394459ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 827.394459ms"}}
[debug] [2023-01-15T11:16:41.543Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/login-2023-01-15T11:16:41.543Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T11:16:41.549Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/login-2023-01-15T11:16:41.543Z"],"workRunningCount":1}
[debug] [2023-01-15T11:16:41.549Z] Accepted request POST /todoapp-65153/us-central1/api/login --> us-central1-api
[debug] [2023-01-15T11:16:41.550Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T11:16:41.551Z] [functions] Got req.url=/todoapp-65153/us-central1/api/login, mapping to path=/login {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/login, mapping to path=/login"}}
[debug] [2023-01-15T11:16:41.551Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T11:16:41.552Z] [worker-us-central1-api-59803b81-2bec-4b35-98d0-f91138a88fc2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-59803b81-2bec-4b35-98d0-f91138a88fc2]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T11:16:42.156Z] [worker-us-central1-api-59803b81-2bec-4b35-98d0-f91138a88fc2]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-59803b81-2bec-4b35-98d0-f91138a88fc2]: IDLE"}}
[debug] [2023-01-15T11:16:42.157Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 589.506541ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 589.506541ms"}}
[debug] [2023-01-15T11:20:22.985Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T11:20:22.983Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T11:20:22.990Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T11:20:22.983Z"],"workRunningCount":1}
[debug] [2023-01-15T11:20:22.990Z] Accepted request POST /todoapp-65153/us-central1/api/user/image --> us-central1-api
[debug] [2023-01-15T11:20:22.994Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T11:20:22.998Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image"}}
[debug] [2023-01-15T11:20:22.999Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T11:20:22.999Z] [worker-us-central1-api-59803b81-2bec-4b35-98d0-f91138a88fc2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-59803b81-2bec-4b35-98d0-f91138a88fc2]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[warn] ⚠  functions: The Firebase Authentication emulator is not running, so calls to Firebase Authentication will affect production. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"The Firebase Authentication emulator is not running, so calls to Firebase Authentication will affect production."}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-15T11:20:25.257Z] [worker-us-central1-api-59803b81-2bec-4b35-98d0-f91138a88fc2]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-59803b81-2bec-4b35-98d0-f91138a88fc2]: IDLE"}}
[debug] [2023-01-15T11:20:25.258Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 2227.755125ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 2227.755125ms"}}
[info] >  TypeError: BusBoy is not a constructor {"user":"TypeError: BusBoy is not a constructor","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: BusBoy is not a constructor"}}
[info] >      at exports.uploadProfilePhoto (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:122:17) {"user":"    at exports.uploadProfilePhoto (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:122:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at exports.uploadProfilePhoto (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:122:17)"}}
[info] >      at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13) {"user":"    at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13)"}}
[info] >      at /Users/ryanguai/DCO-Tutorial/functions/util/auth.js:23:11 {"user":"    at /Users/ryanguai/DCO-Tutorial/functions/util/auth.js:23:11","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ryanguai/DCO-Tutorial/functions/util/auth.js:23:11"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5)"}}
[debug] [2023-01-15T11:21:20.281Z] File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers"}}
[debug] [2023-01-15T11:21:21.291Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T11:21:22.384Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T11:21:22.384Z] Building nodejs source
[debug] [2023-01-15T11:21:22.385Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T11:21:22.417Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T11:21:22.416Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T11:21:22.417Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T11:21:22.416Z"],"workRunningCount":1}
[debug] [2023-01-15T11:21:22.417Z] Accepted request POST /todoapp-65153/us-central1/api/user/image --> us-central1-api
[debug] [2023-01-15T11:21:22.418Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T11:21:22.418Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image"}}
[debug] [2023-01-15T11:21:22.418Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T11:21:22.418Z] [worker-us-central1-api-59803b81-2bec-4b35-98d0-f91138a88fc2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-59803b81-2bec-4b35-98d0-f91138a88fc2]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T11:21:22.696Z] Serving at port 9005

[debug] [2023-01-15T11:21:22.930Z] [worker-us-central1-api-59803b81-2bec-4b35-98d0-f91138a88fc2]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-59803b81-2bec-4b35-98d0-f91138a88fc2]: IDLE"}}
[debug] [2023-01-15T11:21:22.931Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 343.98575ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 343.98575ms"}}
[info] >  TypeError: BusBoy is not a constructor {"user":"TypeError: BusBoy is not a constructor","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: BusBoy is not a constructor"}}
[info] >      at exports.uploadProfilePhoto (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:122:17) {"user":"    at exports.uploadProfilePhoto (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:122:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at exports.uploadProfilePhoto (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:122:17)"}}
[info] >      at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13) {"user":"    at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13)"}}
[info] >      at /Users/ryanguai/DCO-Tutorial/functions/util/auth.js:23:11 {"user":"    at /Users/ryanguai/DCO-Tutorial/functions/util/auth.js:23:11","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ryanguai/DCO-Tutorial/functions/util/auth.js:23:11"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5)"}}
[debug] [2023-01-15T11:21:23.008Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T11:21:23.015Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-01-15T11:21:23.031Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-01-15T11:21:23.031Z] [worker-us-central1-api-59803b81-2bec-4b35-98d0-f91138a88fc2]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-59803b81-2bec-4b35-98d0-f91138a88fc2]: FINISHING"}}
[debug] [2023-01-15T11:21:23.042Z] [worker-us-central1-api-59803b81-2bec-4b35-98d0-f91138a88fc2]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-59803b81-2bec-4b35-98d0-f91138a88fc2]: exited"}}
[debug] [2023-01-15T11:21:23.042Z] [worker-us-central1-api-59803b81-2bec-4b35-98d0-f91138a88fc2]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-59803b81-2bec-4b35-98d0-f91138a88fc2]: FINISHED"}}
[debug] [2023-01-15T11:21:49.564Z] ----------------------------------------------------------------------
[debug] [2023-01-15T11:21:49.566Z] Command:       /usr/local/bin/node /Users/ryanguai/.npm-global/bin/firebase serve
[debug] [2023-01-15T11:21:49.567Z] CLI Version:   11.20.0
[debug] [2023-01-15T11:21:49.567Z] Platform:      darwin
[debug] [2023-01-15T11:21:49.567Z] Node Version:  v16.13.0
[debug] [2023-01-15T11:21:49.571Z] Time:          Sun Jan 15 2023 19:21:49 GMT+0800 (Singapore Standard Time)
[debug] [2023-01-15T11:21:49.572Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-01-15T11:21:49.696Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-01-15T11:21:49.697Z] > authorizing via signed-in user (e0694442@u.nus.edu)
[debug] [2023-01-15T11:21:49.698Z] [iam] checking project todoapp-65153 for permissions ["firebase.projects.get"]
[debug] [2023-01-15T11:21:49.700Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions [none]
[debug] [2023-01-15T11:21:49.701Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions x-goog-quota-user=projects/todoapp-65153
[debug] [2023-01-15T11:21:49.702Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-01-15T11:21:50.900Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions 200
[debug] [2023-01-15T11:21:50.905Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-01-15T11:21:50.908Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 [none]
[debug] [2023-01-15T11:21:51.405Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 200
[debug] [2023-01-15T11:21:51.406Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 {"projectId":"todoapp-65153","projectNumber":"171978637376","displayName":"TodoApp","name":"projects/todoapp-65153","resources":{"hostingSite":"todoapp-65153","storageBucket":"todoapp-65153.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_c1e7cafb-3a30-4039-bae6-0ac258e73773"}
[info] 
[info] === Serving from '/Users/ryanguai/DCO-Tutorial'...
[info] 
[info] ✔  functions: Using node@16 from host. {"metadata":{"emulator":{"name":"functions"},"message":"Using node@16 from host."}}
[debug] [2023-01-15T11:21:51.442Z] defaultcredentials: writing to file /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json
[debug] [2023-01-15T11:21:51.445Z] Setting GAC to /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json"}}
[debug] [2023-01-15T11:21:51.446Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig [none]
[debug] [2023-01-15T11:21:52.019Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig 200
[debug] [2023-01-15T11:21:52.020Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig {"projectId":"todoapp-65153","storageBucket":"todoapp-65153.appspot.com","locationId":"us-central"}
[info] i  functions: Watching "/Users/ryanguai/DCO-Tutorial/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/ryanguai/DCO-Tutorial/functions\" for Cloud Functions..."}}
[debug] [2023-01-15T11:21:52.082Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T11:21:53.849Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T11:21:53.849Z] Building nodejs source
[debug] [2023-01-15T11:21:53.852Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T11:21:54.147Z] Serving at port 9005

[debug] [2023-01-15T11:21:54.396Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T11:21:54.409Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions[us-central1-api]: http function initialized (http://localhost:5000/todoapp-65153/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5000/todoapp-65153/us-central1/api)."}}
[debug] [2023-01-15T11:21:57.431Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T11:21:57.430Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T11:21:57.431Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T11:21:57.430Z"],"workRunningCount":1}
[debug] [2023-01-15T11:21:57.432Z] Accepted request POST /todoapp-65153/us-central1/api/user/image --> us-central1-api
[debug] [2023-01-15T11:21:57.432Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T11:21:57.433Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image"}}
[debug] [2023-01-15T11:21:57.466Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-15T11:21:57.466Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-01-15T11:21:58.426Z] [runtime-status] [87558] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87558] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T11:21:58.437Z] [runtime-status] [87558] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87558] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T11:21:58.439Z] [runtime-status] [87558] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87558] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-15T11:21:58.439Z] [runtime-status] [87558] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87558] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T11:21:58.459Z] [runtime-status] [87558] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87558] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-15T11:21:58.459Z] [runtime-status] [87558] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87558] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-15T11:21:58.460Z] [runtime-status] [87558] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87558] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T11:21:58.461Z] [runtime-status] [87558] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87558] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T11:21:58.462Z] [runtime-status] [87558] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87558] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T11:21:58.463Z] [runtime-status] [87558] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87558] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-15T11:21:58.517Z] [runtime-status] [87558] initializeApp(DEFAULT) {"storageBucket":"todoapp-65153.appspot.com","projectId":"todoapp-65153"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87558] initializeApp(DEFAULT) {\"storageBucket\":\"todoapp-65153.appspot.com\",\"projectId\":\"todoapp-65153\"}"}}
[warn] ⚠  functions: The Cloud Firestore emulator is not running, so calls to Firestore will affect production. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"The Cloud Firestore emulator is not running, so calls to Firestore will affect production."}}
[debug] [2023-01-15T11:21:58.625Z] [runtime-status] [87558] Functions runtime initialized. {"cwd":"/Users/ryanguai/DCO-Tutorial/functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87558] Functions runtime initialized. {\"cwd\":\"/Users/ryanguai/DCO-Tutorial/functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2023-01-15T11:21:58.630Z] [runtime-status] [87558] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_4ccc4537777f291c.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87558] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_4ccc4537777f291c.sock"}}
[debug] [2023-01-15T11:21:58.669Z] [worker-us-central1-api-0f40579e-f4b1-4d38-9c06-552d2cce6e28]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0f40579e-f4b1-4d38-9c06-552d2cce6e28]: IDLE"}}
[debug] [2023-01-15T11:21:58.670Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T11:21:58.670Z] [worker-us-central1-api-0f40579e-f4b1-4d38-9c06-552d2cce6e28]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0f40579e-f4b1-4d38-9c06-552d2cce6e28]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[warn] ⚠  functions: The Firebase Authentication emulator is not running, so calls to Firebase Authentication will affect production. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"The Firebase Authentication emulator is not running, so calls to Firebase Authentication will affect production."}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  functions: The Firebase Storage emulator is not running, so calls to Firebase Storage will affect production. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"The Firebase Storage emulator is not running, so calls to Firebase Storage will affect production."}}
[debug] [2023-01-15T11:22:00.844Z] [worker-us-central1-api-0f40579e-f4b1-4d38-9c06-552d2cce6e28]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0f40579e-f4b1-4d38-9c06-552d2cce6e28]: IDLE"}}
[debug] [2023-01-15T11:22:00.844Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 2142.978ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 2142.978ms"}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/storage/v1/b/todoapp-65153.appspot.com/o/undefined?"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/storage/v1/b/todoapp-65153.appspot.com/o/undefined?\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-15T11:22:17.599Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T11:22:17.598Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T11:22:17.600Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T11:22:17.598Z"],"workRunningCount":1}
[debug] [2023-01-15T11:22:17.600Z] Accepted request POST /todoapp-65153/us-central1/api/user/image --> us-central1-api
[debug] [2023-01-15T11:22:17.612Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T11:22:17.614Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image"}}
[debug] [2023-01-15T11:22:17.614Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T11:22:17.615Z] [worker-us-central1-api-0f40579e-f4b1-4d38-9c06-552d2cce6e28]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0f40579e-f4b1-4d38-9c06-552d2cce6e28]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T11:22:18.078Z] [worker-us-central1-api-0f40579e-f4b1-4d38-9c06-552d2cce6e28]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0f40579e-f4b1-4d38-9c06-552d2cce6e28]: IDLE"}}
[debug] [2023-01-15T11:22:18.078Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 428.178125ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 428.178125ms"}}
[debug] [2023-01-15T11:23:56.274Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T11:23:56.272Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T11:23:56.278Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T11:23:56.272Z"],"workRunningCount":1}
[debug] [2023-01-15T11:23:56.278Z] Accepted request POST /todoapp-65153/us-central1/api/user/image --> us-central1-api
[debug] [2023-01-15T11:23:56.297Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T11:23:56.304Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image"}}
[debug] [2023-01-15T11:23:56.304Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T11:23:56.305Z] [worker-us-central1-api-0f40579e-f4b1-4d38-9c06-552d2cce6e28]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0f40579e-f4b1-4d38-9c06-552d2cce6e28]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T11:23:56.705Z] [worker-us-central1-api-0f40579e-f4b1-4d38-9c06-552d2cce6e28]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0f40579e-f4b1-4d38-9c06-552d2cce6e28]: IDLE"}}
[debug] [2023-01-15T11:23:56.711Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 380.59125ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 380.59125ms"}}
[debug] [2023-01-15T11:23:58.136Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T11:23:58.135Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T11:23:58.136Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T11:23:58.135Z"],"workRunningCount":1}
[debug] [2023-01-15T11:23:58.137Z] Accepted request POST /todoapp-65153/us-central1/api/user/image --> us-central1-api
[debug] [2023-01-15T11:23:58.142Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T11:23:58.143Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image"}}
[debug] [2023-01-15T11:23:58.143Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T11:23:58.144Z] [worker-us-central1-api-0f40579e-f4b1-4d38-9c06-552d2cce6e28]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0f40579e-f4b1-4d38-9c06-552d2cce6e28]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T11:23:58.506Z] [worker-us-central1-api-0f40579e-f4b1-4d38-9c06-552d2cce6e28]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0f40579e-f4b1-4d38-9c06-552d2cce6e28]: IDLE"}}
[debug] [2023-01-15T11:23:58.507Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 349.857958ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 349.857958ms"}}
[debug] [2023-01-15T11:25:12.532Z] File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers"}}
[debug] [2023-01-15T11:25:13.546Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T11:25:14.759Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T11:25:14.759Z] Building nodejs source
[debug] [2023-01-15T11:25:14.761Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T11:25:15.040Z] Serving at port 9005

[debug] [2023-01-15T11:25:15.324Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T11:25:15.336Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-01-15T11:25:15.347Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-01-15T11:25:15.348Z] [worker-us-central1-api-0f40579e-f4b1-4d38-9c06-552d2cce6e28]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0f40579e-f4b1-4d38-9c06-552d2cce6e28]: FINISHING"}}
[debug] [2023-01-15T11:25:15.362Z] [worker-us-central1-api-0f40579e-f4b1-4d38-9c06-552d2cce6e28]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0f40579e-f4b1-4d38-9c06-552d2cce6e28]: exited"}}
[debug] [2023-01-15T11:25:15.362Z] [worker-us-central1-api-0f40579e-f4b1-4d38-9c06-552d2cce6e28]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0f40579e-f4b1-4d38-9c06-552d2cce6e28]: FINISHED"}}
[debug] [2023-01-15T11:27:09.668Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T11:27:09.667Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T11:27:09.670Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T11:27:09.667Z"],"workRunningCount":1}
[debug] [2023-01-15T11:27:09.670Z] Accepted request POST /todoapp-65153/us-central1/api/user/image --> us-central1-api
[debug] [2023-01-15T11:27:09.673Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T11:27:09.675Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image"}}
[debug] [2023-01-15T11:27:09.675Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-01-15T11:27:09.717Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-15T11:27:09.718Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-01-15T11:27:10.801Z] [runtime-status] [87622] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87622] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T11:27:10.803Z] [runtime-status] [87622] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87622] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T11:27:10.804Z] [runtime-status] [87622] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87622] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-15T11:27:10.804Z] [runtime-status] [87622] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87622] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T11:27:10.843Z] [runtime-status] [87622] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87622] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-15T11:27:10.843Z] [runtime-status] [87622] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87622] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-15T11:27:10.844Z] [runtime-status] [87622] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87622] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T11:27:10.845Z] [runtime-status] [87622] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87622] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T11:27:10.847Z] [runtime-status] [87622] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87622] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T11:27:10.847Z] [runtime-status] [87622] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87622] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-15T11:27:10.931Z] [runtime-status] [87622] initializeApp(DEFAULT) {"storageBucket":"todoapp-65153.appspot.com","projectId":"todoapp-65153"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87622] initializeApp(DEFAULT) {\"storageBucket\":\"todoapp-65153.appspot.com\",\"projectId\":\"todoapp-65153\"}"}}
[debug] [2023-01-15T11:27:11.082Z] [runtime-status] [87622] Functions runtime initialized. {"cwd":"/Users/ryanguai/DCO-Tutorial/functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87622] Functions runtime initialized. {\"cwd\":\"/Users/ryanguai/DCO-Tutorial/functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2023-01-15T11:27:11.083Z] [runtime-status] [87622] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_1bcfdae7f3a11489.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87622] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_1bcfdae7f3a11489.sock"}}
[debug] [2023-01-15T11:27:11.101Z] [worker-us-central1-api-e1c6a695-636d-400e-bc38-da471ecf51e0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e1c6a695-636d-400e-bc38-da471ecf51e0]: IDLE"}}
[debug] [2023-01-15T11:27:11.101Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T11:27:11.102Z] [worker-us-central1-api-e1c6a695-636d-400e-bc38-da471ecf51e0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e1c6a695-636d-400e-bc38-da471ecf51e0]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-15T11:27:12.338Z] [worker-us-central1-api-e1c6a695-636d-400e-bc38-da471ecf51e0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e1c6a695-636d-400e-bc38-da471ecf51e0]: IDLE"}}
[debug] [2023-01-15T11:27:12.339Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 1222.686708ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 1222.686708ms"}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/storage/v1/b/todoapp-65153.appspot.com/o/undefined?"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/storage/v1/b/todoapp-65153.appspot.com/o/undefined?\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-15T11:27:33.783Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T11:27:33.782Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T11:27:33.784Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T11:27:33.782Z"],"workRunningCount":1}
[debug] [2023-01-15T11:27:33.784Z] Accepted request POST /todoapp-65153/us-central1/api/user/image --> us-central1-api
[debug] [2023-01-15T11:27:33.786Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T11:27:33.789Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image"}}
[debug] [2023-01-15T11:27:33.790Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T11:27:33.791Z] [worker-us-central1-api-e1c6a695-636d-400e-bc38-da471ecf51e0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e1c6a695-636d-400e-bc38-da471ecf51e0]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T11:27:34.162Z] [worker-us-central1-api-e1c6a695-636d-400e-bc38-da471ecf51e0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e1c6a695-636d-400e-bc38-da471ecf51e0]: IDLE"}}
[debug] [2023-01-15T11:27:34.162Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 358.391375ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 358.391375ms"}}
[debug] [2023-01-15T11:30:39.958Z] File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers"}}
[debug] [2023-01-15T11:30:40.971Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T11:30:42.018Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T11:30:42.018Z] Building nodejs source
[debug] [2023-01-15T11:30:42.020Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T11:30:42.036Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T11:30:42.036Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T11:30:42.037Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T11:30:42.036Z"],"workRunningCount":1}
[debug] [2023-01-15T11:30:42.037Z] Accepted request POST /todoapp-65153/us-central1/api/user/image --> us-central1-api
[debug] [2023-01-15T11:30:42.038Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T11:30:42.038Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image"}}
[debug] [2023-01-15T11:30:42.039Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T11:30:42.039Z] [worker-us-central1-api-e1c6a695-636d-400e-bc38-da471ecf51e0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e1c6a695-636d-400e-bc38-da471ecf51e0]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T11:30:42.308Z] Serving at port 9005

[debug] [2023-01-15T11:30:42.380Z] [worker-us-central1-api-e1c6a695-636d-400e-bc38-da471ecf51e0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e1c6a695-636d-400e-bc38-da471ecf51e0]: IDLE"}}
[debug] [2023-01-15T11:30:42.381Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 331.507334ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 331.507334ms"}}
[debug] [2023-01-15T11:30:42.616Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T11:30:42.625Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-01-15T11:30:42.636Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-01-15T11:30:42.636Z] [worker-us-central1-api-e1c6a695-636d-400e-bc38-da471ecf51e0]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e1c6a695-636d-400e-bc38-da471ecf51e0]: FINISHING"}}
[debug] [2023-01-15T11:30:42.647Z] [worker-us-central1-api-e1c6a695-636d-400e-bc38-da471ecf51e0]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e1c6a695-636d-400e-bc38-da471ecf51e0]: exited"}}
[debug] [2023-01-15T11:30:42.648Z] [worker-us-central1-api-e1c6a695-636d-400e-bc38-da471ecf51e0]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e1c6a695-636d-400e-bc38-da471ecf51e0]: FINISHED"}}
[debug] [2023-01-15T11:31:44.042Z] File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers"}}
[debug] [2023-01-15T11:31:45.061Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T11:31:46.122Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T11:31:46.122Z] Building nodejs source
[debug] [2023-01-15T11:31:46.124Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T11:31:46.414Z] Serving at port 9005

[debug] [2023-01-15T11:31:46.686Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T11:31:46.694Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-01-15T11:32:26.553Z] File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers"}}
[debug] [2023-01-15T11:32:27.566Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T11:32:28.448Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T11:32:28.449Z] Building nodejs source
[debug] [2023-01-15T11:32:28.449Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T11:32:28.748Z] Serving at port 9005

[debug] [2023-01-15T11:32:29.018Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T11:32:29.028Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-01-15T11:33:24.897Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T11:33:24.897Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T11:33:24.899Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T11:33:24.897Z"],"workRunningCount":1}
[debug] [2023-01-15T11:33:24.899Z] Accepted request POST /todoapp-65153/us-central1/api/user/image --> us-central1-api
[debug] [2023-01-15T11:33:24.906Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T11:33:24.911Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image"}}
[debug] [2023-01-15T11:33:24.913Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-01-15T11:33:24.959Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-15T11:33:24.960Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-01-15T11:33:25.976Z] [runtime-status] [87728] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87728] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T11:33:25.978Z] [runtime-status] [87728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T11:33:25.978Z] [runtime-status] [87728] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87728] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-15T11:33:25.978Z] [runtime-status] [87728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T11:33:26.014Z] [runtime-status] [87728] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87728] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-15T11:33:26.014Z] [runtime-status] [87728] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87728] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-15T11:33:26.016Z] [runtime-status] [87728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T11:33:26.017Z] [runtime-status] [87728] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87728] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T11:33:26.019Z] [runtime-status] [87728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T11:33:26.020Z] [runtime-status] [87728] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87728] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-15T11:33:26.109Z] [runtime-status] [87728] initializeApp(DEFAULT) {"storageBucket":"todoapp-65153.appspot.com","projectId":"todoapp-65153"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87728] initializeApp(DEFAULT) {\"storageBucket\":\"todoapp-65153.appspot.com\",\"projectId\":\"todoapp-65153\"}"}}
[debug] [2023-01-15T11:33:26.245Z] [runtime-status] [87728] Functions runtime initialized. {"cwd":"/Users/ryanguai/DCO-Tutorial/functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87728] Functions runtime initialized. {\"cwd\":\"/Users/ryanguai/DCO-Tutorial/functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2023-01-15T11:33:26.246Z] [runtime-status] [87728] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_e260f17a769917eb.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87728] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_e260f17a769917eb.sock"}}
[debug] [2023-01-15T11:33:26.330Z] [worker-us-central1-api-ac799508-2ada-4182-a899-74be4f834f53]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ac799508-2ada-4182-a899-74be4f834f53]: IDLE"}}
[debug] [2023-01-15T11:33:26.330Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T11:33:26.331Z] [worker-us-central1-api-ac799508-2ada-4182-a899-74be4f834f53]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ac799508-2ada-4182-a899-74be4f834f53]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-15T11:33:27.520Z] [worker-us-central1-api-ac799508-2ada-4182-a899-74be4f834f53]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ac799508-2ada-4182-a899-74be4f834f53]: IDLE"}}
[debug] [2023-01-15T11:33:27.521Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 1180.866958ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 1180.866958ms"}}
[info] >  ReferenceError: print is not defined {"user":"ReferenceError: print is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m ReferenceError: print is not defined"}}
[info] >      at Multipart.<anonymous> (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:128:6) {"user":"    at Multipart.<anonymous> (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:128:6)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Multipart.<anonymous> (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:128:6)"}}
[info] >      at Multipart.emit (node:events:390:28) {"user":"    at Multipart.emit (node:events:390:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Multipart.emit (node:events:390:28)"}}
[info] >      at HeaderParser.cb (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:358:14) {"user":"    at HeaderParser.cb (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:358:14)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at HeaderParser.cb (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:358:14)"}}
[info] >      at HeaderParser.push (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:162:20) {"user":"    at HeaderParser.push (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:162:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at HeaderParser.push (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:162:20)"}}
[info] >      at SBMH.ssCb [as _cb] (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:394:37) {"user":"    at SBMH.ssCb [as _cb] (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:394:37)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at SBMH.ssCb [as _cb] (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:394:37)"}}
[info] >      at feed (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:219:14) {"user":"    at feed (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:219:14)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at feed (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:219:14)"}}
[info] >      at SBMH.push (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:104:16) {"user":"    at SBMH.push (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:104:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at SBMH.push (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:104:16)"}}
[info] >      at Multipart._write (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:567:19) {"user":"    at Multipart._write (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:567:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Multipart._write (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:567:19)"}}
[info] >      at writeOrBuffer (node:internal/streams/writable:389:12) {"user":"    at writeOrBuffer (node:internal/streams/writable:389:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at writeOrBuffer (node:internal/streams/writable:389:12)"}}
[info] >      at _write (node:internal/streams/writable:330:10) {"user":"    at _write (node:internal/streams/writable:330:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at _write (node:internal/streams/writable:330:10)"}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/storage/v1/b/todoapp-65153.appspot.com/o/undefined?"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/storage/v1/b/todoapp-65153.appspot.com/o/undefined?\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-15T11:33:58.877Z] File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers"}}
[debug] [2023-01-15T11:33:59.901Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T11:34:00.834Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T11:34:00.834Z] Building nodejs source
[debug] [2023-01-15T11:34:00.835Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T11:34:00.856Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T11:34:00.856Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T11:34:00.856Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T11:34:00.856Z"],"workRunningCount":1}
[debug] [2023-01-15T11:34:00.856Z] Accepted request POST /todoapp-65153/us-central1/api/user/image --> us-central1-api
[debug] [2023-01-15T11:34:00.857Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T11:34:00.857Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image"}}
[debug] [2023-01-15T11:34:00.858Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T11:34:00.861Z] [worker-us-central1-api-ac799508-2ada-4182-a899-74be4f834f53]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ac799508-2ada-4182-a899-74be4f834f53]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T11:34:01.134Z] Serving at port 9005

[debug] [2023-01-15T11:34:01.217Z] [worker-us-central1-api-ac799508-2ada-4182-a899-74be4f834f53]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ac799508-2ada-4182-a899-74be4f834f53]: IDLE"}}
[debug] [2023-01-15T11:34:01.217Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 342.322042ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 342.322042ms"}}
[info] >  ReferenceError: print is not defined {"user":"ReferenceError: print is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m ReferenceError: print is not defined"}}
[info] >      at Multipart.<anonymous> (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:128:6) {"user":"    at Multipart.<anonymous> (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:128:6)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Multipart.<anonymous> (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:128:6)"}}
[info] >      at Multipart.emit (node:events:390:28) {"user":"    at Multipart.emit (node:events:390:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Multipart.emit (node:events:390:28)"}}
[info] >      at HeaderParser.cb (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:358:14) {"user":"    at HeaderParser.cb (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:358:14)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at HeaderParser.cb (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:358:14)"}}
[info] >      at HeaderParser.push (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:162:20) {"user":"    at HeaderParser.push (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:162:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at HeaderParser.push (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:162:20)"}}
[info] >      at SBMH.ssCb [as _cb] (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:394:37) {"user":"    at SBMH.ssCb [as _cb] (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:394:37)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at SBMH.ssCb [as _cb] (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:394:37)"}}
[info] >      at feed (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:219:14) {"user":"    at feed (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:219:14)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at feed (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:219:14)"}}
[info] >      at SBMH.push (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:104:16) {"user":"    at SBMH.push (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:104:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at SBMH.push (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:104:16)"}}
[info] >      at Multipart._write (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:567:19) {"user":"    at Multipart._write (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:567:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Multipart._write (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:567:19)"}}
[info] >      at writeOrBuffer (node:internal/streams/writable:389:12) {"user":"    at writeOrBuffer (node:internal/streams/writable:389:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at writeOrBuffer (node:internal/streams/writable:389:12)"}}
[info] >      at _write (node:internal/streams/writable:330:10) {"user":"    at _write (node:internal/streams/writable:330:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at _write (node:internal/streams/writable:330:10)"}}
[debug] [2023-01-15T11:34:01.405Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T11:34:01.416Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-01-15T11:34:01.425Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-01-15T11:34:01.425Z] [worker-us-central1-api-ac799508-2ada-4182-a899-74be4f834f53]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ac799508-2ada-4182-a899-74be4f834f53]: FINISHING"}}
[debug] [2023-01-15T11:34:01.435Z] [worker-us-central1-api-ac799508-2ada-4182-a899-74be4f834f53]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ac799508-2ada-4182-a899-74be4f834f53]: exited"}}
[debug] [2023-01-15T11:34:01.435Z] [worker-us-central1-api-ac799508-2ada-4182-a899-74be4f834f53]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ac799508-2ada-4182-a899-74be4f834f53]: FINISHED"}}
[debug] [2023-01-15T11:34:11.300Z] File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers"}}
[debug] [2023-01-15T11:34:12.256Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T11:34:12.255Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T11:34:12.258Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T11:34:12.255Z"],"workRunningCount":1}
[debug] [2023-01-15T11:34:12.258Z] Accepted request POST /todoapp-65153/us-central1/api/user/image --> us-central1-api
[debug] [2023-01-15T11:34:12.260Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T11:34:12.261Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image"}}
[debug] [2023-01-15T11:34:12.261Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-01-15T11:34:12.313Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-15T11:34:12.314Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-01-15T11:34:12.325Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T11:34:13.187Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T11:34:13.187Z] Building nodejs source
[debug] [2023-01-15T11:34:13.191Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T11:34:13.464Z] [runtime-status] [87745] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87745] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T11:34:13.466Z] [runtime-status] [87745] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87745] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T11:34:13.466Z] [runtime-status] [87745] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87745] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-15T11:34:13.466Z] [runtime-status] [87745] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87745] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T11:34:13.516Z] [runtime-status] [87745] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87745] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-15T11:34:13.519Z] [runtime-status] [87745] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87745] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-15T11:34:13.520Z] Serving at port 9005

[debug] [2023-01-15T11:34:13.521Z] [runtime-status] [87745] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87745] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T11:34:13.521Z] [runtime-status] [87745] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87745] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T11:34:13.521Z] [runtime-status] [87745] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87745] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T11:34:13.521Z] [runtime-status] [87745] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87745] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-15T11:34:13.595Z] [runtime-status] [87745] initializeApp(DEFAULT) {"storageBucket":"todoapp-65153.appspot.com","projectId":"todoapp-65153"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87745] initializeApp(DEFAULT) {\"storageBucket\":\"todoapp-65153.appspot.com\",\"projectId\":\"todoapp-65153\"}"}}
[debug] [2023-01-15T11:34:13.735Z] [runtime-status] [87745] Functions runtime initialized. {"cwd":"/Users/ryanguai/DCO-Tutorial/functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87745] Functions runtime initialized. {\"cwd\":\"/Users/ryanguai/DCO-Tutorial/functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2023-01-15T11:34:13.741Z] [runtime-status] [87745] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_0e402eaed7805080.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87745] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_0e402eaed7805080.sock"}}
[debug] [2023-01-15T11:34:13.771Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T11:34:13.781Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-01-15T11:34:13.830Z] [worker-us-central1-api-575c5ff6-d0d1-4d59-a095-dde182b5d115]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-575c5ff6-d0d1-4d59-a095-dde182b5d115]: IDLE"}}
[debug] [2023-01-15T11:34:13.830Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T11:34:13.831Z] [worker-us-central1-api-575c5ff6-d0d1-4d59-a095-dde182b5d115]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-575c5ff6-d0d1-4d59-a095-dde182b5d115]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  undefined {"user":"undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m undefined"}}
[debug] [2023-01-15T11:34:15.855Z] [worker-us-central1-api-575c5ff6-d0d1-4d59-a095-dde182b5d115]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-575c5ff6-d0d1-4d59-a095-dde182b5d115]: IDLE"}}
[debug] [2023-01-15T11:34:15.855Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 2017.040625ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 2017.040625ms"}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/storage/v1/b/todoapp-65153.appspot.com/o/undefined?"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/storage/v1/b/todoapp-65153.appspot.com/o/undefined?\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-15T11:34:40.494Z] File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers"}}
[debug] [2023-01-15T11:34:41.511Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T11:34:42.397Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T11:34:42.397Z] Building nodejs source
[debug] [2023-01-15T11:34:42.399Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T11:34:42.681Z] Serving at port 9005

[debug] [2023-01-15T11:34:42.941Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T11:34:42.949Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-01-15T11:34:42.964Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-01-15T11:34:42.964Z] [worker-us-central1-api-575c5ff6-d0d1-4d59-a095-dde182b5d115]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-575c5ff6-d0d1-4d59-a095-dde182b5d115]: FINISHING"}}
[debug] [2023-01-15T11:34:42.980Z] [worker-us-central1-api-575c5ff6-d0d1-4d59-a095-dde182b5d115]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-575c5ff6-d0d1-4d59-a095-dde182b5d115]: exited"}}
[debug] [2023-01-15T11:34:42.980Z] [worker-us-central1-api-575c5ff6-d0d1-4d59-a095-dde182b5d115]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-575c5ff6-d0d1-4d59-a095-dde182b5d115]: FINISHED"}}
[debug] [2023-01-15T11:34:43.100Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T11:34:43.100Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T11:34:43.100Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T11:34:43.100Z"],"workRunningCount":1}
[debug] [2023-01-15T11:34:43.100Z] Accepted request POST /todoapp-65153/us-central1/api/user/image --> us-central1-api
[debug] [2023-01-15T11:34:43.101Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T11:34:43.102Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image"}}
[debug] [2023-01-15T11:34:43.102Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-01-15T11:34:43.119Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-15T11:34:43.120Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-01-15T11:34:44.121Z] [runtime-status] [87759] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87759] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T11:34:44.125Z] [runtime-status] [87759] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87759] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T11:34:44.125Z] [runtime-status] [87759] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87759] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-15T11:34:44.125Z] [runtime-status] [87759] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87759] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T11:34:44.159Z] [runtime-status] [87759] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87759] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-15T11:34:44.159Z] [runtime-status] [87759] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87759] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-15T11:34:44.161Z] [runtime-status] [87759] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87759] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T11:34:44.161Z] [runtime-status] [87759] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87759] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T11:34:44.163Z] [runtime-status] [87759] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87759] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T11:34:44.163Z] [runtime-status] [87759] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87759] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-15T11:34:44.217Z] [runtime-status] [87759] initializeApp(DEFAULT) {"storageBucket":"todoapp-65153.appspot.com","projectId":"todoapp-65153"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87759] initializeApp(DEFAULT) {\"storageBucket\":\"todoapp-65153.appspot.com\",\"projectId\":\"todoapp-65153\"}"}}
[debug] [2023-01-15T11:34:44.314Z] [runtime-status] [87759] Functions runtime initialized. {"cwd":"/Users/ryanguai/DCO-Tutorial/functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87759] Functions runtime initialized. {\"cwd\":\"/Users/ryanguai/DCO-Tutorial/functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2023-01-15T11:34:44.314Z] [runtime-status] [87759] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_8722edcbd526a848.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [87759] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_8722edcbd526a848.sock"}}
[debug] [2023-01-15T11:34:44.377Z] [worker-us-central1-api-d64efef0-5cd6-42ef-87a9-25ee2e91b253]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d64efef0-5cd6-42ef-87a9-25ee2e91b253]: IDLE"}}
[debug] [2023-01-15T11:34:44.377Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T11:34:44.377Z] [worker-us-central1-api-d64efef0-5cd6-42ef-87a9-25ee2e91b253]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d64efef0-5cd6-42ef-87a9-25ee2e91b253]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-15T11:34:46.375Z] [worker-us-central1-api-d64efef0-5cd6-42ef-87a9-25ee2e91b253]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d64efef0-5cd6-42ef-87a9-25ee2e91b253]: IDLE"}}
[debug] [2023-01-15T11:34:46.375Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 1987.8906670000001ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 1987.8906670000001ms"}}
[info] >  TypeError: filename.split is not a function {"user":"TypeError: filename.split is not a function","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: filename.split is not a function"}}
[info] >      at Multipart.<anonymous> (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:131:35) {"user":"    at Multipart.<anonymous> (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:131:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Multipart.<anonymous> (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:131:35)"}}
[info] >      at Multipart.emit (node:events:390:28) {"user":"    at Multipart.emit (node:events:390:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Multipart.emit (node:events:390:28)"}}
[info] >      at HeaderParser.cb (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:358:14) {"user":"    at HeaderParser.cb (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:358:14)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at HeaderParser.cb (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:358:14)"}}
[info] >      at HeaderParser.push (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:162:20) {"user":"    at HeaderParser.push (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:162:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at HeaderParser.push (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:162:20)"}}
[info] >      at SBMH.ssCb [as _cb] (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:394:37) {"user":"    at SBMH.ssCb [as _cb] (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:394:37)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at SBMH.ssCb [as _cb] (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:394:37)"}}
[info] >      at feed (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:219:14) {"user":"    at feed (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:219:14)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at feed (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:219:14)"}}
[info] >      at SBMH.push (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:104:16) {"user":"    at SBMH.push (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:104:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at SBMH.push (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:104:16)"}}
[info] >      at Multipart._write (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:567:19) {"user":"    at Multipart._write (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:567:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Multipart._write (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:567:19)"}}
[info] >      at writeOrBuffer (node:internal/streams/writable:389:12) {"user":"    at writeOrBuffer (node:internal/streams/writable:389:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at writeOrBuffer (node:internal/streams/writable:389:12)"}}
[info] >      at _write (node:internal/streams/writable:330:10) {"user":"    at _write (node:internal/streams/writable:330:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at _write (node:internal/streams/writable:330:10)"}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/storage/v1/b/todoapp-65153.appspot.com/o/undefined?"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/storage/v1/b/todoapp-65153.appspot.com/o/undefined?\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-15T13:44:55.387Z] File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers"}}
[debug] [2023-01-15T13:44:56.423Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T13:44:57.622Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T13:44:57.622Z] Building nodejs source
[debug] [2023-01-15T13:44:57.623Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T13:44:57.928Z] Serving at port 9005

[debug] [2023-01-15T13:44:58.041Z] Got response from /__/functions.yaml Failed to generate manifest from function source: SyntaxError: Unexpected token '=>'
[debug] [2023-01-15T13:44:58.046Z] Failed to parse functions.yamlincomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 62:
     ... rom function source: SyntaxError: Unexpected token '=>'
                                         ^ {"name":"YAMLException","reason":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line","mark":{"name":null,"buffer":"Failed to generate manifest from function source: SyntaxError: Unexpected token '=>'\n\u0000","position":61,"line":0,"column":61},"message":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 62:\n     ... rom function source: SyntaxError: Unexpected token '=>'\n                                         ^"}
[debug] [2023-01-15T13:44:58.062Z] shutdown requested via /__/quitquitquit

[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: SyntaxError: Unexpected token '=>' {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: SyntaxError: Unexpected token '=>'"}}
[debug] [2023-01-15T13:45:11.307Z] File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers"}}
[debug] [2023-01-15T13:45:12.327Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T13:45:13.306Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T13:45:13.306Z] Building nodejs source
[debug] [2023-01-15T13:45:13.309Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T13:45:13.595Z] Serving at port 9005

[debug] [2023-01-15T13:45:13.884Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T13:45:13.893Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-01-15T13:45:13.902Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-01-15T13:45:13.902Z] [worker-us-central1-api-d64efef0-5cd6-42ef-87a9-25ee2e91b253]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d64efef0-5cd6-42ef-87a9-25ee2e91b253]: FINISHING"}}
[debug] [2023-01-15T13:45:13.914Z] [worker-us-central1-api-d64efef0-5cd6-42ef-87a9-25ee2e91b253]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d64efef0-5cd6-42ef-87a9-25ee2e91b253]: exited"}}
[debug] [2023-01-15T13:45:13.914Z] [worker-us-central1-api-d64efef0-5cd6-42ef-87a9-25ee2e91b253]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d64efef0-5cd6-42ef-87a9-25ee2e91b253]: FINISHED"}}
[debug] [2023-01-15T13:45:18.613Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T13:45:18.613Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T13:45:18.615Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T13:45:18.613Z"],"workRunningCount":1}
[debug] [2023-01-15T13:45:18.615Z] Accepted request POST /todoapp-65153/us-central1/api/user/image --> us-central1-api
[debug] [2023-01-15T13:45:18.618Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T13:45:18.619Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image"}}
[debug] [2023-01-15T13:45:18.620Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-01-15T13:45:18.683Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-15T13:45:18.684Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-01-15T13:45:19.767Z] [runtime-status] [89240] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89240] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T13:45:19.770Z] [runtime-status] [89240] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89240] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T13:45:19.770Z] [runtime-status] [89240] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89240] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-15T13:45:19.770Z] [runtime-status] [89240] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89240] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T13:45:19.804Z] [runtime-status] [89240] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89240] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-15T13:45:19.804Z] [runtime-status] [89240] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89240] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-15T13:45:19.805Z] [runtime-status] [89240] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89240] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T13:45:19.806Z] [runtime-status] [89240] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89240] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T13:45:19.808Z] [runtime-status] [89240] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89240] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T13:45:19.809Z] [runtime-status] [89240] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89240] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-15T13:45:19.880Z] [runtime-status] [89240] initializeApp(DEFAULT) {"storageBucket":"todoapp-65153.appspot.com","projectId":"todoapp-65153"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89240] initializeApp(DEFAULT) {\"storageBucket\":\"todoapp-65153.appspot.com\",\"projectId\":\"todoapp-65153\"}"}}
[debug] [2023-01-15T13:45:20.008Z] [runtime-status] [89240] Functions runtime initialized. {"cwd":"/Users/ryanguai/DCO-Tutorial/functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89240] Functions runtime initialized. {\"cwd\":\"/Users/ryanguai/DCO-Tutorial/functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2023-01-15T13:45:20.008Z] [runtime-status] [89240] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_635f94e717a8917e.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89240] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_635f94e717a8917e.sock"}}
[debug] [2023-01-15T13:45:20.067Z] [worker-us-central1-api-1af7cbce-51e2-419e-8d60-08480ed370f4]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1af7cbce-51e2-419e-8d60-08480ed370f4]: IDLE"}}
[debug] [2023-01-15T13:45:20.067Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T13:45:20.068Z] [worker-us-central1-api-1af7cbce-51e2-419e-8d60-08480ed370f4]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1af7cbce-51e2-419e-8d60-08480ed370f4]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] >  Error while verifying token FirebaseAuthError: Firebase ID token has expired. Get a fresh ID token from your client app and try again (auth/id-token-expired). See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token. {"user":"Error while verifying token FirebaseAuthError: Firebase ID token has expired. Get a fresh ID token from your client app and try again (auth/id-token-expired). See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error while verifying token FirebaseAuthError: Firebase ID token has expired. Get a fresh ID token from your client app and try again (auth/id-token-expired). See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token."}}
[info] >      at FirebaseAuthError.FirebaseError [as constructor] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/utils/error.js:44:28) {"user":"    at FirebaseAuthError.FirebaseError [as constructor] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/utils/error.js:44:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at FirebaseAuthError.FirebaseError [as constructor] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/utils/error.js:44:28)"}}
[info] >      at FirebaseAuthError.PrefixedFirebaseError [as constructor] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/utils/error.js:90:28) {"user":"    at FirebaseAuthError.PrefixedFirebaseError [as constructor] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/utils/error.js:90:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at FirebaseAuthError.PrefixedFirebaseError [as constructor] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/utils/error.js:90:28)"}}
[info] >      at new FirebaseAuthError (/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/utils/error.js:149:16) {"user":"    at new FirebaseAuthError (/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/utils/error.js:149:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at new FirebaseAuthError (/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/utils/error.js:149:16)"}}
[info] >      at FirebaseTokenVerifier.mapJwtErrorToAuthError (/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/auth/token-verifier.js:269:20) {"user":"    at FirebaseTokenVerifier.mapJwtErrorToAuthError (/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/auth/token-verifier.js:269:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at FirebaseTokenVerifier.mapJwtErrorToAuthError (/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/auth/token-verifier.js:269:20)"}}
[info] >      at /Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/auth/token-verifier.js:253:25 {"user":"    at /Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/auth/token-verifier.js:253:25","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/auth/token-verifier.js:253:25"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    errorInfo: { {"user":"  errorInfo: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   errorInfo: {"}}
[info] >      code: 'auth/id-token-expired', {"user":"    code: 'auth/id-token-expired',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'auth/id-token-expired',"}}
[info] >      message: 'Firebase ID token has expired. Get a fresh ID token from your client app and try again (auth/id-token-expired). See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.' {"user":"    message: 'Firebase ID token has expired. Get a fresh ID token from your client app and try again (auth/id-token-expired). See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'Firebase ID token has expired. Get a fresh ID token from your client app and try again (auth/id-token-expired). See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    codePrefix: 'auth' {"user":"  codePrefix: 'auth'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   codePrefix: 'auth'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-01-15T13:45:20.325Z] [worker-us-central1-api-1af7cbce-51e2-419e-8d60-08480ed370f4]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1af7cbce-51e2-419e-8d60-08480ed370f4]: IDLE"}}
[debug] [2023-01-15T13:45:20.325Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 230.348875ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 230.348875ms"}}
[debug] [2023-01-15T13:46:33.283Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/login-2023-01-15T13:46:33.283Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T13:46:33.286Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/login-2023-01-15T13:46:33.283Z"],"workRunningCount":1}
[debug] [2023-01-15T13:46:33.286Z] Accepted request POST /todoapp-65153/us-central1/api/login --> us-central1-api
[debug] [2023-01-15T13:46:33.289Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T13:46:33.290Z] [functions] Got req.url=/todoapp-65153/us-central1/api/login, mapping to path=/login {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/login, mapping to path=/login"}}
[debug] [2023-01-15T13:46:33.292Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T13:46:33.292Z] [worker-us-central1-api-1af7cbce-51e2-419e-8d60-08480ed370f4]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1af7cbce-51e2-419e-8d60-08480ed370f4]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T13:46:33.951Z] [worker-us-central1-api-1af7cbce-51e2-419e-8d60-08480ed370f4]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1af7cbce-51e2-419e-8d60-08480ed370f4]: IDLE"}}
[debug] [2023-01-15T13:46:33.952Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 605.06475ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 605.06475ms"}}
[debug] [2023-01-15T13:47:26.869Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T13:47:26.869Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T13:47:26.870Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T13:47:26.869Z"],"workRunningCount":1}
[debug] [2023-01-15T13:47:26.871Z] Accepted request POST /todoapp-65153/us-central1/api/user/image --> us-central1-api
[debug] [2023-01-15T13:47:26.873Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T13:47:26.874Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image"}}
[debug] [2023-01-15T13:47:26.874Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T13:47:26.874Z] [worker-us-central1-api-1af7cbce-51e2-419e-8d60-08480ed370f4]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1af7cbce-51e2-419e-8d60-08480ed370f4]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-15T13:47:29.186Z] [worker-us-central1-api-1af7cbce-51e2-419e-8d60-08480ed370f4]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1af7cbce-51e2-419e-8d60-08480ed370f4]: IDLE"}}
[debug] [2023-01-15T13:47:29.187Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 2286.1045ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 2286.1045ms"}}
[info] >  TypeError: filename.split is not a function {"user":"TypeError: filename.split is not a function","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: filename.split is not a function"}}
[info] >      at Multipart.<anonymous> (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:131:35) {"user":"    at Multipart.<anonymous> (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:131:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Multipart.<anonymous> (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:131:35)"}}
[info] >      at Multipart.emit (node:events:390:28) {"user":"    at Multipart.emit (node:events:390:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Multipart.emit (node:events:390:28)"}}
[info] >      at HeaderParser.cb (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:358:14) {"user":"    at HeaderParser.cb (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:358:14)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at HeaderParser.cb (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:358:14)"}}
[info] >      at HeaderParser.push (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:162:20) {"user":"    at HeaderParser.push (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:162:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at HeaderParser.push (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:162:20)"}}
[info] >      at SBMH.ssCb [as _cb] (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:394:37) {"user":"    at SBMH.ssCb [as _cb] (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:394:37)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at SBMH.ssCb [as _cb] (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:394:37)"}}
[info] >      at feed (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:219:14) {"user":"    at feed (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:219:14)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at feed (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:219:14)"}}
[info] >      at SBMH.push (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:104:16) {"user":"    at SBMH.push (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:104:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at SBMH.push (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:104:16)"}}
[info] >      at Multipart._write (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:567:19) {"user":"    at Multipart._write (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:567:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Multipart._write (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:567:19)"}}
[info] >      at writeOrBuffer (node:internal/streams/writable:389:12) {"user":"    at writeOrBuffer (node:internal/streams/writable:389:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at writeOrBuffer (node:internal/streams/writable:389:12)"}}
[info] >      at _write (node:internal/streams/writable:330:10) {"user":"    at _write (node:internal/streams/writable:330:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at _write (node:internal/streams/writable:330:10)"}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/storage/v1/b/todoapp-65153.appspot.com/o/undefined?"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/storage/v1/b/todoapp-65153.appspot.com/o/undefined?\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-15T13:47:38.527Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T13:47:38.527Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T13:47:38.527Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T13:47:38.527Z"],"workRunningCount":1}
[debug] [2023-01-15T13:47:38.528Z] Accepted request POST /todoapp-65153/us-central1/api/user/image --> us-central1-api
[debug] [2023-01-15T13:47:38.529Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T13:47:38.530Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image"}}
[debug] [2023-01-15T13:47:38.530Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T13:47:38.530Z] [worker-us-central1-api-1af7cbce-51e2-419e-8d60-08480ed370f4]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1af7cbce-51e2-419e-8d60-08480ed370f4]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T13:47:39.148Z] [worker-us-central1-api-1af7cbce-51e2-419e-8d60-08480ed370f4]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1af7cbce-51e2-419e-8d60-08480ed370f4]: IDLE"}}
[debug] [2023-01-15T13:47:39.148Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 596.657792ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 596.657792ms"}}
[info] >  TypeError: filename.split is not a function {"user":"TypeError: filename.split is not a function","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: filename.split is not a function"}}
[info] >      at Multipart.<anonymous> (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:131:35) {"user":"    at Multipart.<anonymous> (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:131:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Multipart.<anonymous> (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:131:35)"}}
[info] >      at Multipart.emit (node:events:390:28) {"user":"    at Multipart.emit (node:events:390:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Multipart.emit (node:events:390:28)"}}
[info] >      at HeaderParser.cb (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:358:14) {"user":"    at HeaderParser.cb (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:358:14)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at HeaderParser.cb (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:358:14)"}}
[info] >      at HeaderParser.push (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:162:20) {"user":"    at HeaderParser.push (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:162:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at HeaderParser.push (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:162:20)"}}
[info] >      at SBMH.ssCb [as _cb] (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:394:37) {"user":"    at SBMH.ssCb [as _cb] (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:394:37)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at SBMH.ssCb [as _cb] (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:394:37)"}}
[info] >      at feed (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:219:14) {"user":"    at feed (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:219:14)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at feed (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:219:14)"}}
[info] >      at SBMH.push (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:104:16) {"user":"    at SBMH.push (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:104:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at SBMH.push (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:104:16)"}}
[info] >      at Multipart._write (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:567:19) {"user":"    at Multipart._write (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:567:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Multipart._write (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:567:19)"}}
[info] >      at writeOrBuffer (node:internal/streams/writable:389:12) {"user":"    at writeOrBuffer (node:internal/streams/writable:389:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at writeOrBuffer (node:internal/streams/writable:389:12)"}}
[info] >      at _write (node:internal/streams/writable:330:10) {"user":"    at _write (node:internal/streams/writable:330:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at _write (node:internal/streams/writable:330:10)"}}
[debug] [2023-01-15T13:48:15.325Z] ----------------------------------------------------------------------
[debug] [2023-01-15T13:48:15.326Z] Command:       /usr/local/bin/node /Users/ryanguai/.npm-global/bin/firebase serve
[debug] [2023-01-15T13:48:15.327Z] CLI Version:   11.20.0
[debug] [2023-01-15T13:48:15.327Z] Platform:      darwin
[debug] [2023-01-15T13:48:15.328Z] Node Version:  v16.13.0
[debug] [2023-01-15T13:48:15.332Z] Time:          Sun Jan 15 2023 21:48:15 GMT+0800 (Singapore Standard Time)
[debug] [2023-01-15T13:48:15.333Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-01-15T13:48:15.450Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-01-15T13:48:15.452Z] > authorizing via signed-in user (e0694442@u.nus.edu)
[debug] [2023-01-15T13:48:15.452Z] [iam] checking project todoapp-65153 for permissions ["firebase.projects.get"]
[debug] [2023-01-15T13:48:15.454Z] > refreshing access token with scopes: []
[debug] [2023-01-15T13:48:15.456Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2023-01-15T13:48:15.457Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-01-15T13:48:15.583Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2023-01-15T13:48:15.586Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-01-15T13:48:15.630Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions [none]
[debug] [2023-01-15T13:48:15.631Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions x-goog-quota-user=projects/todoapp-65153
[debug] [2023-01-15T13:48:15.632Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-01-15T13:48:16.793Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions 200
[debug] [2023-01-15T13:48:16.797Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-01-15T13:48:16.799Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 [none]
[debug] [2023-01-15T13:48:17.167Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 200
[debug] [2023-01-15T13:48:17.169Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 {"projectId":"todoapp-65153","projectNumber":"171978637376","displayName":"TodoApp","name":"projects/todoapp-65153","resources":{"hostingSite":"todoapp-65153","storageBucket":"todoapp-65153.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_64621f78-c1b2-4c65-8844-6916a85c0849"}
[info] 
[info] === Serving from '/Users/ryanguai/DCO-Tutorial'...
[info] 
[info] ✔  functions: Using node@16 from host. {"metadata":{"emulator":{"name":"functions"},"message":"Using node@16 from host."}}
[debug] [2023-01-15T13:48:17.202Z] defaultcredentials: writing to file /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json
[debug] [2023-01-15T13:48:17.206Z] Setting GAC to /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json"}}
[debug] [2023-01-15T13:48:17.208Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig [none]
[debug] [2023-01-15T13:48:17.613Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig 200
[debug] [2023-01-15T13:48:17.615Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig {"projectId":"todoapp-65153","storageBucket":"todoapp-65153.appspot.com","locationId":"us-central"}
[info] i  functions: Watching "/Users/ryanguai/DCO-Tutorial/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/ryanguai/DCO-Tutorial/functions\" for Cloud Functions..."}}
[debug] [2023-01-15T13:48:17.683Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T13:48:18.583Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T13:48:18.585Z] Building nodejs source
[debug] [2023-01-15T13:48:18.590Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T13:48:18.901Z] Serving at port 9005

[debug] [2023-01-15T13:48:19.195Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T13:48:19.208Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions[us-central1-api]: http function initialized (http://localhost:5000/todoapp-65153/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5000/todoapp-65153/us-central1/api)."}}
[debug] [2023-01-15T13:48:27.555Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T13:48:27.554Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T13:48:27.560Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T13:48:27.554Z"],"workRunningCount":1}
[debug] [2023-01-15T13:48:27.562Z] Accepted request POST /todoapp-65153/us-central1/api/user/image --> us-central1-api
[debug] [2023-01-15T13:48:27.565Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T13:48:27.566Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image"}}
[debug] [2023-01-15T13:48:27.607Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-15T13:48:27.608Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-01-15T13:48:28.578Z] [runtime-status] [89292] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89292] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T13:48:28.581Z] [runtime-status] [89292] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89292] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T13:48:28.581Z] [runtime-status] [89292] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89292] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-15T13:48:28.581Z] [runtime-status] [89292] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89292] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T13:48:28.616Z] [runtime-status] [89292] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89292] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-15T13:48:28.616Z] [runtime-status] [89292] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89292] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-15T13:48:28.617Z] [runtime-status] [89292] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89292] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T13:48:28.618Z] [runtime-status] [89292] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89292] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T13:48:28.619Z] [runtime-status] [89292] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89292] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T13:48:28.620Z] [runtime-status] [89292] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89292] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-15T13:48:28.692Z] [runtime-status] [89292] initializeApp(DEFAULT) {"storageBucket":"todoapp-65153.appspot.com","projectId":"todoapp-65153"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89292] initializeApp(DEFAULT) {\"storageBucket\":\"todoapp-65153.appspot.com\",\"projectId\":\"todoapp-65153\"}"}}
[warn] ⚠  functions: The Cloud Firestore emulator is not running, so calls to Firestore will affect production. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"The Cloud Firestore emulator is not running, so calls to Firestore will affect production."}}
[debug] [2023-01-15T13:48:28.848Z] [runtime-status] [89292] Functions runtime initialized. {"cwd":"/Users/ryanguai/DCO-Tutorial/functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89292] Functions runtime initialized. {\"cwd\":\"/Users/ryanguai/DCO-Tutorial/functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2023-01-15T13:48:28.849Z] [runtime-status] [89292] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_638426dc33583666.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89292] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_638426dc33583666.sock"}}
[debug] [2023-01-15T13:48:28.889Z] [worker-us-central1-api-94f4b3b4-b34c-40e8-87d7-c57bc6a7c748]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-94f4b3b4-b34c-40e8-87d7-c57bc6a7c748]: IDLE"}}
[debug] [2023-01-15T13:48:28.890Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T13:48:28.890Z] [worker-us-central1-api-94f4b3b4-b34c-40e8-87d7-c57bc6a7c748]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-94f4b3b4-b34c-40e8-87d7-c57bc6a7c748]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[warn] ⚠  functions: The Firebase Authentication emulator is not running, so calls to Firebase Authentication will affect production. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"The Firebase Authentication emulator is not running, so calls to Firebase Authentication will affect production."}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  functions: The Firebase Storage emulator is not running, so calls to Firebase Storage will affect production. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"The Firebase Storage emulator is not running, so calls to Firebase Storage will affect production."}}
[debug] [2023-01-15T13:48:29.998Z] [worker-us-central1-api-94f4b3b4-b34c-40e8-87d7-c57bc6a7c748]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-94f4b3b4-b34c-40e8-87d7-c57bc6a7c748]: IDLE"}}
[debug] [2023-01-15T13:48:29.998Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 1100.028875ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 1100.028875ms"}}
[info] >  TypeError: filename.split is not a function {"user":"TypeError: filename.split is not a function","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: filename.split is not a function"}}
[info] >      at Multipart.<anonymous> (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:131:35) {"user":"    at Multipart.<anonymous> (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:131:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Multipart.<anonymous> (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:131:35)"}}
[info] >      at Multipart.emit (node:events:390:28) {"user":"    at Multipart.emit (node:events:390:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Multipart.emit (node:events:390:28)"}}
[info] >      at HeaderParser.cb (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:358:14) {"user":"    at HeaderParser.cb (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:358:14)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at HeaderParser.cb (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:358:14)"}}
[info] >      at HeaderParser.push (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:162:20) {"user":"    at HeaderParser.push (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:162:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at HeaderParser.push (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:162:20)"}}
[info] >      at SBMH.ssCb [as _cb] (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:394:37) {"user":"    at SBMH.ssCb [as _cb] (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:394:37)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at SBMH.ssCb [as _cb] (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:394:37)"}}
[info] >      at feed (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:219:14) {"user":"    at feed (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:219:14)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at feed (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:219:14)"}}
[info] >      at SBMH.push (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:104:16) {"user":"    at SBMH.push (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:104:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at SBMH.push (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:104:16)"}}
[info] >      at Multipart._write (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:567:19) {"user":"    at Multipart._write (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:567:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Multipart._write (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:567:19)"}}
[info] >      at writeOrBuffer (node:internal/streams/writable:389:12) {"user":"    at writeOrBuffer (node:internal/streams/writable:389:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at writeOrBuffer (node:internal/streams/writable:389:12)"}}
[info] >      at _write (node:internal/streams/writable:330:10) {"user":"    at _write (node:internal/streams/writable:330:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at _write (node:internal/streams/writable:330:10)"}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/storage/v1/b/todoapp-65153.appspot.com/o/undefined?"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/storage/v1/b/todoapp-65153.appspot.com/o/undefined?\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-15T13:54:59.037Z] File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers"}}
[debug] [2023-01-15T13:55:00.055Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T13:55:01.122Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T13:55:01.122Z] Building nodejs source
[debug] [2023-01-15T13:55:01.123Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T13:55:01.412Z] Serving at port 9005

[debug] [2023-01-15T13:55:01.692Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T13:55:01.704Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-01-15T13:55:01.711Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-01-15T13:55:01.711Z] [worker-us-central1-api-94f4b3b4-b34c-40e8-87d7-c57bc6a7c748]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-94f4b3b4-b34c-40e8-87d7-c57bc6a7c748]: FINISHING"}}
[debug] [2023-01-15T13:55:01.723Z] [worker-us-central1-api-94f4b3b4-b34c-40e8-87d7-c57bc6a7c748]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-94f4b3b4-b34c-40e8-87d7-c57bc6a7c748]: exited"}}
[debug] [2023-01-15T13:55:01.723Z] [worker-us-central1-api-94f4b3b4-b34c-40e8-87d7-c57bc6a7c748]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-94f4b3b4-b34c-40e8-87d7-c57bc6a7c748]: FINISHED"}}
[debug] [2023-01-15T13:55:04.136Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T13:55:04.136Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T13:55:04.137Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T13:55:04.136Z"],"workRunningCount":1}
[debug] [2023-01-15T13:55:04.137Z] Accepted request POST /todoapp-65153/us-central1/api/user/image --> us-central1-api
[debug] [2023-01-15T13:55:04.139Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T13:55:04.140Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image"}}
[debug] [2023-01-15T13:55:04.141Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-01-15T13:55:04.162Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-15T13:55:04.163Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-01-15T13:55:05.189Z] [runtime-status] [89387] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89387] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T13:55:05.193Z] [runtime-status] [89387] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89387] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T13:55:05.194Z] [runtime-status] [89387] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89387] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-15T13:55:05.194Z] [runtime-status] [89387] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89387] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T13:55:05.220Z] [runtime-status] [89387] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89387] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-15T13:55:05.220Z] [runtime-status] [89387] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89387] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-15T13:55:05.222Z] [runtime-status] [89387] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89387] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T13:55:05.223Z] [runtime-status] [89387] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89387] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T13:55:05.225Z] [runtime-status] [89387] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89387] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T13:55:05.226Z] [runtime-status] [89387] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89387] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-15T13:55:05.285Z] [runtime-status] [89387] initializeApp(DEFAULT) {"storageBucket":"todoapp-65153.appspot.com","projectId":"todoapp-65153"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89387] initializeApp(DEFAULT) {\"storageBucket\":\"todoapp-65153.appspot.com\",\"projectId\":\"todoapp-65153\"}"}}
[debug] [2023-01-15T13:55:05.385Z] [runtime-status] [89387] Functions runtime initialized. {"cwd":"/Users/ryanguai/DCO-Tutorial/functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89387] Functions runtime initialized. {\"cwd\":\"/Users/ryanguai/DCO-Tutorial/functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2023-01-15T13:55:05.385Z] [runtime-status] [89387] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_0b838b740adbb205.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89387] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_0b838b740adbb205.sock"}}
[debug] [2023-01-15T13:55:05.439Z] [worker-us-central1-api-deb47f93-9edc-4203-94dd-26e1fa73ac05]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-deb47f93-9edc-4203-94dd-26e1fa73ac05]: IDLE"}}
[debug] [2023-01-15T13:55:05.439Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T13:55:05.439Z] [worker-us-central1-api-deb47f93-9edc-4203-94dd-26e1fa73ac05]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-deb47f93-9edc-4203-94dd-26e1fa73ac05]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-15T13:55:07.610Z] [worker-us-central1-api-deb47f93-9edc-4203-94dd-26e1fa73ac05]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-deb47f93-9edc-4203-94dd-26e1fa73ac05]: IDLE"}}
[debug] [2023-01-15T13:55:07.611Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 2159.359875ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 2159.359875ms"}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/storage/v1/b/todoapp-65153.appspot.com/o/undefined?"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/storage/v1/b/todoapp-65153.appspot.com/o/undefined?\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-15T13:55:53.349Z] File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers"}}
[debug] [2023-01-15T13:55:54.371Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T13:55:55.305Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T13:55:55.305Z] Building nodejs source
[debug] [2023-01-15T13:55:55.306Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T13:55:55.591Z] Serving at port 9005

[debug] [2023-01-15T13:55:55.708Z] Got response from /__/functions.yaml Failed to generate manifest from function source: SyntaxError: Unexpected token '.'
[debug] [2023-01-15T13:55:55.711Z] Failed to parse functions.yamlincomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 62:
     ... rom function source: SyntaxError: Unexpected token '.'
                                         ^ {"name":"YAMLException","reason":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line","mark":{"name":null,"buffer":"Failed to generate manifest from function source: SyntaxError: Unexpected token '.'\n\u0000","position":61,"line":0,"column":61},"message":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 62:\n     ... rom function source: SyntaxError: Unexpected token '.'\n                                         ^"}
[debug] [2023-01-15T13:55:55.722Z] shutdown requested via /__/quitquitquit

[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: SyntaxError: Unexpected token '.' {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: SyntaxError: Unexpected token '.'"}}
[debug] [2023-01-15T13:55:56.749Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T13:55:56.749Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T13:55:56.750Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T13:55:56.749Z"],"workRunningCount":1}
[debug] [2023-01-15T13:55:56.750Z] Accepted request POST /todoapp-65153/us-central1/api/user/image --> us-central1-api
[debug] [2023-01-15T13:55:56.753Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T13:55:56.754Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image"}}
[debug] [2023-01-15T13:55:56.754Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T13:55:56.755Z] [worker-us-central1-api-deb47f93-9edc-4203-94dd-26e1fa73ac05]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-deb47f93-9edc-4203-94dd-26e1fa73ac05]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T13:55:57.211Z] [worker-us-central1-api-deb47f93-9edc-4203-94dd-26e1fa73ac05]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-deb47f93-9edc-4203-94dd-26e1fa73ac05]: IDLE"}}
[debug] [2023-01-15T13:55:57.212Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 436.084917ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 436.084917ms"}}
[debug] [2023-01-15T13:56:22.916Z] File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers"}}
[debug] [2023-01-15T13:56:23.929Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T13:56:24.833Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T13:56:24.833Z] Building nodejs source
[debug] [2023-01-15T13:56:24.834Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T13:56:25.243Z] Serving at port 9005

[debug] [2023-01-15T13:56:25.536Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T13:56:25.562Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-01-15T13:56:25.570Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-01-15T13:56:25.571Z] [worker-us-central1-api-deb47f93-9edc-4203-94dd-26e1fa73ac05]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-deb47f93-9edc-4203-94dd-26e1fa73ac05]: FINISHING"}}
[debug] [2023-01-15T13:56:25.583Z] [worker-us-central1-api-deb47f93-9edc-4203-94dd-26e1fa73ac05]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-deb47f93-9edc-4203-94dd-26e1fa73ac05]: exited"}}
[debug] [2023-01-15T13:56:25.583Z] [worker-us-central1-api-deb47f93-9edc-4203-94dd-26e1fa73ac05]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-deb47f93-9edc-4203-94dd-26e1fa73ac05]: FINISHED"}}
[debug] [2023-01-15T13:56:26.360Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T13:56:26.360Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T13:56:26.361Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T13:56:26.360Z"],"workRunningCount":1}
[debug] [2023-01-15T13:56:26.361Z] Accepted request POST /todoapp-65153/us-central1/api/user/image --> us-central1-api
[debug] [2023-01-15T13:56:26.365Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T13:56:26.366Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image"}}
[debug] [2023-01-15T13:56:26.366Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-01-15T13:56:26.397Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-15T13:56:26.397Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-01-15T13:56:27.413Z] [runtime-status] [89405] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89405] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T13:56:27.415Z] [runtime-status] [89405] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89405] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T13:56:27.415Z] [runtime-status] [89405] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89405] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-15T13:56:27.416Z] [runtime-status] [89405] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89405] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T13:56:27.447Z] [runtime-status] [89405] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89405] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-15T13:56:27.447Z] [runtime-status] [89405] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89405] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-15T13:56:27.449Z] [runtime-status] [89405] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89405] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T13:56:27.449Z] [runtime-status] [89405] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89405] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T13:56:27.451Z] [runtime-status] [89405] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89405] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T13:56:27.451Z] [runtime-status] [89405] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89405] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-15T13:56:27.507Z] [runtime-status] [89405] initializeApp(DEFAULT) {"storageBucket":"todoapp-65153.appspot.com","projectId":"todoapp-65153"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89405] initializeApp(DEFAULT) {\"storageBucket\":\"todoapp-65153.appspot.com\",\"projectId\":\"todoapp-65153\"}"}}
[debug] [2023-01-15T13:56:27.607Z] [runtime-status] [89405] Functions runtime initialized. {"cwd":"/Users/ryanguai/DCO-Tutorial/functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89405] Functions runtime initialized. {\"cwd\":\"/Users/ryanguai/DCO-Tutorial/functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2023-01-15T13:56:27.608Z] [runtime-status] [89405] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_5f2e40d44640eb2a.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89405] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_5f2e40d44640eb2a.sock"}}
[debug] [2023-01-15T13:56:27.665Z] [worker-us-central1-api-be04eff1-9e5c-44af-a5b8-78c85dc95963]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-be04eff1-9e5c-44af-a5b8-78c85dc95963]: IDLE"}}
[debug] [2023-01-15T13:56:27.665Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T13:56:27.665Z] [worker-us-central1-api-be04eff1-9e5c-44af-a5b8-78c85dc95963]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-be04eff1-9e5c-44af-a5b8-78c85dc95963]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-15T13:56:29.759Z] [worker-us-central1-api-be04eff1-9e5c-44af-a5b8-78c85dc95963]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-be04eff1-9e5c-44af-a5b8-78c85dc95963]: IDLE"}}
[debug] [2023-01-15T13:56:29.759Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 2079.909375ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 2079.909375ms"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'toString') {"user":"TypeError: Cannot read properties of undefined (reading 'toString')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'toString')"}}
[info] >      at Multipart.<anonymous> (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:129:55) {"user":"    at Multipart.<anonymous> (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:129:55)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Multipart.<anonymous> (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:129:55)"}}
[info] >      at Multipart.emit (node:events:390:28) {"user":"    at Multipart.emit (node:events:390:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Multipart.emit (node:events:390:28)"}}
[info] >      at HeaderParser.cb (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:358:14) {"user":"    at HeaderParser.cb (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:358:14)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at HeaderParser.cb (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:358:14)"}}
[info] >      at HeaderParser.push (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:162:20) {"user":"    at HeaderParser.push (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:162:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at HeaderParser.push (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:162:20)"}}
[info] >      at SBMH.ssCb [as _cb] (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:394:37) {"user":"    at SBMH.ssCb [as _cb] (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:394:37)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at SBMH.ssCb [as _cb] (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:394:37)"}}
[info] >      at feed (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:219:14) {"user":"    at feed (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:219:14)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at feed (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:219:14)"}}
[info] >      at SBMH.push (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:104:16) {"user":"    at SBMH.push (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:104:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at SBMH.push (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:104:16)"}}
[info] >      at Multipart._write (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:567:19) {"user":"    at Multipart._write (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:567:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Multipart._write (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:567:19)"}}
[info] >      at writeOrBuffer (node:internal/streams/writable:389:12) {"user":"    at writeOrBuffer (node:internal/streams/writable:389:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at writeOrBuffer (node:internal/streams/writable:389:12)"}}
[info] >      at _write (node:internal/streams/writable:330:10) {"user":"    at _write (node:internal/streams/writable:330:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at _write (node:internal/streams/writable:330:10)"}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/storage/v1/b/todoapp-65153.appspot.com/o/undefined?"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/storage/v1/b/todoapp-65153.appspot.com/o/undefined?\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-15T13:59:01.037Z] File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers"}}
[debug] [2023-01-15T13:59:02.059Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T13:59:03.035Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T13:59:03.035Z] Building nodejs source
[debug] [2023-01-15T13:59:03.036Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T13:59:03.312Z] Serving at port 9005

[debug] [2023-01-15T13:59:03.697Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T13:59:03.704Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-01-15T13:59:03.718Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-01-15T13:59:03.719Z] [worker-us-central1-api-be04eff1-9e5c-44af-a5b8-78c85dc95963]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-be04eff1-9e5c-44af-a5b8-78c85dc95963]: FINISHING"}}
[debug] [2023-01-15T13:59:03.731Z] [worker-us-central1-api-be04eff1-9e5c-44af-a5b8-78c85dc95963]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-be04eff1-9e5c-44af-a5b8-78c85dc95963]: exited"}}
[debug] [2023-01-15T13:59:03.732Z] [worker-us-central1-api-be04eff1-9e5c-44af-a5b8-78c85dc95963]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-be04eff1-9e5c-44af-a5b8-78c85dc95963]: FINISHED"}}
[debug] [2023-01-15T14:01:50.115Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T14:01:50.114Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T14:01:50.117Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T14:01:50.114Z"],"workRunningCount":1}
[debug] [2023-01-15T14:01:50.117Z] Accepted request GET /todoapp-65153/us-central1/api/user/image --> us-central1-api
[debug] [2023-01-15T14:01:50.119Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T14:01:50.120Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image"}}
[debug] [2023-01-15T14:01:50.121Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-01-15T14:01:50.155Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-15T14:01:50.156Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-01-15T14:01:51.194Z] [runtime-status] [89442] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89442] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T14:01:51.196Z] [runtime-status] [89442] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89442] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:01:51.197Z] [runtime-status] [89442] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89442] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-15T14:01:51.197Z] [runtime-status] [89442] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89442] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:01:51.234Z] [runtime-status] [89442] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89442] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-15T14:01:51.234Z] [runtime-status] [89442] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89442] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-15T14:01:51.235Z] [runtime-status] [89442] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89442] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:01:51.236Z] [runtime-status] [89442] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89442] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T14:01:51.238Z] [runtime-status] [89442] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89442] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:01:51.238Z] [runtime-status] [89442] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89442] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-15T14:01:51.314Z] [runtime-status] [89442] initializeApp(DEFAULT) {"storageBucket":"todoapp-65153.appspot.com","projectId":"todoapp-65153"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89442] initializeApp(DEFAULT) {\"storageBucket\":\"todoapp-65153.appspot.com\",\"projectId\":\"todoapp-65153\"}"}}
[debug] [2023-01-15T14:01:51.447Z] [runtime-status] [89442] Functions runtime initialized. {"cwd":"/Users/ryanguai/DCO-Tutorial/functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89442] Functions runtime initialized. {\"cwd\":\"/Users/ryanguai/DCO-Tutorial/functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2023-01-15T14:01:51.448Z] [runtime-status] [89442] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_ab03b9bcb125d4a0.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89442] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_ab03b9bcb125d4a0.sock"}}
[debug] [2023-01-15T14:01:51.535Z] [worker-us-central1-api-5ba5bf73-7210-4ff0-9cbf-9c6d46ad1e77]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5ba5bf73-7210-4ff0-9cbf-9c6d46ad1e77]: IDLE"}}
[debug] [2023-01-15T14:01:51.535Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T14:01:51.535Z] [worker-us-central1-api-5ba5bf73-7210-4ff0-9cbf-9c6d46ad1e77]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5ba5bf73-7210-4ff0-9cbf-9c6d46ad1e77]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T14:01:51.551Z] [worker-us-central1-api-5ba5bf73-7210-4ff0-9cbf-9c6d46ad1e77]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5ba5bf73-7210-4ff0-9cbf-9c6d46ad1e77]: IDLE"}}
[debug] [2023-01-15T14:01:51.551Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 2.969458ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 2.969458ms"}}
[debug] [2023-01-15T14:02:04.314Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T14:02:04.314Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T14:02:04.315Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T14:02:04.314Z"],"workRunningCount":1}
[debug] [2023-01-15T14:02:04.315Z] Accepted request POST /todoapp-65153/us-central1/api/user/image --> us-central1-api
[debug] [2023-01-15T14:02:04.317Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T14:02:04.318Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image"}}
[debug] [2023-01-15T14:02:04.318Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T14:02:04.324Z] [worker-us-central1-api-5ba5bf73-7210-4ff0-9cbf-9c6d46ad1e77]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5ba5bf73-7210-4ff0-9cbf-9c6d46ad1e77]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-15T14:02:06.559Z] [worker-us-central1-api-5ba5bf73-7210-4ff0-9cbf-9c6d46ad1e77]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5ba5bf73-7210-4ff0-9cbf-9c6d46ad1e77]: IDLE"}}
[debug] [2023-01-15T14:02:06.559Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 2211.691125ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 2211.691125ms"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'toString') {"user":"TypeError: Cannot read properties of undefined (reading 'toString')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'toString')"}}
[info] >      at Multipart.<anonymous> (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:129:55) {"user":"    at Multipart.<anonymous> (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:129:55)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Multipart.<anonymous> (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:129:55)"}}
[info] >      at Multipart.emit (node:events:390:28) {"user":"    at Multipart.emit (node:events:390:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Multipart.emit (node:events:390:28)"}}
[info] >      at HeaderParser.cb (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:358:14) {"user":"    at HeaderParser.cb (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:358:14)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at HeaderParser.cb (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:358:14)"}}
[info] >      at HeaderParser.push (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:162:20) {"user":"    at HeaderParser.push (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:162:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at HeaderParser.push (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:162:20)"}}
[info] >      at SBMH.ssCb [as _cb] (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:394:37) {"user":"    at SBMH.ssCb [as _cb] (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:394:37)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at SBMH.ssCb [as _cb] (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:394:37)"}}
[info] >      at feed (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:219:14) {"user":"    at feed (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:219:14)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at feed (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:219:14)"}}
[info] >      at SBMH.push (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:104:16) {"user":"    at SBMH.push (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:104:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at SBMH.push (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:104:16)"}}
[info] >      at Multipart._write (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:567:19) {"user":"    at Multipart._write (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:567:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Multipart._write (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:567:19)"}}
[info] >      at writeOrBuffer (node:internal/streams/writable:389:12) {"user":"    at writeOrBuffer (node:internal/streams/writable:389:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at writeOrBuffer (node:internal/streams/writable:389:12)"}}
[info] >      at _write (node:internal/streams/writable:330:10) {"user":"    at _write (node:internal/streams/writable:330:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at _write (node:internal/streams/writable:330:10)"}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/storage/v1/b/todoapp-65153.appspot.com/o/undefined?"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/storage/v1/b/todoapp-65153.appspot.com/o/undefined?\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-15T14:02:52.295Z] File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers"}}
[debug] [2023-01-15T14:02:53.291Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T14:02:53.291Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T14:02:53.292Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T14:02:53.291Z"],"workRunningCount":1}
[debug] [2023-01-15T14:02:53.292Z] Accepted request POST /todoapp-65153/us-central1/api/user/image --> us-central1-api
[debug] [2023-01-15T14:02:53.293Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T14:02:53.294Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image"}}
[debug] [2023-01-15T14:02:53.294Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T14:02:53.295Z] [worker-us-central1-api-5ba5bf73-7210-4ff0-9cbf-9c6d46ad1e77]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5ba5bf73-7210-4ff0-9cbf-9c6d46ad1e77]: BUSY"}}
[debug] [2023-01-15T14:02:53.298Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T14:02:54.306Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T14:02:54.306Z] Building nodejs source
[debug] [2023-01-15T14:02:54.307Z] Could not find functions.yaml. Must use http discovery
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T14:02:54.606Z] Serving at port 9005

[debug] [2023-01-15T14:02:54.705Z] [worker-us-central1-api-5ba5bf73-7210-4ff0-9cbf-9c6d46ad1e77]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5ba5bf73-7210-4ff0-9cbf-9c6d46ad1e77]: IDLE"}}
[debug] [2023-01-15T14:02:54.710Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 355.950458ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 355.950458ms"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'toString') {"user":"TypeError: Cannot read properties of undefined (reading 'toString')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'toString')"}}
[info] >      at Multipart.<anonymous> (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:129:55) {"user":"    at Multipart.<anonymous> (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:129:55)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Multipart.<anonymous> (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:129:55)"}}
[info] >      at Multipart.emit (node:events:390:28) {"user":"    at Multipart.emit (node:events:390:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Multipart.emit (node:events:390:28)"}}
[info] >      at HeaderParser.cb (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:358:14) {"user":"    at HeaderParser.cb (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:358:14)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at HeaderParser.cb (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:358:14)"}}
[info] >      at HeaderParser.push (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:162:20) {"user":"    at HeaderParser.push (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:162:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at HeaderParser.push (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:162:20)"}}
[info] >      at SBMH.ssCb [as _cb] (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:394:37) {"user":"    at SBMH.ssCb [as _cb] (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:394:37)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at SBMH.ssCb [as _cb] (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:394:37)"}}
[info] >      at feed (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:219:14) {"user":"    at feed (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:219:14)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at feed (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:219:14)"}}
[info] >      at SBMH.push (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:104:16) {"user":"    at SBMH.push (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:104:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at SBMH.push (/Users/ryanguai/node_modules/streamsearch/lib/sbmh.js:104:16)"}}
[info] >      at Multipart._write (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:567:19) {"user":"    at Multipart._write (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:567:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Multipart._write (/Users/ryanguai/node_modules/busboy/lib/types/multipart.js:567:19)"}}
[info] >      at writeOrBuffer (node:internal/streams/writable:389:12) {"user":"    at writeOrBuffer (node:internal/streams/writable:389:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at writeOrBuffer (node:internal/streams/writable:389:12)"}}
[info] >      at _write (node:internal/streams/writable:330:10) {"user":"    at _write (node:internal/streams/writable:330:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at _write (node:internal/streams/writable:330:10)"}}
[debug] [2023-01-15T14:02:54.902Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T14:02:54.917Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-01-15T14:02:54.926Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-01-15T14:02:54.926Z] [worker-us-central1-api-5ba5bf73-7210-4ff0-9cbf-9c6d46ad1e77]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5ba5bf73-7210-4ff0-9cbf-9c6d46ad1e77]: FINISHING"}}
[debug] [2023-01-15T14:02:54.935Z] [worker-us-central1-api-5ba5bf73-7210-4ff0-9cbf-9c6d46ad1e77]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5ba5bf73-7210-4ff0-9cbf-9c6d46ad1e77]: exited"}}
[debug] [2023-01-15T14:02:54.935Z] [worker-us-central1-api-5ba5bf73-7210-4ff0-9cbf-9c6d46ad1e77]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5ba5bf73-7210-4ff0-9cbf-9c6d46ad1e77]: FINISHED"}}
[debug] [2023-01-15T14:03:37.574Z] File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers"}}
[debug] [2023-01-15T14:03:38.590Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T14:03:39.515Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T14:03:39.516Z] Building nodejs source
[debug] [2023-01-15T14:03:39.517Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T14:03:39.822Z] Serving at port 9005

[debug] [2023-01-15T14:03:40.103Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T14:03:40.113Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-01-15T14:05:35.724Z] File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers"}}
[debug] [2023-01-15T14:05:36.737Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T14:05:37.745Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T14:05:37.746Z] Building nodejs source
[debug] [2023-01-15T14:05:37.746Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T14:05:37.768Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T14:05:37.768Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T14:05:37.769Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T14:05:37.768Z"],"workRunningCount":1}
[debug] [2023-01-15T14:05:37.769Z] Accepted request POST /todoapp-65153/us-central1/api/user/image --> us-central1-api
[debug] [2023-01-15T14:05:37.770Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T14:05:37.771Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image"}}
[debug] [2023-01-15T14:05:37.771Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-01-15T14:05:37.792Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-15T14:05:37.792Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-01-15T14:05:38.045Z] Serving at port 9005

[debug] [2023-01-15T14:05:38.348Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T14:05:38.366Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-01-15T14:05:38.863Z] [runtime-status] [89505] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89505] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T14:05:38.865Z] [runtime-status] [89505] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89505] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:05:38.865Z] [runtime-status] [89505] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89505] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-15T14:05:38.866Z] [runtime-status] [89505] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89505] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:05:38.892Z] [runtime-status] [89505] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89505] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-15T14:05:38.892Z] [runtime-status] [89505] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89505] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-15T14:05:38.894Z] [runtime-status] [89505] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89505] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:05:38.895Z] [runtime-status] [89505] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89505] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T14:05:38.897Z] [runtime-status] [89505] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89505] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:05:38.897Z] [runtime-status] [89505] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89505] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-15T14:05:38.963Z] [runtime-status] [89505] initializeApp(DEFAULT) {"storageBucket":"todoapp-65153.appspot.com","projectId":"todoapp-65153"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89505] initializeApp(DEFAULT) {\"storageBucket\":\"todoapp-65153.appspot.com\",\"projectId\":\"todoapp-65153\"}"}}
[debug] [2023-01-15T14:05:39.065Z] [runtime-status] [89505] Functions runtime initialized. {"cwd":"/Users/ryanguai/DCO-Tutorial/functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89505] Functions runtime initialized. {\"cwd\":\"/Users/ryanguai/DCO-Tutorial/functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2023-01-15T14:05:39.066Z] [runtime-status] [89505] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_19b9e9c7c75c868b.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89505] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_19b9e9c7c75c868b.sock"}}
[debug] [2023-01-15T14:05:39.171Z] [worker-us-central1-api-e58053b1-376c-4dbe-8fa2-b5656d666e1a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e58053b1-376c-4dbe-8fa2-b5656d666e1a]: IDLE"}}
[debug] [2023-01-15T14:05:39.172Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T14:05:39.172Z] [worker-us-central1-api-e58053b1-376c-4dbe-8fa2-b5656d666e1a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e58053b1-376c-4dbe-8fa2-b5656d666e1a]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  undefined {"user":"undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m undefined"}}
[debug] [2023-01-15T14:05:41.288Z] [worker-us-central1-api-e58053b1-376c-4dbe-8fa2-b5656d666e1a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e58053b1-376c-4dbe-8fa2-b5656d666e1a]: IDLE"}}
[debug] [2023-01-15T14:05:41.288Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 2106.950208ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 2106.950208ms"}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/storage/v1/b/todoapp-65153.appspot.com/o/undefined?"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/storage/v1/b/todoapp-65153.appspot.com/o/undefined?\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-15T14:08:27.127Z] File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers"}}
[debug] [2023-01-15T14:08:28.142Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T14:08:29.125Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T14:08:29.125Z] Building nodejs source
[debug] [2023-01-15T14:08:29.126Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T14:08:29.442Z] Serving at port 9005

[debug] [2023-01-15T14:08:29.744Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T14:08:29.753Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-01-15T14:08:29.770Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-01-15T14:08:29.770Z] [worker-us-central1-api-e58053b1-376c-4dbe-8fa2-b5656d666e1a]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e58053b1-376c-4dbe-8fa2-b5656d666e1a]: FINISHING"}}
[debug] [2023-01-15T14:08:29.785Z] [worker-us-central1-api-e58053b1-376c-4dbe-8fa2-b5656d666e1a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e58053b1-376c-4dbe-8fa2-b5656d666e1a]: exited"}}
[debug] [2023-01-15T14:08:29.785Z] [worker-us-central1-api-e58053b1-376c-4dbe-8fa2-b5656d666e1a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e58053b1-376c-4dbe-8fa2-b5656d666e1a]: FINISHED"}}
[debug] [2023-01-15T14:08:29.892Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T14:08:29.892Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T14:08:29.892Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T14:08:29.892Z"],"workRunningCount":1}
[debug] [2023-01-15T14:08:29.892Z] Accepted request POST /todoapp-65153/us-central1/api/user/image --> us-central1-api
[debug] [2023-01-15T14:08:29.893Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T14:08:29.893Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image"}}
[debug] [2023-01-15T14:08:29.894Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-01-15T14:08:29.911Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-15T14:08:29.911Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-01-15T14:08:30.949Z] [runtime-status] [89542] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89542] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T14:08:30.951Z] [runtime-status] [89542] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89542] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:08:30.952Z] [runtime-status] [89542] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89542] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-15T14:08:30.952Z] [runtime-status] [89542] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89542] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:08:30.980Z] [runtime-status] [89542] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89542] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-15T14:08:30.980Z] [runtime-status] [89542] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89542] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-15T14:08:30.982Z] [runtime-status] [89542] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89542] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:08:30.983Z] [runtime-status] [89542] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89542] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T14:08:30.985Z] [runtime-status] [89542] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89542] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:08:30.986Z] [runtime-status] [89542] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89542] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-15T14:08:31.053Z] [runtime-status] [89542] initializeApp(DEFAULT) {"storageBucket":"todoapp-65153.appspot.com","projectId":"todoapp-65153"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89542] initializeApp(DEFAULT) {\"storageBucket\":\"todoapp-65153.appspot.com\",\"projectId\":\"todoapp-65153\"}"}}
[debug] [2023-01-15T14:08:31.155Z] [runtime-status] [89542] Functions runtime initialized. {"cwd":"/Users/ryanguai/DCO-Tutorial/functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89542] Functions runtime initialized. {\"cwd\":\"/Users/ryanguai/DCO-Tutorial/functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2023-01-15T14:08:31.156Z] [runtime-status] [89542] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_8c208054ce8f3b67.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89542] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_8c208054ce8f3b67.sock"}}
[debug] [2023-01-15T14:08:31.165Z] [worker-us-central1-api-eb7e7e0b-6378-42e0-8aa2-3c1f80ffc901]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-eb7e7e0b-6378-42e0-8aa2-3c1f80ffc901]: IDLE"}}
[debug] [2023-01-15T14:08:31.165Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T14:08:31.165Z] [worker-us-central1-api-eb7e7e0b-6378-42e0-8aa2-3c1f80ffc901]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-eb7e7e0b-6378-42e0-8aa2-3c1f80ffc901]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  undefined {"user":"undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m undefined"}}
[debug] [2023-01-15T14:08:33.243Z] [worker-us-central1-api-eb7e7e0b-6378-42e0-8aa2-3c1f80ffc901]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-eb7e7e0b-6378-42e0-8aa2-3c1f80ffc901]: IDLE"}}
[debug] [2023-01-15T14:08:33.243Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 2070.26275ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 2070.26275ms"}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/storage/v1/b/todoapp-65153.appspot.com/o/undefined?"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/storage/v1/b/todoapp-65153.appspot.com/o/undefined?\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-15T14:09:40.756Z] File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers"}}
[debug] [2023-01-15T14:09:41.776Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T14:09:42.684Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T14:09:42.684Z] Building nodejs source
[debug] [2023-01-15T14:09:42.686Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T14:09:42.710Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T14:09:42.710Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T14:09:42.710Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T14:09:42.710Z"],"workRunningCount":1}
[debug] [2023-01-15T14:09:42.710Z] Accepted request POST /todoapp-65153/us-central1/api/user/image --> us-central1-api
[debug] [2023-01-15T14:09:42.711Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T14:09:42.712Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image"}}
[debug] [2023-01-15T14:09:42.712Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T14:09:42.712Z] [worker-us-central1-api-eb7e7e0b-6378-42e0-8aa2-3c1f80ffc901]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-eb7e7e0b-6378-42e0-8aa2-3c1f80ffc901]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T14:09:42.976Z] Serving at port 9005

[info] >  undefined {"user":"undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m undefined"}}
[debug] [2023-01-15T14:09:43.153Z] [worker-us-central1-api-eb7e7e0b-6378-42e0-8aa2-3c1f80ffc901]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-eb7e7e0b-6378-42e0-8aa2-3c1f80ffc901]: IDLE"}}
[debug] [2023-01-15T14:09:43.153Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 427.839375ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 427.839375ms"}}
[debug] [2023-01-15T14:09:43.261Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T14:09:43.272Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-01-15T14:09:43.283Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-01-15T14:09:43.283Z] [worker-us-central1-api-eb7e7e0b-6378-42e0-8aa2-3c1f80ffc901]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-eb7e7e0b-6378-42e0-8aa2-3c1f80ffc901]: FINISHING"}}
[debug] [2023-01-15T14:09:43.294Z] [worker-us-central1-api-eb7e7e0b-6378-42e0-8aa2-3c1f80ffc901]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-eb7e7e0b-6378-42e0-8aa2-3c1f80ffc901]: exited"}}
[debug] [2023-01-15T14:09:43.294Z] [worker-us-central1-api-eb7e7e0b-6378-42e0-8aa2-3c1f80ffc901]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-eb7e7e0b-6378-42e0-8aa2-3c1f80ffc901]: FINISHED"}}
[debug] [2023-01-15T14:09:44.472Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T14:09:44.472Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T14:09:44.474Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T14:09:44.472Z"],"workRunningCount":1}
[debug] [2023-01-15T14:09:44.474Z] Accepted request POST /todoapp-65153/us-central1/api/user/image --> us-central1-api
[debug] [2023-01-15T14:09:44.479Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T14:09:44.481Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image"}}
[debug] [2023-01-15T14:09:44.482Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-01-15T14:09:44.518Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-15T14:09:44.519Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-01-15T14:09:45.479Z] [runtime-status] [89556] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89556] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T14:09:45.487Z] [runtime-status] [89556] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89556] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:09:45.487Z] [runtime-status] [89556] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89556] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-15T14:09:45.487Z] [runtime-status] [89556] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89556] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:09:45.514Z] [runtime-status] [89556] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89556] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-15T14:09:45.515Z] [runtime-status] [89556] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89556] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-15T14:09:45.516Z] [runtime-status] [89556] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89556] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:09:45.517Z] [runtime-status] [89556] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89556] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T14:09:45.518Z] [runtime-status] [89556] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89556] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:09:45.519Z] [runtime-status] [89556] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89556] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-15T14:09:45.574Z] [runtime-status] [89556] initializeApp(DEFAULT) {"storageBucket":"todoapp-65153.appspot.com","projectId":"todoapp-65153"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89556] initializeApp(DEFAULT) {\"storageBucket\":\"todoapp-65153.appspot.com\",\"projectId\":\"todoapp-65153\"}"}}
[debug] [2023-01-15T14:09:45.690Z] [runtime-status] [89556] Functions runtime initialized. {"cwd":"/Users/ryanguai/DCO-Tutorial/functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89556] Functions runtime initialized. {\"cwd\":\"/Users/ryanguai/DCO-Tutorial/functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2023-01-15T14:09:45.691Z] [runtime-status] [89556] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_28a628b98d907164.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89556] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_28a628b98d907164.sock"}}
[debug] [2023-01-15T14:09:45.795Z] [worker-us-central1-api-c75a8c23-f6b7-41bd-9e73-dbc602721a54]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c75a8c23-f6b7-41bd-9e73-dbc602721a54]: IDLE"}}
[debug] [2023-01-15T14:09:45.796Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T14:09:45.796Z] [worker-us-central1-api-c75a8c23-f6b7-41bd-9e73-dbc602721a54]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c75a8c23-f6b7-41bd-9e73-dbc602721a54]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-15T14:09:47.907Z] [worker-us-central1-api-c75a8c23-f6b7-41bd-9e73-dbc602721a54]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c75a8c23-f6b7-41bd-9e73-dbc602721a54]: IDLE"}}
[debug] [2023-01-15T14:09:47.908Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 2101.4755ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 2101.4755ms"}}
[info] >  TypeError: BusBoy is not a constructor {"user":"TypeError: BusBoy is not a constructor","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: BusBoy is not a constructor"}}
[info] >      at exports.uploadProfilePhoto (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:122:17) {"user":"    at exports.uploadProfilePhoto (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:122:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at exports.uploadProfilePhoto (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:122:17)"}}
[info] >      at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13) {"user":"    at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13)"}}
[info] >      at /Users/ryanguai/DCO-Tutorial/functions/util/auth.js:23:11 {"user":"    at /Users/ryanguai/DCO-Tutorial/functions/util/auth.js:23:11","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ryanguai/DCO-Tutorial/functions/util/auth.js:23:11"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5)"}}
[debug] [2023-01-15T14:19:59.935Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T14:19:59.932Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T14:19:59.941Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T14:19:59.932Z"],"workRunningCount":1}
[debug] [2023-01-15T14:19:59.942Z] Accepted request POST /todoapp-65153/us-central1/api/user/image --> us-central1-api
[debug] [2023-01-15T14:19:59.945Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T14:19:59.947Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image"}}
[debug] [2023-01-15T14:19:59.948Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T14:19:59.948Z] [worker-us-central1-api-c75a8c23-f6b7-41bd-9e73-dbc602721a54]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c75a8c23-f6b7-41bd-9e73-dbc602721a54]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T14:20:01.422Z] [worker-us-central1-api-c75a8c23-f6b7-41bd-9e73-dbc602721a54]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c75a8c23-f6b7-41bd-9e73-dbc602721a54]: IDLE"}}
[debug] [2023-01-15T14:20:01.422Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 1429.9934170000001ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 1429.9934170000001ms"}}
[info] >  TypeError: BusBoy is not a constructor {"user":"TypeError: BusBoy is not a constructor","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: BusBoy is not a constructor"}}
[info] >      at exports.uploadProfilePhoto (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:122:17) {"user":"    at exports.uploadProfilePhoto (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:122:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at exports.uploadProfilePhoto (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:122:17)"}}
[info] >      at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13) {"user":"    at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13)"}}
[info] >      at /Users/ryanguai/DCO-Tutorial/functions/util/auth.js:23:11 {"user":"    at /Users/ryanguai/DCO-Tutorial/functions/util/auth.js:23:11","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ryanguai/DCO-Tutorial/functions/util/auth.js:23:11"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5)"}}
[debug] [2023-01-15T14:20:11.404Z] File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers"}}
[debug] [2023-01-15T14:20:11.897Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T14:20:11.897Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T14:20:11.898Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T14:20:11.897Z"],"workRunningCount":1}
[debug] [2023-01-15T14:20:11.903Z] Accepted request POST /todoapp-65153/us-central1/api/user/image --> us-central1-api
[debug] [2023-01-15T14:20:11.905Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T14:20:11.906Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image"}}
[debug] [2023-01-15T14:20:11.906Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T14:20:11.906Z] [worker-us-central1-api-c75a8c23-f6b7-41bd-9e73-dbc602721a54]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c75a8c23-f6b7-41bd-9e73-dbc602721a54]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T14:20:12.296Z] [worker-us-central1-api-c75a8c23-f6b7-41bd-9e73-dbc602721a54]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c75a8c23-f6b7-41bd-9e73-dbc602721a54]: IDLE"}}
[debug] [2023-01-15T14:20:12.296Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 368.345375ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 368.345375ms"}}
[info] >  TypeError: BusBoy is not a constructor {"user":"TypeError: BusBoy is not a constructor","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: BusBoy is not a constructor"}}
[info] >      at exports.uploadProfilePhoto (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:122:17) {"user":"    at exports.uploadProfilePhoto (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:122:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at exports.uploadProfilePhoto (/Users/ryanguai/DCO-Tutorial/functions/APIs/users.js:122:17)"}}
[info] >      at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13) {"user":"    at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13)"}}
[info] >      at /Users/ryanguai/DCO-Tutorial/functions/util/auth.js:23:11 {"user":"    at /Users/ryanguai/DCO-Tutorial/functions/util/auth.js:23:11","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ryanguai/DCO-Tutorial/functions/util/auth.js:23:11"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5)"}}
[debug] [2023-01-15T14:20:12.417Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T14:20:13.558Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T14:20:13.558Z] Building nodejs source
[debug] [2023-01-15T14:20:13.562Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T14:20:13.859Z] Serving at port 9005

[debug] [2023-01-15T14:20:14.155Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T14:20:14.168Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-01-15T14:20:14.181Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-01-15T14:20:14.182Z] [worker-us-central1-api-c75a8c23-f6b7-41bd-9e73-dbc602721a54]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c75a8c23-f6b7-41bd-9e73-dbc602721a54]: FINISHING"}}
[debug] [2023-01-15T14:20:14.193Z] [worker-us-central1-api-c75a8c23-f6b7-41bd-9e73-dbc602721a54]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c75a8c23-f6b7-41bd-9e73-dbc602721a54]: exited"}}
[debug] [2023-01-15T14:20:14.193Z] [worker-us-central1-api-c75a8c23-f6b7-41bd-9e73-dbc602721a54]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c75a8c23-f6b7-41bd-9e73-dbc602721a54]: FINISHED"}}
[debug] [2023-01-15T14:20:14.229Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T14:20:14.229Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T14:20:14.230Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T14:20:14.229Z"],"workRunningCount":1}
[debug] [2023-01-15T14:20:14.230Z] Accepted request POST /todoapp-65153/us-central1/api/user/image --> us-central1-api
[debug] [2023-01-15T14:20:14.232Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T14:20:14.232Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image"}}
[debug] [2023-01-15T14:20:14.232Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-01-15T14:20:14.253Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-15T14:20:14.253Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-01-15T14:20:15.238Z] [runtime-status] [89680] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89680] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T14:20:15.239Z] [runtime-status] [89680] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89680] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:20:15.240Z] [runtime-status] [89680] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89680] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-15T14:20:15.240Z] [runtime-status] [89680] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89680] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:20:15.265Z] [runtime-status] [89680] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89680] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-15T14:20:15.266Z] [runtime-status] [89680] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89680] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-15T14:20:15.268Z] [runtime-status] [89680] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89680] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:20:15.269Z] [runtime-status] [89680] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89680] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T14:20:15.271Z] [runtime-status] [89680] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89680] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:20:15.271Z] [runtime-status] [89680] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89680] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-15T14:20:15.334Z] [runtime-status] [89680] initializeApp(DEFAULT) {"storageBucket":"todoapp-65153.appspot.com","projectId":"todoapp-65153"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89680] initializeApp(DEFAULT) {\"storageBucket\":\"todoapp-65153.appspot.com\",\"projectId\":\"todoapp-65153\"}"}}
[debug] [2023-01-15T14:20:15.433Z] [runtime-status] [89680] Functions runtime initialized. {"cwd":"/Users/ryanguai/DCO-Tutorial/functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89680] Functions runtime initialized. {\"cwd\":\"/Users/ryanguai/DCO-Tutorial/functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2023-01-15T14:20:15.434Z] [runtime-status] [89680] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_b461a3f02c6a3c2b.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89680] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_b461a3f02c6a3c2b.sock"}}
[debug] [2023-01-15T14:20:15.525Z] [worker-us-central1-api-3895d5c6-b8cc-4596-8a2a-55dddf273b32]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3895d5c6-b8cc-4596-8a2a-55dddf273b32]: IDLE"}}
[debug] [2023-01-15T14:20:15.526Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T14:20:15.526Z] [worker-us-central1-api-3895d5c6-b8cc-4596-8a2a-55dddf273b32]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3895d5c6-b8cc-4596-8a2a-55dddf273b32]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  undefined {"user":"undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m undefined"}}
[debug] [2023-01-15T14:20:17.647Z] [worker-us-central1-api-3895d5c6-b8cc-4596-8a2a-55dddf273b32]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3895d5c6-b8cc-4596-8a2a-55dddf273b32]: IDLE"}}
[debug] [2023-01-15T14:20:17.647Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 2091.961875ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 2091.961875ms"}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/storage/v1/b/todoapp-65153.appspot.com/o/undefined?"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/storage/v1/b/todoapp-65153.appspot.com/o/undefined?\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-15T14:21:53.865Z] File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers"}}
[debug] [2023-01-15T14:21:54.876Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T14:21:55.938Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T14:21:55.939Z] Building nodejs source
[debug] [2023-01-15T14:21:55.940Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T14:21:55.977Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T14:21:55.977Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T14:21:55.977Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T14:21:55.977Z"],"workRunningCount":1}
[debug] [2023-01-15T14:21:55.977Z] Accepted request POST /todoapp-65153/us-central1/api/user/image --> us-central1-api
[debug] [2023-01-15T14:21:55.978Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T14:21:55.979Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image"}}
[debug] [2023-01-15T14:21:55.980Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T14:21:55.980Z] [worker-us-central1-api-3895d5c6-b8cc-4596-8a2a-55dddf273b32]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3895d5c6-b8cc-4596-8a2a-55dddf273b32]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T14:21:56.248Z] Serving at port 9005

[info] >  undefined {"user":"undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m undefined"}}
[debug] [2023-01-15T14:21:56.477Z] [worker-us-central1-api-3895d5c6-b8cc-4596-8a2a-55dddf273b32]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3895d5c6-b8cc-4596-8a2a-55dddf273b32]: IDLE"}}
[debug] [2023-01-15T14:21:56.478Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 357.868334ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 357.868334ms"}}
[debug] [2023-01-15T14:21:56.550Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T14:21:56.559Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-01-15T14:21:56.571Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-01-15T14:21:56.571Z] [worker-us-central1-api-3895d5c6-b8cc-4596-8a2a-55dddf273b32]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3895d5c6-b8cc-4596-8a2a-55dddf273b32]: FINISHING"}}
[debug] [2023-01-15T14:21:56.584Z] [worker-us-central1-api-3895d5c6-b8cc-4596-8a2a-55dddf273b32]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3895d5c6-b8cc-4596-8a2a-55dddf273b32]: exited"}}
[debug] [2023-01-15T14:21:56.584Z] [worker-us-central1-api-3895d5c6-b8cc-4596-8a2a-55dddf273b32]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3895d5c6-b8cc-4596-8a2a-55dddf273b32]: FINISHED"}}
[debug] [2023-01-15T14:21:57.875Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T14:21:57.874Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T14:21:57.875Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T14:21:57.874Z"],"workRunningCount":1}
[debug] [2023-01-15T14:21:57.876Z] Accepted request POST /todoapp-65153/us-central1/api/user/image --> us-central1-api
[debug] [2023-01-15T14:21:57.881Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T14:21:57.883Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image"}}
[debug] [2023-01-15T14:21:57.884Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-01-15T14:21:57.924Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-15T14:21:57.925Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-01-15T14:21:58.949Z] [runtime-status] [89704] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89704] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T14:21:58.952Z] [runtime-status] [89704] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89704] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:21:58.952Z] [runtime-status] [89704] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89704] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-15T14:21:58.952Z] [runtime-status] [89704] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89704] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:21:58.997Z] [runtime-status] [89704] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89704] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-15T14:21:58.997Z] [runtime-status] [89704] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89704] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-15T14:21:59.000Z] [runtime-status] [89704] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89704] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:21:59.001Z] [runtime-status] [89704] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89704] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T14:21:59.004Z] [runtime-status] [89704] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89704] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:21:59.004Z] [runtime-status] [89704] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89704] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-15T14:21:59.090Z] [runtime-status] [89704] initializeApp(DEFAULT) {"storageBucket":"todoapp-65153.appspot.com","projectId":"todoapp-65153"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89704] initializeApp(DEFAULT) {\"storageBucket\":\"todoapp-65153.appspot.com\",\"projectId\":\"todoapp-65153\"}"}}
[debug] [2023-01-15T14:21:59.184Z] [runtime-status] [89704] Functions runtime initialized. {"cwd":"/Users/ryanguai/DCO-Tutorial/functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89704] Functions runtime initialized. {\"cwd\":\"/Users/ryanguai/DCO-Tutorial/functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2023-01-15T14:21:59.185Z] [runtime-status] [89704] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_c68c80f95d12cca5.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89704] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_c68c80f95d12cca5.sock"}}
[debug] [2023-01-15T14:21:59.197Z] [worker-us-central1-api-a2e4a206-d6f0-4eb2-a562-04f505da4035]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a2e4a206-d6f0-4eb2-a562-04f505da4035]: IDLE"}}
[debug] [2023-01-15T14:21:59.198Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T14:21:59.198Z] [worker-us-central1-api-a2e4a206-d6f0-4eb2-a562-04f505da4035]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a2e4a206-d6f0-4eb2-a562-04f505da4035]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  undefined {"user":"undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m undefined"}}
[debug] [2023-01-15T14:22:01.481Z] [worker-us-central1-api-a2e4a206-d6f0-4eb2-a562-04f505da4035]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a2e4a206-d6f0-4eb2-a562-04f505da4035]: IDLE"}}
[debug] [2023-01-15T14:22:01.481Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 2256.564917ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 2256.564917ms"}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/storage/v1/b/todoapp-65153.appspot.com/o/undefined?"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/storage/v1/b/todoapp-65153.appspot.com/o/undefined?\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-15T14:22:03.767Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T14:22:03.766Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T14:22:03.767Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T14:22:03.766Z"],"workRunningCount":1}
[debug] [2023-01-15T14:22:03.768Z] Accepted request POST /todoapp-65153/us-central1/api/user/image --> us-central1-api
[debug] [2023-01-15T14:22:03.772Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T14:22:03.775Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image"}}
[debug] [2023-01-15T14:22:03.777Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T14:22:03.777Z] [worker-us-central1-api-a2e4a206-d6f0-4eb2-a562-04f505da4035]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a2e4a206-d6f0-4eb2-a562-04f505da4035]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] >  undefined {"user":"undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m undefined"}}
[debug] [2023-01-15T14:22:04.174Z] [worker-us-central1-api-a2e4a206-d6f0-4eb2-a562-04f505da4035]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a2e4a206-d6f0-4eb2-a562-04f505da4035]: IDLE"}}
[debug] [2023-01-15T14:22:04.175Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 391.074208ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 391.074208ms"}}
[debug] [2023-01-15T14:22:28.068Z] File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers"}}
[debug] [2023-01-15T14:22:29.092Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T14:22:30.101Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T14:22:30.101Z] Building nodejs source
[debug] [2023-01-15T14:22:30.104Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T14:22:30.409Z] Serving at port 9005

[debug] [2023-01-15T14:22:30.682Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T14:22:30.693Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-01-15T14:22:30.703Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-01-15T14:22:30.703Z] [worker-us-central1-api-a2e4a206-d6f0-4eb2-a562-04f505da4035]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a2e4a206-d6f0-4eb2-a562-04f505da4035]: FINISHING"}}
[debug] [2023-01-15T14:22:30.717Z] [worker-us-central1-api-a2e4a206-d6f0-4eb2-a562-04f505da4035]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a2e4a206-d6f0-4eb2-a562-04f505da4035]: exited"}}
[debug] [2023-01-15T14:22:30.718Z] [worker-us-central1-api-a2e4a206-d6f0-4eb2-a562-04f505da4035]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a2e4a206-d6f0-4eb2-a562-04f505da4035]: FINISHED"}}
[debug] [2023-01-15T14:26:13.851Z] File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers"}}
[debug] [2023-01-15T14:26:14.861Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T14:26:15.811Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T14:26:15.811Z] Building nodejs source
[debug] [2023-01-15T14:26:15.813Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T14:26:15.864Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T14:26:15.864Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T14:26:15.864Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T14:26:15.864Z"],"workRunningCount":1}
[debug] [2023-01-15T14:26:15.865Z] Accepted request POST /todoapp-65153/us-central1/api/user/image --> us-central1-api
[debug] [2023-01-15T14:26:15.866Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T14:26:15.866Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image"}}
[debug] [2023-01-15T14:26:15.866Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-01-15T14:26:15.898Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-15T14:26:15.898Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-01-15T14:26:16.142Z] Serving at port 9005

[debug] [2023-01-15T14:26:16.453Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T14:26:16.463Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-01-15T14:26:16.967Z] [runtime-status] [89763] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89763] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T14:26:16.970Z] [runtime-status] [89763] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89763] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:26:16.970Z] [runtime-status] [89763] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89763] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-15T14:26:16.971Z] [runtime-status] [89763] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89763] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:26:17.003Z] [runtime-status] [89763] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89763] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-15T14:26:17.003Z] [runtime-status] [89763] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89763] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-15T14:26:17.004Z] [runtime-status] [89763] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89763] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:26:17.005Z] [runtime-status] [89763] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89763] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T14:26:17.007Z] [runtime-status] [89763] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89763] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:26:17.007Z] [runtime-status] [89763] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89763] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-15T14:26:17.059Z] [runtime-status] [89763] initializeApp(DEFAULT) {"storageBucket":"todoapp-65153.appspot.com","projectId":"todoapp-65153"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89763] initializeApp(DEFAULT) {\"storageBucket\":\"todoapp-65153.appspot.com\",\"projectId\":\"todoapp-65153\"}"}}
[debug] [2023-01-15T14:26:17.165Z] [runtime-status] [89763] Functions runtime initialized. {"cwd":"/Users/ryanguai/DCO-Tutorial/functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89763] Functions runtime initialized. {\"cwd\":\"/Users/ryanguai/DCO-Tutorial/functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2023-01-15T14:26:17.165Z] [runtime-status] [89763] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_272eb4c7907f7704.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89763] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_272eb4c7907f7704.sock"}}
[debug] [2023-01-15T14:26:17.272Z] [worker-us-central1-api-2cde90a6-6862-428b-9658-f88998788279]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-2cde90a6-6862-428b-9658-f88998788279]: IDLE"}}
[debug] [2023-01-15T14:26:17.272Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T14:26:17.273Z] [worker-us-central1-api-2cde90a6-6862-428b-9658-f88998788279]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-2cde90a6-6862-428b-9658-f88998788279]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  File [image]: filename: [object Object], encoding: undefined, mimetype: undefined {"user":"File [image]: filename: [object Object], encoding: undefined, mimetype: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m File [image]: filename: [object Object], encoding: undefined, mimetype: undefined"}}
[debug] [2023-01-15T14:26:18.412Z] [worker-us-central1-api-2cde90a6-6862-428b-9658-f88998788279]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-2cde90a6-6862-428b-9658-f88998788279]: IDLE"}}
[debug] [2023-01-15T14:26:18.412Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 1109.471917ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 1109.471917ms"}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/storage/v1/b/todoapp-65153.appspot.com/o/undefined?"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/storage/v1/b/todoapp-65153.appspot.com/o/undefined?\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-15T14:28:56.032Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T14:28:56.030Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T14:28:56.038Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T14:28:56.030Z"],"workRunningCount":1}
[debug] [2023-01-15T14:28:56.038Z] Accepted request POST /todoapp-65153/us-central1/api/user/image --> us-central1-api
[debug] [2023-01-15T14:28:56.048Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T14:28:56.055Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image"}}
[debug] [2023-01-15T14:28:56.056Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T14:28:56.056Z] [worker-us-central1-api-2cde90a6-6862-428b-9658-f88998788279]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-2cde90a6-6862-428b-9658-f88998788279]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] >  File [image]: filename: [object Object], encoding: undefined, mimetype: undefined {"user":"File [image]: filename: [object Object], encoding: undefined, mimetype: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m File [image]: filename: [object Object], encoding: undefined, mimetype: undefined"}}
[debug] [2023-01-15T14:28:56.531Z] [worker-us-central1-api-2cde90a6-6862-428b-9658-f88998788279]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-2cde90a6-6862-428b-9658-f88998788279]: IDLE"}}
[debug] [2023-01-15T14:28:56.531Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 460.386084ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 460.386084ms"}}
[debug] [2023-01-15T14:28:58.468Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T14:28:58.468Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T14:28:58.468Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T14:28:58.468Z"],"workRunningCount":1}
[debug] [2023-01-15T14:28:58.468Z] Accepted request POST /todoapp-65153/us-central1/api/user/image --> us-central1-api
[debug] [2023-01-15T14:28:58.469Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T14:28:58.470Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image"}}
[debug] [2023-01-15T14:28:58.470Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T14:28:58.470Z] [worker-us-central1-api-2cde90a6-6862-428b-9658-f88998788279]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-2cde90a6-6862-428b-9658-f88998788279]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] >  File [image]: filename: [object Object], encoding: undefined, mimetype: undefined {"user":"File [image]: filename: [object Object], encoding: undefined, mimetype: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m File [image]: filename: [object Object], encoding: undefined, mimetype: undefined"}}
[debug] [2023-01-15T14:28:58.884Z] [worker-us-central1-api-2cde90a6-6862-428b-9658-f88998788279]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-2cde90a6-6862-428b-9658-f88998788279]: IDLE"}}
[debug] [2023-01-15T14:28:58.884Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 411.089791ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 411.089791ms"}}
[debug] [2023-01-15T14:31:50.728Z] File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers"}}
[debug] [2023-01-15T14:31:51.741Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T14:31:53.580Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T14:31:53.581Z] Building nodejs source
[debug] [2023-01-15T14:31:53.583Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T14:31:53.636Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T14:31:53.636Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T14:31:53.636Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T14:31:53.636Z"],"workRunningCount":1}
[debug] [2023-01-15T14:31:53.636Z] Accepted request POST /todoapp-65153/us-central1/api/user/image --> us-central1-api
[debug] [2023-01-15T14:31:53.637Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T14:31:53.637Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image"}}
[debug] [2023-01-15T14:31:53.637Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T14:31:53.637Z] [worker-us-central1-api-2cde90a6-6862-428b-9658-f88998788279]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-2cde90a6-6862-428b-9658-f88998788279]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T14:31:53.922Z] Serving at port 9005

[info] >  File [image]: filename: [object Object], encoding: undefined, mimetype: undefined {"user":"File [image]: filename: [object Object], encoding: undefined, mimetype: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m File [image]: filename: [object Object], encoding: undefined, mimetype: undefined"}}
[debug] [2023-01-15T14:31:54.069Z] [worker-us-central1-api-2cde90a6-6862-428b-9658-f88998788279]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-2cde90a6-6862-428b-9658-f88998788279]: IDLE"}}
[debug] [2023-01-15T14:31:54.070Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 413.982875ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 413.982875ms"}}
[debug] [2023-01-15T14:31:54.242Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T14:31:54.257Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-01-15T14:31:54.271Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-01-15T14:31:54.271Z] [worker-us-central1-api-2cde90a6-6862-428b-9658-f88998788279]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-2cde90a6-6862-428b-9658-f88998788279]: FINISHING"}}
[debug] [2023-01-15T14:31:54.283Z] [worker-us-central1-api-2cde90a6-6862-428b-9658-f88998788279]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-2cde90a6-6862-428b-9658-f88998788279]: exited"}}
[debug] [2023-01-15T14:31:54.283Z] [worker-us-central1-api-2cde90a6-6862-428b-9658-f88998788279]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-2cde90a6-6862-428b-9658-f88998788279]: FINISHED"}}
[debug] [2023-01-15T14:32:08.907Z] File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers"}}
[debug] [2023-01-15T14:32:09.933Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T14:32:10.930Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T14:32:10.930Z] Building nodejs source
[debug] [2023-01-15T14:32:10.932Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T14:32:10.959Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T14:32:10.959Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T14:32:10.960Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T14:32:10.959Z"],"workRunningCount":1}
[debug] [2023-01-15T14:32:10.960Z] Accepted request POST /todoapp-65153/us-central1/api/user/image --> us-central1-api
[debug] [2023-01-15T14:32:10.961Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T14:32:10.961Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image"}}
[debug] [2023-01-15T14:32:10.962Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-01-15T14:32:10.982Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-15T14:32:10.983Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-01-15T14:32:11.217Z] Serving at port 9005

[debug] [2023-01-15T14:32:11.505Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T14:32:11.514Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-01-15T14:32:12.080Z] [runtime-status] [89839] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89839] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T14:32:12.083Z] [runtime-status] [89839] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89839] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:32:12.084Z] [runtime-status] [89839] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89839] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-15T14:32:12.084Z] [runtime-status] [89839] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89839] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:32:12.114Z] [runtime-status] [89839] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89839] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-15T14:32:12.114Z] [runtime-status] [89839] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89839] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-15T14:32:12.115Z] [runtime-status] [89839] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89839] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:32:12.116Z] [runtime-status] [89839] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89839] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T14:32:12.117Z] [runtime-status] [89839] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89839] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:32:12.118Z] [runtime-status] [89839] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89839] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-15T14:32:12.171Z] [runtime-status] [89839] initializeApp(DEFAULT) {"storageBucket":"todoapp-65153.appspot.com","projectId":"todoapp-65153"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89839] initializeApp(DEFAULT) {\"storageBucket\":\"todoapp-65153.appspot.com\",\"projectId\":\"todoapp-65153\"}"}}
[debug] [2023-01-15T14:32:12.271Z] [runtime-status] [89839] Functions runtime initialized. {"cwd":"/Users/ryanguai/DCO-Tutorial/functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89839] Functions runtime initialized. {\"cwd\":\"/Users/ryanguai/DCO-Tutorial/functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2023-01-15T14:32:12.272Z] [runtime-status] [89839] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_9a37eec41f00c23f.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [89839] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_9a37eec41f00c23f.sock"}}
[debug] [2023-01-15T14:32:12.346Z] [worker-us-central1-api-ba03d9e5-df2a-4ba4-94fa-436b9ed6bdd1]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ba03d9e5-df2a-4ba4-94fa-436b9ed6bdd1]: IDLE"}}
[debug] [2023-01-15T14:32:12.346Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T14:32:12.346Z] [worker-us-central1-api-ba03d9e5-df2a-4ba4-94fa-436b9ed6bdd1]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ba03d9e5-df2a-4ba4-94fa-436b9ed6bdd1]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  File [image]: filename: [object Object], encoding: undefined, mimetype: undefined {"user":"File [image]: filename: [object Object], encoding: undefined, mimetype: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m File [image]: filename: [object Object], encoding: undefined, mimetype: undefined"}}
[debug] [2023-01-15T14:32:13.412Z] [worker-us-central1-api-ba03d9e5-df2a-4ba4-94fa-436b9ed6bdd1]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ba03d9e5-df2a-4ba4-94fa-436b9ed6bdd1]: IDLE"}}
[debug] [2023-01-15T14:32:13.412Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 1057.263708ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 1057.263708ms"}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/storage/v1/b/todoapp-65153.appspot.com/o/undefined?"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/storage/v1/b/todoapp-65153.appspot.com/o/undefined?\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-15T14:32:21.926Z] File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers"}}
[debug] [2023-01-15T14:32:22.944Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T14:32:23.884Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T14:32:23.885Z] Building nodejs source
[debug] [2023-01-15T14:32:23.889Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T14:32:24.191Z] Serving at port 9005

[debug] [2023-01-15T14:32:24.484Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T14:32:24.512Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-01-15T14:32:24.522Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-01-15T14:32:24.523Z] [worker-us-central1-api-ba03d9e5-df2a-4ba4-94fa-436b9ed6bdd1]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ba03d9e5-df2a-4ba4-94fa-436b9ed6bdd1]: FINISHING"}}
[debug] [2023-01-15T14:32:24.534Z] [worker-us-central1-api-ba03d9e5-df2a-4ba4-94fa-436b9ed6bdd1]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ba03d9e5-df2a-4ba4-94fa-436b9ed6bdd1]: exited"}}
[debug] [2023-01-15T14:32:24.535Z] [worker-us-central1-api-ba03d9e5-df2a-4ba4-94fa-436b9ed6bdd1]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ba03d9e5-df2a-4ba4-94fa-436b9ed6bdd1]: FINISHED"}}
[debug] [2023-01-15T14:33:40.807Z] ----------------------------------------------------------------------
[debug] [2023-01-15T14:33:40.808Z] Command:       /usr/local/bin/node /Users/ryanguai/.npm-global/bin/firebase serve
[debug] [2023-01-15T14:33:40.809Z] CLI Version:   11.20.0
[debug] [2023-01-15T14:33:40.810Z] Platform:      darwin
[debug] [2023-01-15T14:33:40.810Z] Node Version:  v16.13.0
[debug] [2023-01-15T14:33:40.815Z] Time:          Sun Jan 15 2023 22:33:40 GMT+0800 (Singapore Standard Time)
[debug] [2023-01-15T14:33:40.816Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-01-15T14:33:40.915Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-01-15T14:33:40.917Z] > authorizing via signed-in user (e0694442@u.nus.edu)
[debug] [2023-01-15T14:33:40.918Z] [iam] checking project todoapp-65153 for permissions ["firebase.projects.get"]
[debug] [2023-01-15T14:33:40.920Z] > refreshing access token with scopes: []
[debug] [2023-01-15T14:33:40.922Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2023-01-15T14:33:40.922Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-01-15T14:33:41.123Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2023-01-15T14:33:41.126Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-01-15T14:33:41.174Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions [none]
[debug] [2023-01-15T14:33:41.175Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions x-goog-quota-user=projects/todoapp-65153
[debug] [2023-01-15T14:33:41.176Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-01-15T14:33:42.241Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions 200
[debug] [2023-01-15T14:33:42.244Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-01-15T14:33:42.247Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 [none]
[debug] [2023-01-15T14:33:43.122Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 200
[debug] [2023-01-15T14:33:43.123Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 {"projectId":"todoapp-65153","projectNumber":"171978637376","displayName":"TodoApp","name":"projects/todoapp-65153","resources":{"hostingSite":"todoapp-65153","storageBucket":"todoapp-65153.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_64621f78-c1b2-4c65-8844-6916a85c0849"}
[info] 
[info] === Serving from '/Users/ryanguai/DCO-Tutorial'...
[info] 
[info] ✔  functions: Using node@16 from host. {"metadata":{"emulator":{"name":"functions"},"message":"Using node@16 from host."}}
[debug] [2023-01-15T14:33:43.168Z] defaultcredentials: writing to file /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json
[debug] [2023-01-15T14:33:43.172Z] Setting GAC to /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json"}}
[debug] [2023-01-15T14:33:43.174Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig [none]
[debug] [2023-01-15T14:33:43.727Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig 200
[debug] [2023-01-15T14:33:43.728Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig {"projectId":"todoapp-65153","storageBucket":"todoapp-65153.appspot.com","locationId":"us-central"}
[info] i  functions: Watching "/Users/ryanguai/DCO-Tutorial/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/ryanguai/DCO-Tutorial/functions\" for Cloud Functions..."}}
[debug] [2023-01-15T14:33:43.774Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T14:33:44.693Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T14:33:44.694Z] Building nodejs source
[debug] [2023-01-15T14:33:44.700Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T14:33:44.996Z] Serving at port 9005

[debug] [2023-01-15T14:33:45.269Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T14:33:45.282Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions[us-central1-api]: http function initialized (http://localhost:5000/todoapp-65153/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5000/todoapp-65153/us-central1/api)."}}
[debug] [2023-01-15T14:33:50.523Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T14:33:50.523Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T14:33:50.529Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user/image-2023-01-15T14:33:50.523Z"],"workRunningCount":1}
[debug] [2023-01-15T14:33:50.531Z] Accepted request POST /todoapp-65153/us-central1/api/user/image --> us-central1-api
[debug] [2023-01-15T14:33:50.533Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T14:33:50.534Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user/image, mapping to path=/user/image"}}
[debug] [2023-01-15T14:33:50.580Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-15T14:33:50.582Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-01-15T14:33:51.532Z] [runtime-status] [90039] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [90039] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T14:33:51.532Z] [runtime-status] [90039] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [90039] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:33:51.533Z] [runtime-status] [90039] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [90039] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-15T14:33:51.533Z] [runtime-status] [90039] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [90039] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:33:51.565Z] [runtime-status] [90039] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [90039] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-15T14:33:51.565Z] [runtime-status] [90039] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [90039] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-15T14:33:51.567Z] [runtime-status] [90039] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [90039] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:33:51.567Z] [runtime-status] [90039] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [90039] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T14:33:51.569Z] [runtime-status] [90039] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [90039] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:33:51.570Z] [runtime-status] [90039] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [90039] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-15T14:33:51.640Z] [runtime-status] [90039] initializeApp(DEFAULT) {"storageBucket":"todoapp-65153.appspot.com","projectId":"todoapp-65153"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [90039] initializeApp(DEFAULT) {\"storageBucket\":\"todoapp-65153.appspot.com\",\"projectId\":\"todoapp-65153\"}"}}
[warn] ⚠  functions: The Cloud Firestore emulator is not running, so calls to Firestore will affect production. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"The Cloud Firestore emulator is not running, so calls to Firestore will affect production."}}
[debug] [2023-01-15T14:33:51.766Z] [runtime-status] [90039] Functions runtime initialized. {"cwd":"/Users/ryanguai/DCO-Tutorial/functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [90039] Functions runtime initialized. {\"cwd\":\"/Users/ryanguai/DCO-Tutorial/functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2023-01-15T14:33:51.766Z] [runtime-status] [90039] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_34a3341732844675.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [90039] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_34a3341732844675.sock"}}
[debug] [2023-01-15T14:33:51.857Z] [worker-us-central1-api-ef6dc523-1ad3-4aad-aa05-f50a769d0109]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ef6dc523-1ad3-4aad-aa05-f50a769d0109]: IDLE"}}
[debug] [2023-01-15T14:33:51.858Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T14:33:51.858Z] [worker-us-central1-api-ef6dc523-1ad3-4aad-aa05-f50a769d0109]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ef6dc523-1ad3-4aad-aa05-f50a769d0109]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[warn] ⚠  functions: The Firebase Authentication emulator is not running, so calls to Firebase Authentication will affect production. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"The Firebase Authentication emulator is not running, so calls to Firebase Authentication will affect production."}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  functions: The Firebase Storage emulator is not running, so calls to Firebase Storage will affect production. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"The Firebase Storage emulator is not running, so calls to Firebase Storage will affect production."}}
[info] >  File [image]: filename: 01-shutterstock_476340928-Irina-Bg.jpeg, encoding: 7bit, mimetype: image/jpeg {"user":"File [image]: filename: 01-shutterstock_476340928-Irina-Bg.jpeg, encoding: 7bit, mimetype: image/jpeg","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m File [image]: filename: 01-shutterstock_476340928-Irina-Bg.jpeg, encoding: 7bit, mimetype: image/jpeg"}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/storage/v1/b/todoapp-65153.appspot.com/o/undefined?"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/storage/v1/b/todoapp-65153.appspot.com/o/undefined?\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/upload/storage/v1/b/todoapp-65153.appspot.com/o?uploadType=multipart&name=stpaul.jpeg"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/upload/storage/v1/b/todoapp-65153.appspot.com/o?uploadType=multipart&name=stpaul.jpeg\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-15T14:33:55.265Z] [worker-us-central1-api-ef6dc523-1ad3-4aad-aa05-f50a769d0109]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ef6dc523-1ad3-4aad-aa05-f50a769d0109]: IDLE"}}
[debug] [2023-01-15T14:33:55.267Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 3386.879083ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 3386.879083ms"}}
[debug] [2023-01-15T14:45:01.526Z] File /Users/ryanguai/DCO-Tutorial/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-15T14:45:02.545Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T14:45:03.606Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T14:45:03.606Z] Building nodejs source
[debug] [2023-01-15T14:45:03.607Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T14:45:03.918Z] Serving at port 9005

[debug] [2023-01-15T14:45:04.236Z] Got response from /__/functions.yaml Failed to generate manifest from function source: Error: Route.get() requires a callback function but got a [object Undefined]
[debug] [2023-01-15T14:45:04.241Z] Failed to parse functions.yamlincomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 56:
     ... fest from function source: Error: Route.get() requires a callbac ... 
                                         ^ {"name":"YAMLException","reason":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line","mark":{"name":null,"buffer":"Failed to generate manifest from function source: Error: Route.get() requires a callback function but got a [object Undefined]\n\u0000","position":55,"line":0,"column":55},"message":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 56:\n     ... fest from function source: Error: Route.get() requires a callbac ... \n                                         ^"}
[debug] [2023-01-15T14:45:04.259Z] shutdown requested via /__/quitquitquit

[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: Error: Route.get() requires a callback function but got a [object Undefined] {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: Error: Route.get() requires a callback function but got a [object Undefined]"}}
[debug] [2023-01-15T14:47:01.229Z] File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers"}}
[debug] [2023-01-15T14:47:08.292Z] ----------------------------------------------------------------------
[debug] [2023-01-15T14:47:08.293Z] Command:       /usr/local/bin/node /Users/ryanguai/.npm-global/bin/firebase serve
[debug] [2023-01-15T14:47:08.294Z] CLI Version:   11.20.0
[debug] [2023-01-15T14:47:08.295Z] Platform:      darwin
[debug] [2023-01-15T14:47:08.295Z] Node Version:  v16.13.0
[debug] [2023-01-15T14:47:08.297Z] Time:          Sun Jan 15 2023 22:47:08 GMT+0800 (Singapore Standard Time)
[debug] [2023-01-15T14:47:08.298Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-01-15T14:47:08.392Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-01-15T14:47:08.393Z] > authorizing via signed-in user (e0694442@u.nus.edu)
[debug] [2023-01-15T14:47:08.394Z] [iam] checking project todoapp-65153 for permissions ["firebase.projects.get"]
[debug] [2023-01-15T14:47:08.396Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions [none]
[debug] [2023-01-15T14:47:08.397Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions x-goog-quota-user=projects/todoapp-65153
[debug] [2023-01-15T14:47:08.397Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-01-15T14:47:09.634Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions 200
[debug] [2023-01-15T14:47:09.639Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-01-15T14:47:09.642Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 [none]
[debug] [2023-01-15T14:47:10.011Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 200
[debug] [2023-01-15T14:47:10.013Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 {"projectId":"todoapp-65153","projectNumber":"171978637376","displayName":"TodoApp","name":"projects/todoapp-65153","resources":{"hostingSite":"todoapp-65153","storageBucket":"todoapp-65153.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_64621f78-c1b2-4c65-8844-6916a85c0849"}
[info] 
[info] === Serving from '/Users/ryanguai/DCO-Tutorial'...
[info] 
[info] ✔  functions: Using node@16 from host. {"metadata":{"emulator":{"name":"functions"},"message":"Using node@16 from host."}}
[debug] [2023-01-15T14:47:10.051Z] defaultcredentials: writing to file /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json
[debug] [2023-01-15T14:47:10.054Z] Setting GAC to /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json"}}
[debug] [2023-01-15T14:47:10.057Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig [none]
[debug] [2023-01-15T14:47:10.435Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig 200
[debug] [2023-01-15T14:47:10.436Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig {"projectId":"todoapp-65153","storageBucket":"todoapp-65153.appspot.com","locationId":"us-central"}
[info] i  functions: Watching "/Users/ryanguai/DCO-Tutorial/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/ryanguai/DCO-Tutorial/functions\" for Cloud Functions..."}}
[debug] [2023-01-15T14:47:10.505Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T14:47:11.327Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T14:47:11.328Z] Building nodejs source
[debug] [2023-01-15T14:47:11.331Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T14:47:11.631Z] Serving at port 9005

[debug] [2023-01-15T14:47:11.893Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T14:47:11.906Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions[us-central1-api]: http function initialized (http://localhost:5000/todoapp-65153/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5000/todoapp-65153/us-central1/api)."}}
[debug] [2023-01-15T14:47:39.835Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user-2023-01-15T14:47:39.834Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T14:47:39.841Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user-2023-01-15T14:47:39.834Z"],"workRunningCount":1}
[debug] [2023-01-15T14:47:39.843Z] Accepted request GET /todoapp-65153/us-central1/api/user --> us-central1-api
[debug] [2023-01-15T14:47:39.846Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T14:47:39.847Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user, mapping to path=/user {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user, mapping to path=/user"}}
[debug] [2023-01-15T14:47:39.881Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-15T14:47:39.881Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-01-15T14:47:40.847Z] [runtime-status] [90150] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [90150] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T14:47:40.849Z] [runtime-status] [90150] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [90150] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:47:40.850Z] [runtime-status] [90150] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [90150] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-15T14:47:40.851Z] [runtime-status] [90150] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [90150] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:47:40.885Z] [runtime-status] [90150] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [90150] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-15T14:47:40.886Z] [runtime-status] [90150] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [90150] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-15T14:47:40.891Z] [runtime-status] [90150] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [90150] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:47:40.893Z] [runtime-status] [90150] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [90150] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T14:47:40.895Z] [runtime-status] [90150] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [90150] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:47:40.896Z] [runtime-status] [90150] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [90150] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-15T14:47:40.968Z] [runtime-status] [90150] initializeApp(DEFAULT) {"storageBucket":"todoapp-65153.appspot.com","projectId":"todoapp-65153"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [90150] initializeApp(DEFAULT) {\"storageBucket\":\"todoapp-65153.appspot.com\",\"projectId\":\"todoapp-65153\"}"}}
[warn] ⚠  functions: The Cloud Firestore emulator is not running, so calls to Firestore will affect production. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"The Cloud Firestore emulator is not running, so calls to Firestore will affect production."}}
[debug] [2023-01-15T14:47:41.108Z] [runtime-status] [90150] Functions runtime initialized. {"cwd":"/Users/ryanguai/DCO-Tutorial/functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [90150] Functions runtime initialized. {\"cwd\":\"/Users/ryanguai/DCO-Tutorial/functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2023-01-15T14:47:41.109Z] [runtime-status] [90150] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_4a442d96b9a6b6d5.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [90150] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_4a442d96b9a6b6d5.sock"}}
[debug] [2023-01-15T14:47:41.167Z] [worker-us-central1-api-85592b71-c7bc-44c5-a9f3-30ff74001e7a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-85592b71-c7bc-44c5-a9f3-30ff74001e7a]: IDLE"}}
[debug] [2023-01-15T14:47:41.168Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T14:47:41.168Z] [worker-us-central1-api-85592b71-c7bc-44c5-a9f3-30ff74001e7a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-85592b71-c7bc-44c5-a9f3-30ff74001e7a]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[warn] ⚠  functions: The Firebase Authentication emulator is not running, so calls to Firebase Authentication will affect production. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"The Firebase Authentication emulator is not running, so calls to Firebase Authentication will affect production."}}
[info] >  Error while verifying token FirebaseAuthError: Firebase ID token has expired. Get a fresh ID token from your client app and try again (auth/id-token-expired). See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token. {"user":"Error while verifying token FirebaseAuthError: Firebase ID token has expired. Get a fresh ID token from your client app and try again (auth/id-token-expired). See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error while verifying token FirebaseAuthError: Firebase ID token has expired. Get a fresh ID token from your client app and try again (auth/id-token-expired). See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token."}}
[info] >      at FirebaseAuthError.FirebaseError [as constructor] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/utils/error.js:44:28) {"user":"    at FirebaseAuthError.FirebaseError [as constructor] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/utils/error.js:44:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at FirebaseAuthError.FirebaseError [as constructor] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/utils/error.js:44:28)"}}
[info] >      at FirebaseAuthError.PrefixedFirebaseError [as constructor] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/utils/error.js:90:28) {"user":"    at FirebaseAuthError.PrefixedFirebaseError [as constructor] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/utils/error.js:90:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at FirebaseAuthError.PrefixedFirebaseError [as constructor] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/utils/error.js:90:28)"}}
[info] >      at new FirebaseAuthError (/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/utils/error.js:149:16) {"user":"    at new FirebaseAuthError (/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/utils/error.js:149:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at new FirebaseAuthError (/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/utils/error.js:149:16)"}}
[info] >      at FirebaseTokenVerifier.mapJwtErrorToAuthError (/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/auth/token-verifier.js:269:20) {"user":"    at FirebaseTokenVerifier.mapJwtErrorToAuthError (/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/auth/token-verifier.js:269:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at FirebaseTokenVerifier.mapJwtErrorToAuthError (/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/auth/token-verifier.js:269:20)"}}
[info] >      at /Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/auth/token-verifier.js:253:25 {"user":"    at /Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/auth/token-verifier.js:253:25","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/auth/token-verifier.js:253:25"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    errorInfo: { {"user":"  errorInfo: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   errorInfo: {"}}
[info] >      code: 'auth/id-token-expired', {"user":"    code: 'auth/id-token-expired',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'auth/id-token-expired',"}}
[info] >      message: 'Firebase ID token has expired. Get a fresh ID token from your client app and try again (auth/id-token-expired). See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.' {"user":"    message: 'Firebase ID token has expired. Get a fresh ID token from your client app and try again (auth/id-token-expired). See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'Firebase ID token has expired. Get a fresh ID token from your client app and try again (auth/id-token-expired). See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    codePrefix: 'auth' {"user":"  codePrefix: 'auth'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   codePrefix: 'auth'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-01-15T14:47:41.366Z] [worker-us-central1-api-85592b71-c7bc-44c5-a9f3-30ff74001e7a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-85592b71-c7bc-44c5-a9f3-30ff74001e7a]: IDLE"}}
[debug] [2023-01-15T14:47:41.373Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 181.540083ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 181.540083ms"}}
[debug] [2023-01-15T14:48:21.964Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/login-2023-01-15T14:48:21.963Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T14:48:21.967Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/login-2023-01-15T14:48:21.963Z"],"workRunningCount":1}
[debug] [2023-01-15T14:48:21.967Z] Accepted request POST /todoapp-65153/us-central1/api/login --> us-central1-api
[debug] [2023-01-15T14:48:21.969Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T14:48:21.971Z] [functions] Got req.url=/todoapp-65153/us-central1/api/login, mapping to path=/login {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/login, mapping to path=/login"}}
[debug] [2023-01-15T14:48:21.971Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T14:48:21.971Z] [worker-us-central1-api-85592b71-c7bc-44c5-a9f3-30ff74001e7a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-85592b71-c7bc-44c5-a9f3-30ff74001e7a]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T14:48:22.699Z] [worker-us-central1-api-85592b71-c7bc-44c5-a9f3-30ff74001e7a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-85592b71-c7bc-44c5-a9f3-30ff74001e7a]: IDLE"}}
[debug] [2023-01-15T14:48:22.699Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 691.346917ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 691.346917ms"}}
[debug] [2023-01-15T14:48:48.568Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/login-2023-01-15T14:48:48.568Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T14:48:48.570Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/login-2023-01-15T14:48:48.568Z"],"workRunningCount":1}
[debug] [2023-01-15T14:48:48.570Z] Accepted request POST /todoapp-65153/us-central1/api/login --> us-central1-api
[debug] [2023-01-15T14:48:48.573Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T14:48:48.573Z] [functions] Got req.url=/todoapp-65153/us-central1/api/login, mapping to path=/login {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/login, mapping to path=/login"}}
[debug] [2023-01-15T14:48:48.574Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T14:48:48.574Z] [worker-us-central1-api-85592b71-c7bc-44c5-a9f3-30ff74001e7a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-85592b71-c7bc-44c5-a9f3-30ff74001e7a]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T14:48:49.364Z] [worker-us-central1-api-85592b71-c7bc-44c5-a9f3-30ff74001e7a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-85592b71-c7bc-44c5-a9f3-30ff74001e7a]: IDLE"}}
[debug] [2023-01-15T14:48:49.365Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 774.618333ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 774.618333ms"}}
[debug] [2023-01-15T14:49:04.675Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/users-2023-01-15T14:49:04.675Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T14:49:04.676Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/users-2023-01-15T14:49:04.675Z"],"workRunningCount":1}
[debug] [2023-01-15T14:49:04.676Z] Accepted request GET /todoapp-65153/us-central1/api/users --> us-central1-api
[debug] [2023-01-15T14:49:04.678Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T14:49:04.678Z] [functions] Got req.url=/todoapp-65153/us-central1/api/users, mapping to path=/users {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/users, mapping to path=/users"}}
[debug] [2023-01-15T14:49:04.679Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T14:49:04.679Z] [worker-us-central1-api-85592b71-c7bc-44c5-a9f3-30ff74001e7a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-85592b71-c7bc-44c5-a9f3-30ff74001e7a]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T14:49:04.699Z] [worker-us-central1-api-85592b71-c7bc-44c5-a9f3-30ff74001e7a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-85592b71-c7bc-44c5-a9f3-30ff74001e7a]: IDLE"}}
[debug] [2023-01-15T14:49:04.700Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 4.243042ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 4.243042ms"}}
[debug] [2023-01-15T14:49:10.665Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user-2023-01-15T14:49:10.664Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T14:49:10.665Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user-2023-01-15T14:49:10.664Z"],"workRunningCount":1}
[debug] [2023-01-15T14:49:10.665Z] Accepted request GET /todoapp-65153/us-central1/api/user --> us-central1-api
[debug] [2023-01-15T14:49:10.666Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T14:49:10.666Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user, mapping to path=/user {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user, mapping to path=/user"}}
[debug] [2023-01-15T14:49:10.667Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T14:49:10.667Z] [worker-us-central1-api-85592b71-c7bc-44c5-a9f3-30ff74001e7a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-85592b71-c7bc-44c5-a9f3-30ff74001e7a]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-15T14:49:13.127Z] [worker-us-central1-api-85592b71-c7bc-44c5-a9f3-30ff74001e7a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-85592b71-c7bc-44c5-a9f3-30ff74001e7a]: IDLE"}}
[debug] [2023-01-15T14:49:13.128Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 2447.860209ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 2447.860209ms"}}
[debug] [2023-01-15T14:50:55.078Z] File /Users/ryanguai/DCO-Tutorial/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-15T14:50:56.087Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T14:50:57.115Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T14:50:57.115Z] Building nodejs source
[debug] [2023-01-15T14:50:57.116Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T14:50:57.414Z] Serving at port 9005

[debug] [2023-01-15T14:50:57.713Z] Got response from /__/functions.yaml Failed to generate manifest from function source: Error: Route.post() requires a callback function but got a [object Undefined]
[debug] [2023-01-15T14:50:57.715Z] Failed to parse functions.yamlincomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 56:
     ... fest from function source: Error: Route.post() requires a callba ... 
                                         ^ {"name":"YAMLException","reason":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line","mark":{"name":null,"buffer":"Failed to generate manifest from function source: Error: Route.post() requires a callback function but got a [object Undefined]\n\u0000","position":55,"line":0,"column":55},"message":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 56:\n     ... fest from function source: Error: Route.post() requires a callba ... \n                                         ^"}
[debug] [2023-01-15T14:50:57.725Z] shutdown requested via /__/quitquitquit

[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: Error: Route.post() requires a callback function but got a [object Undefined] {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: Error: Route.post() requires a callback function but got a [object Undefined]"}}
[debug] [2023-01-15T14:51:13.676Z] File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/APIs/users.js changed, reloading triggers"}}
[debug] [2023-01-15T14:51:14.692Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T14:51:15.708Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T14:51:15.708Z] Building nodejs source
[debug] [2023-01-15T14:51:15.709Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T14:51:15.977Z] Serving at port 9005

[debug] [2023-01-15T14:51:16.229Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T14:51:16.241Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-01-15T14:51:16.249Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-01-15T14:51:16.250Z] [worker-us-central1-api-85592b71-c7bc-44c5-a9f3-30ff74001e7a]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-85592b71-c7bc-44c5-a9f3-30ff74001e7a]: FINISHING"}}
[debug] [2023-01-15T14:51:16.264Z] [worker-us-central1-api-85592b71-c7bc-44c5-a9f3-30ff74001e7a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-85592b71-c7bc-44c5-a9f3-30ff74001e7a]: exited"}}
[debug] [2023-01-15T14:51:16.264Z] [worker-us-central1-api-85592b71-c7bc-44c5-a9f3-30ff74001e7a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-85592b71-c7bc-44c5-a9f3-30ff74001e7a]: FINISHED"}}
[debug] [2023-01-15T14:52:32.065Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user-2023-01-15T14:52:32.065Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T14:52:32.068Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user-2023-01-15T14:52:32.065Z"],"workRunningCount":1}
[debug] [2023-01-15T14:52:32.068Z] Accepted request POST /todoapp-65153/us-central1/api/user --> us-central1-api
[debug] [2023-01-15T14:52:32.072Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T14:52:32.073Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user, mapping to path=/user {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user, mapping to path=/user"}}
[debug] [2023-01-15T14:52:32.073Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-01-15T14:52:32.102Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-15T14:52:32.103Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-01-15T14:52:33.147Z] [runtime-status] [90205] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [90205] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T14:52:33.150Z] [runtime-status] [90205] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [90205] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:52:33.150Z] [runtime-status] [90205] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [90205] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-15T14:52:33.151Z] [runtime-status] [90205] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [90205] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:52:33.188Z] [runtime-status] [90205] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [90205] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-15T14:52:33.188Z] [runtime-status] [90205] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [90205] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-15T14:52:33.189Z] [runtime-status] [90205] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [90205] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:52:33.190Z] [runtime-status] [90205] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [90205] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T14:52:33.192Z] [runtime-status] [90205] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [90205] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T14:52:33.192Z] [runtime-status] [90205] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [90205] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-15T14:52:33.279Z] [runtime-status] [90205] initializeApp(DEFAULT) {"storageBucket":"todoapp-65153.appspot.com","projectId":"todoapp-65153"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [90205] initializeApp(DEFAULT) {\"storageBucket\":\"todoapp-65153.appspot.com\",\"projectId\":\"todoapp-65153\"}"}}
[debug] [2023-01-15T14:52:33.414Z] [runtime-status] [90205] Functions runtime initialized. {"cwd":"/Users/ryanguai/DCO-Tutorial/functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [90205] Functions runtime initialized. {\"cwd\":\"/Users/ryanguai/DCO-Tutorial/functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2023-01-15T14:52:33.415Z] [runtime-status] [90205] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_36196bca5693b405.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [90205] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_36196bca5693b405.sock"}}
[debug] [2023-01-15T14:52:33.472Z] [worker-us-central1-api-35d19b12-caab-4449-97d2-7623b58bd972]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-35d19b12-caab-4449-97d2-7623b58bd972]: IDLE"}}
[debug] [2023-01-15T14:52:33.473Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T14:52:33.473Z] [worker-us-central1-api-35d19b12-caab-4449-97d2-7623b58bd972]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-35d19b12-caab-4449-97d2-7623b58bd972]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-15T14:52:36.083Z] [worker-us-central1-api-35d19b12-caab-4449-97d2-7623b58bd972]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-35d19b12-caab-4449-97d2-7623b58bd972]: IDLE"}}
[debug] [2023-01-15T14:52:36.084Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 2590.43825ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 2590.43825ms"}}
[debug] [2023-01-15T14:52:45.746Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/user-2023-01-15T14:52:45.745Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T14:52:45.747Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/user-2023-01-15T14:52:45.745Z"],"workRunningCount":1}
[debug] [2023-01-15T14:52:45.747Z] Accepted request GET /todoapp-65153/us-central1/api/user --> us-central1-api
[debug] [2023-01-15T14:52:45.748Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T14:52:45.749Z] [functions] Got req.url=/todoapp-65153/us-central1/api/user, mapping to path=/user {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/user, mapping to path=/user"}}
[debug] [2023-01-15T14:52:45.751Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T14:52:45.752Z] [worker-us-central1-api-35d19b12-caab-4449-97d2-7623b58bd972]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-35d19b12-caab-4449-97d2-7623b58bd972]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T14:52:47.247Z] [worker-us-central1-api-35d19b12-caab-4449-97d2-7623b58bd972]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-35d19b12-caab-4449-97d2-7623b58bd972]: IDLE"}}
[debug] [2023-01-15T14:52:47.248Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 1467.358417ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 1467.358417ms"}}
[debug] [2023-01-15T15:41:22.319Z] ----------------------------------------------------------------------
[debug] [2023-01-15T15:41:22.320Z] Command:       /usr/local/bin/node /Users/ryanguai/.npm-global/bin/firebase serve
[debug] [2023-01-15T15:41:22.321Z] CLI Version:   11.20.0
[debug] [2023-01-15T15:41:22.321Z] Platform:      darwin
[debug] [2023-01-15T15:41:22.322Z] Node Version:  v16.13.0
[debug] [2023-01-15T15:41:22.326Z] Time:          Sun Jan 15 2023 23:41:22 GMT+0800 (Singapore Standard Time)
[debug] [2023-01-15T15:41:22.327Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-01-15T15:41:22.429Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-01-15T15:41:22.430Z] > authorizing via signed-in user (e0694442@u.nus.edu)
[debug] [2023-01-15T15:41:22.431Z] [iam] checking project todoapp-65153 for permissions ["firebase.projects.get"]
[debug] [2023-01-15T15:41:22.433Z] > refreshing access token with scopes: []
[debug] [2023-01-15T15:41:22.435Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2023-01-15T15:41:22.435Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-01-15T15:41:22.563Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2023-01-15T15:41:22.565Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-01-15T15:41:22.610Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions [none]
[debug] [2023-01-15T15:41:22.613Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions x-goog-quota-user=projects/todoapp-65153
[debug] [2023-01-15T15:41:22.614Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-01-15T15:41:23.751Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions 200
[debug] [2023-01-15T15:41:23.757Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-01-15T15:41:23.759Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 [none]
[debug] [2023-01-15T15:41:24.114Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 200
[debug] [2023-01-15T15:41:24.116Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 {"projectId":"todoapp-65153","projectNumber":"171978637376","displayName":"TodoApp","name":"projects/todoapp-65153","resources":{"hostingSite":"todoapp-65153","storageBucket":"todoapp-65153.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_64621f78-c1b2-4c65-8844-6916a85c0849"}
[info] 
[info] === Serving from '/Users/ryanguai/DCO-Tutorial'...
[info] 
[info] ✔  functions: Using node@16 from host. {"metadata":{"emulator":{"name":"functions"},"message":"Using node@16 from host."}}
[debug] [2023-01-15T15:41:24.164Z] defaultcredentials: writing to file /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json
[debug] [2023-01-15T15:41:24.167Z] Setting GAC to /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/ryanguai/.config/firebase/e0694442_u_nus.edu_application_default_credentials.json"}}
[debug] [2023-01-15T15:41:24.170Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig [none]
[debug] [2023-01-15T15:41:24.575Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig 200
[debug] [2023-01-15T15:41:24.576Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig {"projectId":"todoapp-65153","storageBucket":"todoapp-65153.appspot.com","locationId":"us-central"}
[info] i  functions: Watching "/Users/ryanguai/DCO-Tutorial/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/ryanguai/DCO-Tutorial/functions\" for Cloud Functions..."}}
[debug] [2023-01-15T15:41:24.644Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T15:41:25.784Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T15:41:25.784Z] Building nodejs source
[debug] [2023-01-15T15:41:25.794Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T15:41:26.309Z] Serving at port 9005

[debug] [2023-01-15T15:41:26.634Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T15:41:26.648Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions[us-central1-api]: http function initialized (http://localhost:5000/todoapp-65153/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5000/todoapp-65153/us-central1/api)."}}
[debug] [2023-01-15T16:04:00.746Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/todos-2023-01-15T16:04:00.745Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T16:04:00.760Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/todos-2023-01-15T16:04:00.745Z"],"workRunningCount":1}
[debug] [2023-01-15T16:04:00.762Z] Accepted request GET /todoapp-65153/us-central1/api/todos --> us-central1-api
[debug] [2023-01-15T16:04:00.769Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T16:04:00.773Z] [functions] Got req.url=/todoapp-65153/us-central1/api/todos, mapping to path=/todos {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/todos, mapping to path=/todos"}}
[debug] [2023-01-15T16:04:00.818Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-01-15T16:04:00.819Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-01-15T16:04:01.910Z] [runtime-status] [91291] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [91291] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T16:04:01.913Z] [runtime-status] [91291] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [91291] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T16:04:01.913Z] [runtime-status] [91291] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [91291] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-15T16:04:01.914Z] [runtime-status] [91291] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [91291] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T16:04:01.952Z] [runtime-status] [91291] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [91291] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-15T16:04:01.952Z] [runtime-status] [91291] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [91291] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-15T16:04:01.953Z] [runtime-status] [91291] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [91291] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T16:04:01.954Z] [runtime-status] [91291] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [91291] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-15T16:04:01.961Z] [runtime-status] [91291] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [91291] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-15T16:04:01.962Z] [runtime-status] [91291] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [91291] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-15T16:04:02.037Z] [runtime-status] [91291] initializeApp(DEFAULT) {"storageBucket":"todoapp-65153.appspot.com","projectId":"todoapp-65153"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [91291] initializeApp(DEFAULT) {\"storageBucket\":\"todoapp-65153.appspot.com\",\"projectId\":\"todoapp-65153\"}"}}
[warn] ⚠  functions: The Cloud Firestore emulator is not running, so calls to Firestore will affect production. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"The Cloud Firestore emulator is not running, so calls to Firestore will affect production."}}
[debug] [2023-01-15T16:04:02.244Z] [runtime-status] [91291] Functions runtime initialized. {"cwd":"/Users/ryanguai/DCO-Tutorial/functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [91291] Functions runtime initialized. {\"cwd\":\"/Users/ryanguai/DCO-Tutorial/functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2023-01-15T16:04:02.245Z] [runtime-status] [91291] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_ddda927464a7158a.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [91291] Listening to port: /var/folders/nn/sd9vtwlx53z3_w1gvtb3ppgc0000gn/T/fire_emu_ddda927464a7158a.sock"}}
[debug] [2023-01-15T16:04:02.325Z] [worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: IDLE"}}
[debug] [2023-01-15T16:04:02.326Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T16:04:02.326Z] [worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[warn] ⚠  functions: The Firebase Authentication emulator is not running, so calls to Firebase Authentication will affect production. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"The Firebase Authentication emulator is not running, so calls to Firebase Authentication will affect production."}}
[info] >  Error while verifying token FirebaseAuthError: Firebase ID token has expired. Get a fresh ID token from your client app and try again (auth/id-token-expired). See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token. {"user":"Error while verifying token FirebaseAuthError: Firebase ID token has expired. Get a fresh ID token from your client app and try again (auth/id-token-expired). See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error while verifying token FirebaseAuthError: Firebase ID token has expired. Get a fresh ID token from your client app and try again (auth/id-token-expired). See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token."}}
[info] >      at FirebaseAuthError.FirebaseError [as constructor] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/utils/error.js:44:28) {"user":"    at FirebaseAuthError.FirebaseError [as constructor] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/utils/error.js:44:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at FirebaseAuthError.FirebaseError [as constructor] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/utils/error.js:44:28)"}}
[info] >      at FirebaseAuthError.PrefixedFirebaseError [as constructor] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/utils/error.js:90:28) {"user":"    at FirebaseAuthError.PrefixedFirebaseError [as constructor] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/utils/error.js:90:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at FirebaseAuthError.PrefixedFirebaseError [as constructor] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/utils/error.js:90:28)"}}
[info] >      at new FirebaseAuthError (/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/utils/error.js:149:16) {"user":"    at new FirebaseAuthError (/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/utils/error.js:149:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at new FirebaseAuthError (/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/utils/error.js:149:16)"}}
[info] >      at FirebaseTokenVerifier.mapJwtErrorToAuthError (/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/auth/token-verifier.js:269:20) {"user":"    at FirebaseTokenVerifier.mapJwtErrorToAuthError (/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/auth/token-verifier.js:269:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at FirebaseTokenVerifier.mapJwtErrorToAuthError (/Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/auth/token-verifier.js:269:20)"}}
[info] >      at /Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/auth/token-verifier.js:253:25 {"user":"    at /Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/auth/token-verifier.js:253:25","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ryanguai/DCO-Tutorial/functions/node_modules/firebase-admin/lib/auth/token-verifier.js:253:25"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    errorInfo: { {"user":"  errorInfo: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   errorInfo: {"}}
[info] >      code: 'auth/id-token-expired', {"user":"    code: 'auth/id-token-expired',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'auth/id-token-expired',"}}
[info] >      message: 'Firebase ID token has expired. Get a fresh ID token from your client app and try again (auth/id-token-expired). See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.' {"user":"    message: 'Firebase ID token has expired. Get a fresh ID token from your client app and try again (auth/id-token-expired). See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'Firebase ID token has expired. Get a fresh ID token from your client app and try again (auth/id-token-expired). See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    codePrefix: 'auth' {"user":"  codePrefix: 'auth'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   codePrefix: 'auth'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-01-15T16:04:02.615Z] [worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: IDLE"}}
[debug] [2023-01-15T16:04:02.616Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 263.610167ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 263.610167ms"}}
[debug] [2023-01-15T16:04:20.006Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/login-2023-01-15T16:04:20.006Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T16:04:20.007Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/login-2023-01-15T16:04:20.006Z"],"workRunningCount":1}
[debug] [2023-01-15T16:04:20.007Z] Accepted request GET /todoapp-65153/us-central1/api/login --> us-central1-api
[debug] [2023-01-15T16:04:20.010Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T16:04:20.012Z] [functions] Got req.url=/todoapp-65153/us-central1/api/login, mapping to path=/login {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/login, mapping to path=/login"}}
[debug] [2023-01-15T16:04:20.012Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T16:04:20.013Z] [worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: BUSY"}}
[debug] [2023-01-15T16:04:20.031Z] [worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: IDLE"}}
[debug] [2023-01-15T16:04:20.031Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  SyntaxError: Unexpected string in JSON at position 37 {"user":"SyntaxError: Unexpected string in JSON at position 37","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m SyntaxError: Unexpected string in JSON at position 37"}}
[info] >      at JSON.parse (<anonymous>) {"user":"    at JSON.parse (<anonymous>)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at JSON.parse (<anonymous>)"}}
[info] >      at parse (/Users/ryanguai/.npm-global/lib/node_modules/firebase-tools/node_modules/body-parser/lib/types/json.js:89:19) {"user":"    at parse (/Users/ryanguai/.npm-global/lib/node_modules/firebase-tools/node_modules/body-parser/lib/types/json.js:89:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at parse (/Users/ryanguai/.npm-global/lib/node_modules/firebase-tools/node_modules/body-parser/lib/types/json.js:89:19)"}}
[info] >      at /Users/ryanguai/.npm-global/lib/node_modules/firebase-tools/node_modules/body-parser/lib/read.js:121:18 {"user":"    at /Users/ryanguai/.npm-global/lib/node_modules/firebase-tools/node_modules/body-parser/lib/read.js:121:18","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ryanguai/.npm-global/lib/node_modules/firebase-tools/node_modules/body-parser/lib/read.js:121:18"}}
[info] >      at invokeCallback (/Users/ryanguai/.npm-global/lib/node_modules/firebase-tools/node_modules/raw-body/index.js:224:16) {"user":"    at invokeCallback (/Users/ryanguai/.npm-global/lib/node_modules/firebase-tools/node_modules/raw-body/index.js:224:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at invokeCallback (/Users/ryanguai/.npm-global/lib/node_modules/firebase-tools/node_modules/raw-body/index.js:224:16)"}}
[info] >      at done (/Users/ryanguai/.npm-global/lib/node_modules/firebase-tools/node_modules/raw-body/index.js:213:7) {"user":"    at done (/Users/ryanguai/.npm-global/lib/node_modules/firebase-tools/node_modules/raw-body/index.js:213:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at done (/Users/ryanguai/.npm-global/lib/node_modules/firebase-tools/node_modules/raw-body/index.js:213:7)"}}
[info] >      at IncomingMessage.onEnd (/Users/ryanguai/.npm-global/lib/node_modules/firebase-tools/node_modules/raw-body/index.js:273:7) {"user":"    at IncomingMessage.onEnd (/Users/ryanguai/.npm-global/lib/node_modules/firebase-tools/node_modules/raw-body/index.js:273:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.onEnd (/Users/ryanguai/.npm-global/lib/node_modules/firebase-tools/node_modules/raw-body/index.js:273:7)"}}
[info] >      at IncomingMessage.emit (node:events:402:35) {"user":"    at IncomingMessage.emit (node:events:402:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:402:35)"}}
[info] >      at endReadableNT (node:internal/streams/readable:1343:12) {"user":"    at endReadableNT (node:internal/streams/readable:1343:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1343:12)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:83:21) {"user":"    at processTicksAndRejections (node:internal/process/task_queues:83:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:83:21)"}}
[debug] [2023-01-15T16:04:26.059Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/login-2023-01-15T16:04:26.059Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T16:04:26.060Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/login-2023-01-15T16:04:26.059Z"],"workRunningCount":1}
[debug] [2023-01-15T16:04:26.060Z] Accepted request GET /todoapp-65153/us-central1/api/login --> us-central1-api
[debug] [2023-01-15T16:04:26.061Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T16:04:26.061Z] [functions] Got req.url=/todoapp-65153/us-central1/api/login, mapping to path=/login {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/login, mapping to path=/login"}}
[debug] [2023-01-15T16:04:26.062Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T16:04:26.062Z] [worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T16:04:26.083Z] [worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: IDLE"}}
[debug] [2023-01-15T16:04:26.083Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 6.031334ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 6.031334ms"}}
[debug] [2023-01-15T16:04:30.804Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/login-2023-01-15T16:04:30.804Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T16:04:30.804Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/login-2023-01-15T16:04:30.804Z"],"workRunningCount":1}
[debug] [2023-01-15T16:04:30.805Z] Accepted request POST /todoapp-65153/us-central1/api/login --> us-central1-api
[debug] [2023-01-15T16:04:30.806Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T16:04:30.806Z] [functions] Got req.url=/todoapp-65153/us-central1/api/login, mapping to path=/login {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/login, mapping to path=/login"}}
[debug] [2023-01-15T16:04:30.807Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T16:04:30.807Z] [worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] >  [t [Error]: The password is invalid or the user does not have a password.] { {"user":"[t [Error]: The password is invalid or the user does not have a password.] {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m [t [Error]: The password is invalid or the user does not have a password.] {"}}
[info] >    code: 'auth/wrong-password', {"user":"  code: 'auth/wrong-password',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'auth/wrong-password',"}}
[info] >    a: null {"user":"  a: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   a: null"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-01-15T16:04:31.233Z] [worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: IDLE"}}
[debug] [2023-01-15T16:04:31.234Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 413.884542ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 413.884542ms"}}
[debug] [2023-01-15T16:04:41.512Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/login-2023-01-15T16:04:41.512Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T16:04:41.513Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/login-2023-01-15T16:04:41.512Z"],"workRunningCount":1}
[debug] [2023-01-15T16:04:41.513Z] Accepted request POST /todoapp-65153/us-central1/api/login --> us-central1-api
[debug] [2023-01-15T16:04:41.514Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T16:04:41.515Z] [functions] Got req.url=/todoapp-65153/us-central1/api/login, mapping to path=/login {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/login, mapping to path=/login"}}
[debug] [2023-01-15T16:04:41.515Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T16:04:41.516Z] [worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T16:04:42.387Z] [worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: IDLE"}}
[debug] [2023-01-15T16:04:42.389Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 850.020333ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 850.020333ms"}}
[debug] [2023-01-15T16:05:47.364Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/todos-2023-01-15T16:05:47.363Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T16:05:47.365Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/todos-2023-01-15T16:05:47.363Z"],"workRunningCount":1}
[debug] [2023-01-15T16:05:47.366Z] Accepted request GET /todoapp-65153/us-central1/api/todos --> us-central1-api
[debug] [2023-01-15T16:05:47.368Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T16:05:47.368Z] [functions] Got req.url=/todoapp-65153/us-central1/api/todos, mapping to path=/todos {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/todos, mapping to path=/todos"}}
[debug] [2023-01-15T16:05:47.369Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T16:05:47.369Z] [worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/todoapp-65153/firestore/indexes?create_composite=Cktwcm9qZWN0cy90b2RvYXBwLTY1MTUzL2RhdGFiYXNlcy8oZGVmYXVsdCkvY29sbGVjdGlvbkdyb3Vwcy90b2Rvcy9pbmRleGVzL18QARoMCgh1c2VybmFtZRABGg0KCWNyZWF0ZWRBdBACGgwKCF9fbmFtZV9fEAI {"user":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/todoapp-65153/firestore/indexes?create_composite=Cktwcm9qZWN0cy90b2RvYXBwLTY1MTUzL2RhdGFiYXNlcy8oZGVmYXVsdCkvY29sbGVjdGlvbkdyb3Vwcy90b2Rvcy9pbmRleGVzL18QARoMCgh1c2VybmFtZRABGg0KCWNyZWF0ZWRBdBACGgwKCF9fbmFtZV9fEAI","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/todoapp-65153/firestore/indexes?create_composite=Cktwcm9qZWN0cy90b2RvYXBwLTY1MTUzL2RhdGFiYXNlcy8oZGVmYXVsdCkvY29sbGVjdGlvbkdyb3Vwcy90b2Rvcy9pbmRleGVzL18QARoMCgh1c2VybmFtZRABGg0KCWNyZWF0ZWRBdBACGgwKCF9fbmFtZV9fEAI"}}
[info] >      at Object.callErrorFromStatus (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/call.js:31:19) {"user":"    at Object.callErrorFromStatus (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/call.js:31:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Object.callErrorFromStatus (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/call.js:31:19)"}}
[info] >      at Object.onReceiveStatus (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/client.js:352:49) {"user":"    at Object.onReceiveStatus (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/client.js:352:49)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Object.onReceiveStatus (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/client.js:352:49)"}}
[info] >      at Object.onReceiveStatus (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:328:181) {"user":"    at Object.onReceiveStatus (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:328:181)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Object.onReceiveStatus (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:328:181)"}}
[info] >      at /Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/call-stream.js:188:78 {"user":"    at /Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/call-stream.js:188:78","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/call-stream.js:188:78"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:78:11) {"user":"    at processTicksAndRejections (node:internal/process/task_queues:78:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:78:11)"}}
[info] >  for call at {"user":"for call at","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m for call at"}}
[info] >      at ServiceClientImpl.makeServerStreamRequest (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/client.js:336:30) {"user":"    at ServiceClientImpl.makeServerStreamRequest (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/client.js:336:30)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServiceClientImpl.makeServerStreamRequest (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/client.js:336:30)"}}
[info] >      at ServiceClientImpl.<anonymous> (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19) {"user":"    at ServiceClientImpl.<anonymous> (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServiceClientImpl.<anonymous> (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)"}}
[info] >      at /Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:205:29 {"user":"    at /Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:205:29","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:205:29"}}
[info] >      at /Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:38:28 {"user":"    at /Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:38:28","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:38:28"}}
[info] >      at /Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16 {"user":"    at /Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16"}}
[info] >      at Object.request (/Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/streamingCalls/streaming.js:126:40) {"user":"    at Object.request (/Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/streamingCalls/streaming.js:126:40)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Object.request (/Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/streamingCalls/streaming.js:126:40)"}}
[info] >      at makeRequest (/Users/ryanguai/DCO-Tutorial/functions/node_modules/retry-request/index.js:139:28) {"user":"    at makeRequest (/Users/ryanguai/DCO-Tutorial/functions/node_modules/retry-request/index.js:139:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at makeRequest (/Users/ryanguai/DCO-Tutorial/functions/node_modules/retry-request/index.js:139:28)"}}
[info] >      at retryRequest (/Users/ryanguai/DCO-Tutorial/functions/node_modules/retry-request/index.js:107:5) {"user":"    at retryRequest (/Users/ryanguai/DCO-Tutorial/functions/node_modules/retry-request/index.js:107:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at retryRequest (/Users/ryanguai/DCO-Tutorial/functions/node_modules/retry-request/index.js:107:5)"}}
[info] >      at StreamProxy.setStream (/Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/streamingCalls/streaming.js:117:37) {"user":"    at StreamProxy.setStream (/Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/streamingCalls/streaming.js:117:37)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StreamProxy.setStream (/Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/streamingCalls/streaming.js:117:37)"}}
[info] >      at StreamingApiCaller.call (/Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:54:16) {"user":"    at StreamingApiCaller.call (/Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:54:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StreamingApiCaller.call (/Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:54:16)"}}
[info] >  Caused by: Error {"user":"Caused by: Error","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Caused by: Error"}}
[info] >      at Query._get (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/reference.js:1519:23) {"user":"    at Query._get (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/reference.js:1519:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Query._get (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/reference.js:1519:23)"}}
[info] >      at Query.get (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/reference.js:1507:21) {"user":"    at Query.get (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/reference.js:1507:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Query.get (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/reference.js:1507:21)"}}
[info] >      at exports.getAllTodos (/Users/ryanguai/DCO-Tutorial/functions/APIs/todos.js:10:4) {"user":"    at exports.getAllTodos (/Users/ryanguai/DCO-Tutorial/functions/APIs/todos.js:10:4)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at exports.getAllTodos (/Users/ryanguai/DCO-Tutorial/functions/APIs/todos.js:10:4)"}}
[info] >      at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13) {"user":"    at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13)"}}
[info] >      at /Users/ryanguai/DCO-Tutorial/functions/util/auth.js:23:11 {"user":"    at /Users/ryanguai/DCO-Tutorial/functions/util/auth.js:23:11","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ryanguai/DCO-Tutorial/functions/util/auth.js:23:11"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    code: 9, {"user":"  code: 9,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 9,"}}
[info] >    details: 'The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/todoapp-65153/firestore/indexes?create_composite=Cktwcm9qZWN0cy90b2RvYXBwLTY1MTUzL2RhdGFiYXNlcy8oZGVmYXVsdCkvY29sbGVjdGlvbkdyb3Vwcy90b2Rvcy9pbmRleGVzL18QARoMCgh1c2VybmFtZRABGg0KCWNyZWF0ZWRBdBACGgwKCF9fbmFtZV9fEAI', {"user":"  details: 'The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/todoapp-65153/firestore/indexes?create_composite=Cktwcm9qZWN0cy90b2RvYXBwLTY1MTUzL2RhdGFiYXNlcy8oZGVmYXVsdCkvY29sbGVjdGlvbkdyb3Vwcy90b2Rvcy9pbmRleGVzL18QARoMCgh1c2VybmFtZRABGg0KCWNyZWF0ZWRBdBACGgwKCF9fbmFtZV9fEAI',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   details: 'The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/todoapp-65153/firestore/indexes?create_composite=Cktwcm9qZWN0cy90b2RvYXBwLTY1MTUzL2RhdGFiYXNlcy8oZGVmYXVsdCkvY29sbGVjdGlvbkdyb3Vwcy90b2Rvcy9pbmRleGVzL18QARoMCgh1c2VybmFtZRABGg0KCWNyZWF0ZWRBdBACGgwKCF9fbmFtZV9fEAI',"}}
[info] >    metadata: Metadata { internalRepr: Map(0) {}, options: {} } {"user":"  metadata: Metadata { internalRepr: Map(0) {}, options: {} }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   metadata: Metadata { internalRepr: Map(0) {}, options: {} }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-01-15T16:05:49.938Z] [worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: IDLE"}}
[debug] [2023-01-15T16:05:49.938Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 2473.691083ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 2473.691083ms"}}
[debug] [2023-01-15T16:06:54.896Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/todos-2023-01-15T16:06:54.896Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T16:06:54.898Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/todos-2023-01-15T16:06:54.896Z"],"workRunningCount":1}
[debug] [2023-01-15T16:06:54.898Z] Accepted request GET /todoapp-65153/us-central1/api/todos --> us-central1-api
[debug] [2023-01-15T16:06:54.900Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T16:06:54.901Z] [functions] Got req.url=/todoapp-65153/us-central1/api/todos, mapping to path=/todos {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/todos, mapping to path=/todos"}}
[debug] [2023-01-15T16:06:54.903Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T16:06:54.903Z] [worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] >  Error: 9 FAILED_PRECONDITION: The query requires an index. That index is currently building and cannot be used yet. See its status here: https://console.firebase.google.com/v1/r/project/todoapp-65153/firestore/indexes?create_composite=ClZwcm9qZWN0cy90b2RvYXBwLTY1MTUzL2RhdGFiYXNlcy8oZGVmYXVsdCkvY29sbGVjdGlvbkdyb3Vwcy90b2Rvcy9pbmRleGVzL0NJQ0FnT2pYaDRFSxABGgwKCHVzZXJuYW1lEAEaDQoJY3JlYXRlZEF0EAIaDAoIX19uYW1lX18QAg {"user":"Error: 9 FAILED_PRECONDITION: The query requires an index. That index is currently building and cannot be used yet. See its status here: https://console.firebase.google.com/v1/r/project/todoapp-65153/firestore/indexes?create_composite=ClZwcm9qZWN0cy90b2RvYXBwLTY1MTUzL2RhdGFiYXNlcy8oZGVmYXVsdCkvY29sbGVjdGlvbkdyb3Vwcy90b2Rvcy9pbmRleGVzL0NJQ0FnT2pYaDRFSxABGgwKCHVzZXJuYW1lEAEaDQoJY3JlYXRlZEF0EAIaDAoIX19uYW1lX18QAg","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: 9 FAILED_PRECONDITION: The query requires an index. That index is currently building and cannot be used yet. See its status here: https://console.firebase.google.com/v1/r/project/todoapp-65153/firestore/indexes?create_composite=ClZwcm9qZWN0cy90b2RvYXBwLTY1MTUzL2RhdGFiYXNlcy8oZGVmYXVsdCkvY29sbGVjdGlvbkdyb3Vwcy90b2Rvcy9pbmRleGVzL0NJQ0FnT2pYaDRFSxABGgwKCHVzZXJuYW1lEAEaDQoJY3JlYXRlZEF0EAIaDAoIX19uYW1lX18QAg"}}
[info] >      at Object.callErrorFromStatus (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/call.js:31:19) {"user":"    at Object.callErrorFromStatus (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/call.js:31:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Object.callErrorFromStatus (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/call.js:31:19)"}}
[info] >      at Object.onReceiveStatus (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/client.js:352:49) {"user":"    at Object.onReceiveStatus (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/client.js:352:49)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Object.onReceiveStatus (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/client.js:352:49)"}}
[info] >      at Object.onReceiveStatus (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:328:181) {"user":"    at Object.onReceiveStatus (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:328:181)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Object.onReceiveStatus (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:328:181)"}}
[info] >      at /Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/call-stream.js:188:78 {"user":"    at /Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/call-stream.js:188:78","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/call-stream.js:188:78"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:78:11) {"user":"    at processTicksAndRejections (node:internal/process/task_queues:78:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:78:11)"}}
[info] >  for call at {"user":"for call at","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m for call at"}}
[info] >      at ServiceClientImpl.makeServerStreamRequest (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/client.js:336:30) {"user":"    at ServiceClientImpl.makeServerStreamRequest (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/client.js:336:30)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServiceClientImpl.makeServerStreamRequest (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/client.js:336:30)"}}
[info] >      at ServiceClientImpl.<anonymous> (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19) {"user":"    at ServiceClientImpl.<anonymous> (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServiceClientImpl.<anonymous> (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)"}}
[info] >      at /Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:205:29 {"user":"    at /Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:205:29","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:205:29"}}
[info] >      at /Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:38:28 {"user":"    at /Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:38:28","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:38:28"}}
[info] >      at /Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16 {"user":"    at /Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16"}}
[info] >      at Object.request (/Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/streamingCalls/streaming.js:126:40) {"user":"    at Object.request (/Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/streamingCalls/streaming.js:126:40)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Object.request (/Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/streamingCalls/streaming.js:126:40)"}}
[info] >      at makeRequest (/Users/ryanguai/DCO-Tutorial/functions/node_modules/retry-request/index.js:139:28) {"user":"    at makeRequest (/Users/ryanguai/DCO-Tutorial/functions/node_modules/retry-request/index.js:139:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at makeRequest (/Users/ryanguai/DCO-Tutorial/functions/node_modules/retry-request/index.js:139:28)"}}
[info] >      at retryRequest (/Users/ryanguai/DCO-Tutorial/functions/node_modules/retry-request/index.js:107:5) {"user":"    at retryRequest (/Users/ryanguai/DCO-Tutorial/functions/node_modules/retry-request/index.js:107:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at retryRequest (/Users/ryanguai/DCO-Tutorial/functions/node_modules/retry-request/index.js:107:5)"}}
[info] >      at StreamProxy.setStream (/Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/streamingCalls/streaming.js:117:37) {"user":"    at StreamProxy.setStream (/Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/streamingCalls/streaming.js:117:37)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StreamProxy.setStream (/Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/streamingCalls/streaming.js:117:37)"}}
[info] >      at StreamingApiCaller.call (/Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:54:16) {"user":"    at StreamingApiCaller.call (/Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:54:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StreamingApiCaller.call (/Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:54:16)"}}
[info] >  Caused by: Error {"user":"Caused by: Error","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Caused by: Error"}}
[info] >      at Query._get (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/reference.js:1519:23) {"user":"    at Query._get (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/reference.js:1519:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Query._get (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/reference.js:1519:23)"}}
[info] >      at Query.get (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/reference.js:1507:21) {"user":"    at Query.get (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/reference.js:1507:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Query.get (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/reference.js:1507:21)"}}
[info] >      at exports.getAllTodos (/Users/ryanguai/DCO-Tutorial/functions/APIs/todos.js:10:4) {"user":"    at exports.getAllTodos (/Users/ryanguai/DCO-Tutorial/functions/APIs/todos.js:10:4)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at exports.getAllTodos (/Users/ryanguai/DCO-Tutorial/functions/APIs/todos.js:10:4)"}}
[info] >      at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13) {"user":"    at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13)"}}
[info] >      at /Users/ryanguai/DCO-Tutorial/functions/util/auth.js:23:11 {"user":"    at /Users/ryanguai/DCO-Tutorial/functions/util/auth.js:23:11","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ryanguai/DCO-Tutorial/functions/util/auth.js:23:11"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    code: 9, {"user":"  code: 9,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 9,"}}
[info] >    details: 'The query requires an index. That index is currently building and cannot be used yet. See its status here: https://console.firebase.google.com/v1/r/project/todoapp-65153/firestore/indexes?create_composite=ClZwcm9qZWN0cy90b2RvYXBwLTY1MTUzL2RhdGFiYXNlcy8oZGVmYXVsdCkvY29sbGVjdGlvbkdyb3Vwcy90b2Rvcy9pbmRleGVzL0NJQ0FnT2pYaDRFSxABGgwKCHVzZXJuYW1lEAEaDQoJY3JlYXRlZEF0EAIaDAoIX19uYW1lX18QAg', {"user":"  details: 'The query requires an index. That index is currently building and cannot be used yet. See its status here: https://console.firebase.google.com/v1/r/project/todoapp-65153/firestore/indexes?create_composite=ClZwcm9qZWN0cy90b2RvYXBwLTY1MTUzL2RhdGFiYXNlcy8oZGVmYXVsdCkvY29sbGVjdGlvbkdyb3Vwcy90b2Rvcy9pbmRleGVzL0NJQ0FnT2pYaDRFSxABGgwKCHVzZXJuYW1lEAEaDQoJY3JlYXRlZEF0EAIaDAoIX19uYW1lX18QAg',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   details: 'The query requires an index. That index is currently building and cannot be used yet. See its status here: https://console.firebase.google.com/v1/r/project/todoapp-65153/firestore/indexes?create_composite=ClZwcm9qZWN0cy90b2RvYXBwLTY1MTUzL2RhdGFiYXNlcy8oZGVmYXVsdCkvY29sbGVjdGlvbkdyb3Vwcy90b2Rvcy9pbmRleGVzL0NJQ0FnT2pYaDRFSxABGgwKCHVzZXJuYW1lEAEaDQoJY3JlYXRlZEF0EAIaDAoIX19uYW1lX18QAg',"}}
[info] >    metadata: Metadata { internalRepr: Map(0) {}, options: {} } {"user":"  metadata: Metadata { internalRepr: Map(0) {}, options: {} }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   metadata: Metadata { internalRepr: Map(0) {}, options: {} }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-01-15T16:06:56.329Z] [worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: IDLE"}}
[debug] [2023-01-15T16:06:56.330Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 1376.16925ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 1376.16925ms"}}
[debug] [2023-01-15T16:06:58.431Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/todos-2023-01-15T16:06:58.431Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T16:06:58.431Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/todos-2023-01-15T16:06:58.431Z"],"workRunningCount":1}
[debug] [2023-01-15T16:06:58.431Z] Accepted request GET /todoapp-65153/us-central1/api/todos --> us-central1-api
[debug] [2023-01-15T16:06:58.432Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T16:06:58.433Z] [functions] Got req.url=/todoapp-65153/us-central1/api/todos, mapping to path=/todos {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/todos, mapping to path=/todos"}}
[debug] [2023-01-15T16:06:58.433Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T16:06:58.434Z] [worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] >  Error: 9 FAILED_PRECONDITION: The query requires an index. That index is currently building and cannot be used yet. See its status here: https://console.firebase.google.com/v1/r/project/todoapp-65153/firestore/indexes?create_composite=ClZwcm9qZWN0cy90b2RvYXBwLTY1MTUzL2RhdGFiYXNlcy8oZGVmYXVsdCkvY29sbGVjdGlvbkdyb3Vwcy90b2Rvcy9pbmRleGVzL0NJQ0FnT2pYaDRFSxABGgwKCHVzZXJuYW1lEAEaDQoJY3JlYXRlZEF0EAIaDAoIX19uYW1lX18QAg {"user":"Error: 9 FAILED_PRECONDITION: The query requires an index. That index is currently building and cannot be used yet. See its status here: https://console.firebase.google.com/v1/r/project/todoapp-65153/firestore/indexes?create_composite=ClZwcm9qZWN0cy90b2RvYXBwLTY1MTUzL2RhdGFiYXNlcy8oZGVmYXVsdCkvY29sbGVjdGlvbkdyb3Vwcy90b2Rvcy9pbmRleGVzL0NJQ0FnT2pYaDRFSxABGgwKCHVzZXJuYW1lEAEaDQoJY3JlYXRlZEF0EAIaDAoIX19uYW1lX18QAg","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: 9 FAILED_PRECONDITION: The query requires an index. That index is currently building and cannot be used yet. See its status here: https://console.firebase.google.com/v1/r/project/todoapp-65153/firestore/indexes?create_composite=ClZwcm9qZWN0cy90b2RvYXBwLTY1MTUzL2RhdGFiYXNlcy8oZGVmYXVsdCkvY29sbGVjdGlvbkdyb3Vwcy90b2Rvcy9pbmRleGVzL0NJQ0FnT2pYaDRFSxABGgwKCHVzZXJuYW1lEAEaDQoJY3JlYXRlZEF0EAIaDAoIX19uYW1lX18QAg"}}
[info] >      at Object.callErrorFromStatus (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/call.js:31:19) {"user":"    at Object.callErrorFromStatus (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/call.js:31:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Object.callErrorFromStatus (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/call.js:31:19)"}}
[info] >      at Object.onReceiveStatus (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/client.js:352:49) {"user":"    at Object.onReceiveStatus (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/client.js:352:49)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Object.onReceiveStatus (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/client.js:352:49)"}}
[info] >      at Object.onReceiveStatus (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:328:181) {"user":"    at Object.onReceiveStatus (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:328:181)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Object.onReceiveStatus (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:328:181)"}}
[info] >      at /Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/call-stream.js:188:78 {"user":"    at /Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/call-stream.js:188:78","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/call-stream.js:188:78"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:78:11) {"user":"    at processTicksAndRejections (node:internal/process/task_queues:78:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:78:11)"}}
[info] >  for call at {"user":"for call at","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m for call at"}}
[info] >      at ServiceClientImpl.makeServerStreamRequest (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/client.js:336:30) {"user":"    at ServiceClientImpl.makeServerStreamRequest (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/client.js:336:30)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServiceClientImpl.makeServerStreamRequest (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/client.js:336:30)"}}
[info] >      at ServiceClientImpl.<anonymous> (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19) {"user":"    at ServiceClientImpl.<anonymous> (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServiceClientImpl.<anonymous> (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)"}}
[info] >      at /Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:205:29 {"user":"    at /Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:205:29","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:205:29"}}
[info] >      at /Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:38:28 {"user":"    at /Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:38:28","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:38:28"}}
[info] >      at /Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16 {"user":"    at /Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16"}}
[info] >      at Object.request (/Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/streamingCalls/streaming.js:126:40) {"user":"    at Object.request (/Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/streamingCalls/streaming.js:126:40)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Object.request (/Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/streamingCalls/streaming.js:126:40)"}}
[info] >      at makeRequest (/Users/ryanguai/DCO-Tutorial/functions/node_modules/retry-request/index.js:139:28) {"user":"    at makeRequest (/Users/ryanguai/DCO-Tutorial/functions/node_modules/retry-request/index.js:139:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at makeRequest (/Users/ryanguai/DCO-Tutorial/functions/node_modules/retry-request/index.js:139:28)"}}
[info] >      at retryRequest (/Users/ryanguai/DCO-Tutorial/functions/node_modules/retry-request/index.js:107:5) {"user":"    at retryRequest (/Users/ryanguai/DCO-Tutorial/functions/node_modules/retry-request/index.js:107:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at retryRequest (/Users/ryanguai/DCO-Tutorial/functions/node_modules/retry-request/index.js:107:5)"}}
[info] >      at StreamProxy.setStream (/Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/streamingCalls/streaming.js:117:37) {"user":"    at StreamProxy.setStream (/Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/streamingCalls/streaming.js:117:37)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StreamProxy.setStream (/Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/streamingCalls/streaming.js:117:37)"}}
[info] >      at StreamingApiCaller.call (/Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:54:16) {"user":"    at StreamingApiCaller.call (/Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:54:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StreamingApiCaller.call (/Users/ryanguai/DCO-Tutorial/functions/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:54:16)"}}
[info] >  Caused by: Error {"user":"Caused by: Error","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Caused by: Error"}}
[info] >      at Query._get (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/reference.js:1519:23) {"user":"    at Query._get (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/reference.js:1519:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Query._get (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/reference.js:1519:23)"}}
[info] >      at Query.get (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/reference.js:1507:21) {"user":"    at Query.get (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/reference.js:1507:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Query.get (/Users/ryanguai/DCO-Tutorial/functions/node_modules/@google-cloud/firestore/build/src/reference.js:1507:21)"}}
[info] >      at exports.getAllTodos (/Users/ryanguai/DCO-Tutorial/functions/APIs/todos.js:10:4) {"user":"    at exports.getAllTodos (/Users/ryanguai/DCO-Tutorial/functions/APIs/todos.js:10:4)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at exports.getAllTodos (/Users/ryanguai/DCO-Tutorial/functions/APIs/todos.js:10:4)"}}
[info] >      at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13) {"user":"    at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/ryanguai/DCO-Tutorial/functions/node_modules/express/lib/router/route.js:144:13)"}}
[info] >      at /Users/ryanguai/DCO-Tutorial/functions/util/auth.js:23:11 {"user":"    at /Users/ryanguai/DCO-Tutorial/functions/util/auth.js:23:11","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/ryanguai/DCO-Tutorial/functions/util/auth.js:23:11"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    code: 9, {"user":"  code: 9,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 9,"}}
[info] >    details: 'The query requires an index. That index is currently building and cannot be used yet. See its status here: https://console.firebase.google.com/v1/r/project/todoapp-65153/firestore/indexes?create_composite=ClZwcm9qZWN0cy90b2RvYXBwLTY1MTUzL2RhdGFiYXNlcy8oZGVmYXVsdCkvY29sbGVjdGlvbkdyb3Vwcy90b2Rvcy9pbmRleGVzL0NJQ0FnT2pYaDRFSxABGgwKCHVzZXJuYW1lEAEaDQoJY3JlYXRlZEF0EAIaDAoIX19uYW1lX18QAg', {"user":"  details: 'The query requires an index. That index is currently building and cannot be used yet. See its status here: https://console.firebase.google.com/v1/r/project/todoapp-65153/firestore/indexes?create_composite=ClZwcm9qZWN0cy90b2RvYXBwLTY1MTUzL2RhdGFiYXNlcy8oZGVmYXVsdCkvY29sbGVjdGlvbkdyb3Vwcy90b2Rvcy9pbmRleGVzL0NJQ0FnT2pYaDRFSxABGgwKCHVzZXJuYW1lEAEaDQoJY3JlYXRlZEF0EAIaDAoIX19uYW1lX18QAg',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   details: 'The query requires an index. That index is currently building and cannot be used yet. See its status here: https://console.firebase.google.com/v1/r/project/todoapp-65153/firestore/indexes?create_composite=ClZwcm9qZWN0cy90b2RvYXBwLTY1MTUzL2RhdGFiYXNlcy8oZGVmYXVsdCkvY29sbGVjdGlvbkdyb3Vwcy90b2Rvcy9pbmRleGVzL0NJQ0FnT2pYaDRFSxABGgwKCHVzZXJuYW1lEAEaDQoJY3JlYXRlZEF0EAIaDAoIX19uYW1lX18QAg',"}}
[info] >    metadata: Metadata { internalRepr: Map(0) {}, options: {} } {"user":"  metadata: Metadata { internalRepr: Map(0) {}, options: {} }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   metadata: Metadata { internalRepr: Map(0) {}, options: {} }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-01-15T16:06:59.840Z] [worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: IDLE"}}
[debug] [2023-01-15T16:06:59.841Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 1376.816166ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 1376.816166ms"}}
[debug] [2023-01-15T16:22:35.272Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/todos-2023-01-15T16:22:35.271Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T16:22:35.274Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/todos-2023-01-15T16:22:35.271Z"],"workRunningCount":1}
[debug] [2023-01-15T16:22:35.274Z] Accepted request GET /todoapp-65153/us-central1/api/todos --> us-central1-api
[debug] [2023-01-15T16:22:35.277Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T16:22:35.278Z] [functions] Got req.url=/todoapp-65153/us-central1/api/todos, mapping to path=/todos {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/todos, mapping to path=/todos"}}
[debug] [2023-01-15T16:22:35.279Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T16:22:35.280Z] [worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T16:22:38.239Z] [worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: IDLE"}}
[debug] [2023-01-15T16:22:38.240Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 2944.480625ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 2944.480625ms"}}
[debug] [2023-01-15T16:24:22.748Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/todo-2023-01-15T16:24:22.747Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T16:24:22.750Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/todo-2023-01-15T16:24:22.747Z"],"workRunningCount":1}
[debug] [2023-01-15T16:24:22.750Z] Accepted request POST /todoapp-65153/us-central1/api/todo --> us-central1-api
[debug] [2023-01-15T16:24:22.752Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T16:24:22.753Z] [functions] Got req.url=/todoapp-65153/us-central1/api/todo, mapping to path=/todo {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/todo, mapping to path=/todo"}}
[debug] [2023-01-15T16:24:22.754Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T16:24:22.755Z] [worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T16:24:24.174Z] [worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: IDLE"}}
[debug] [2023-01-15T16:24:24.175Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 1401.743917ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 1401.743917ms"}}
[debug] [2023-01-15T16:24:36.611Z] [work-queue] {"queuedWork":["/todoapp-65153/us-central1/api/todos-2023-01-15T16:24:36.610Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-15T16:24:36.612Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/todoapp-65153/us-central1/api/todos-2023-01-15T16:24:36.610Z"],"workRunningCount":1}
[debug] [2023-01-15T16:24:36.612Z] Accepted request GET /todoapp-65153/us-central1/api/todos --> us-central1-api
[debug] [2023-01-15T16:24:36.615Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-15T16:24:36.616Z] [functions] Got req.url=/todoapp-65153/us-central1/api/todos, mapping to path=/todos {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/todoapp-65153/us-central1/api/todos, mapping to path=/todos"}}
[debug] [2023-01-15T16:24:36.617Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-01-15T16:24:36.617Z] [worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2023-01-15T16:24:38.043Z] [worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: IDLE"}}
[debug] [2023-01-15T16:24:38.044Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "api" in 1415.355959ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 1415.355959ms"}}
[debug] [2023-01-15T16:26:08.538Z] File /Users/ryanguai/DCO-Tutorial/functions/APIs/todos.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/ryanguai/DCO-Tutorial/functions/APIs/todos.js changed, reloading triggers"}}
[debug] [2023-01-15T16:26:09.559Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-15T16:26:10.608Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-15T16:26:10.608Z] Building nodejs source
[debug] [2023-01-15T16:26:10.610Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-15T16:26:10.906Z] Serving at port 9005

[debug] [2023-01-15T16:26:11.313Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-15T16:26:11.338Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-01-15T16:26:11.349Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-01-15T16:26:11.350Z] [worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: FINISHING"}}
[debug] [2023-01-15T16:26:11.363Z] [worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: exited"}}
[debug] [2023-01-15T16:26:11.364Z] [worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a4191262-3f89-4178-a927-81c390cde89b]: FINISHED"}}
[debug] [2023-01-30T10:34:03.437Z] ----------------------------------------------------------------------
[debug] [2023-01-30T10:34:03.438Z] Command:       /usr/local/bin/node /Users/ryanguai/.npm-global/bin/firebase deploy
[debug] [2023-01-30T10:34:03.439Z] CLI Version:   11.21.0
[debug] [2023-01-30T10:34:03.440Z] Platform:      darwin
[debug] [2023-01-30T10:34:03.440Z] Node Version:  v16.13.0
[debug] [2023-01-30T10:34:03.444Z] Time:          Mon Jan 30 2023 18:34:03 GMT+0800 (Singapore Standard Time)
[debug] [2023-01-30T10:34:03.445Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-01-30T10:34:03.545Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-01-30T10:34:03.546Z] > authorizing via signed-in user (e0694442@u.nus.edu)
[debug] [2023-01-30T10:34:03.547Z] [iam] checking project todoapp-65153 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2023-01-30T10:34:03.549Z] > refreshing access token with scopes: []
[debug] [2023-01-30T10:34:03.551Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2023-01-30T10:34:03.552Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-01-30T10:34:03.666Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2023-01-30T10:34:03.669Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-01-30T10:34:03.741Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions [none]
[debug] [2023-01-30T10:34:03.743Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions x-goog-quota-user=projects/todoapp-65153
[debug] [2023-01-30T10:34:03.743Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-01-30T10:34:05.105Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions 200
[debug] [2023-01-30T10:34:05.106Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-01-30T10:34:05.108Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/todoapp-65153/serviceAccounts/todoapp-65153@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2023-01-30T10:34:05.108Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/todoapp-65153/serviceAccounts/todoapp-65153@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-01-30T10:34:06.253Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/todoapp-65153/serviceAccounts/todoapp-65153@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2023-01-30T10:34:06.254Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/todoapp-65153/serviceAccounts/todoapp-65153@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'todoapp-65153'...
[info] 
[info] i  deploying functions 
[debug] [2023-01-30T10:34:06.261Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 [none]
[debug] [2023-01-30T10:34:06.665Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 200
[debug] [2023-01-30T10:34:06.666Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 {"projectId":"todoapp-65153","projectNumber":"171978637376","displayName":"TodoApp","name":"projects/todoapp-65153","resources":{"hostingSite":"todoapp-65153","storageBucket":"todoapp-65153.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_d84f8fcc-8c68-40e1-ad99-08ccc732edb5"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2023-01-30T10:34:06.672Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/cloudfunctions.googleapis.com [none]
[debug] [2023-01-30T10:34:06.673Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/todoapp-65153
[debug] [2023-01-30T10:34:06.683Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/runtimeconfig.googleapis.com [none]
[debug] [2023-01-30T10:34:06.684Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/todoapp-65153
[debug] [2023-01-30T10:34:06.691Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/cloudbuild.googleapis.com [none]
[debug] [2023-01-30T10:34:06.692Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/cloudbuild.googleapis.com x-goog-quota-user=projects/todoapp-65153
[debug] [2023-01-30T10:34:06.697Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/artifactregistry.googleapis.com [none]
[debug] [2023-01-30T10:34:06.697Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/artifactregistry.googleapis.com x-goog-quota-user=projects/todoapp-65153
[debug] [2023-01-30T10:34:08.228Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/cloudfunctions.googleapis.com 200
[debug] [2023-01-30T10:34:08.231Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2023-01-30T10:34:08.241Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/runtimeconfig.googleapis.com 200
[debug] [2023-01-30T10:34:08.241Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/runtimeconfig.googleapis.com [omitted]
[debug] [2023-01-30T10:34:08.242Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/cloudbuild.googleapis.com 200
[debug] [2023-01-30T10:34:08.242Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2023-01-30T10:34:08.243Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/artifactregistry.googleapis.com 200
[debug] [2023-01-30T10:34:08.243Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2023-01-30T10:34:08.244Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig [none]
[debug] [2023-01-30T10:34:08.602Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig 200
[debug] [2023-01-30T10:34:08.603Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig {"projectId":"todoapp-65153","storageBucket":"todoapp-65153.appspot.com","locationId":"us-central"}
[debug] [2023-01-30T10:34:08.604Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/todoapp-65153/configs [none]
[debug] [2023-01-30T10:34:10.033Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/todoapp-65153/configs 200
[debug] [2023-01-30T10:34:10.034Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/todoapp-65153/configs {}
[debug] [2023-01-30T10:34:10.041Z] Validating nodejs source
[debug] [2023-01-30T10:34:11.084Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-30T10:34:11.084Z] Building nodejs source
[debug] [2023-01-30T10:34:11.085Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-30T10:34:11.455Z] Serving at port 9005

[debug] [2023-01-30T10:34:11.881Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-30T10:34:11.900Z] shutdown requested via /__/quitquitquit

[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/ryanguai/DCO-Tutorial/functions (59.5 KB) for uploading 
[debug] [2023-01-30T10:34:12.009Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/-/functions [none]
[debug] [2023-01-30T10:34:12.607Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/-/functions 200
[debug] [2023-01-30T10:34:12.612Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/-/functions {"functions":[{"name":"projects/todoapp-65153/locations/us-central1/functions/api","httpsTrigger":{"url":"https://us-central1-todoapp-65153.cloudfunctions.net/api","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"api","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"todoapp-65153@appspot.gserviceaccount.com","updateTime":"2023-01-15T08:46:26.409Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"c8a151dec141459f0b788d55b3da1965a3eef8ec"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/bf322b94-439d-4c62-8344-9d0047a10b85.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"runtime":"nodejs16","ingressSettings":"ALLOW_ALL","buildId":"cde7acda-5096-4f8a-a10f-65a19397ee2f","buildName":"projects/171978637376/locations/us-central1/builds/cde7acda-5096-4f8a-a10f-65a19397ee2f","dockerRegistry":"ARTIFACT_REGISTRY"}]}
[debug] [2023-01-30T10:34:12.615Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/todoapp-65153/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2023-01-30T10:34:14.335Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/todoapp-65153/locations/-/functions 200
[debug] [2023-01-30T10:34:14.336Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/todoapp-65153/locations/-/functions {}
[debug] [2023-01-30T10:34:14.346Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 [none]
[debug] [2023-01-30T10:34:14.745Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 200
[debug] [2023-01-30T10:34:14.748Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 {"projectId":"todoapp-65153","projectNumber":"171978637376","displayName":"TodoApp","name":"projects/todoapp-65153","resources":{"hostingSite":"todoapp-65153","storageBucket":"todoapp-65153.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_d84f8fcc-8c68-40e1-ad99-08ccc732edb5"}
[debug] [2023-01-30T10:34:14.752Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2023-01-30T10:34:14.753Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/us-central1/functions:generateUploadUrl {}
[debug] [2023-01-30T10:34:15.460Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/us-central1/functions:generateUploadUrl 200
[debug] [2023-01-30T10:34:15.463Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/255149e8-9fa4-4961-a9c0-170015eb0f04.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675076655&Signature=DVWyp5HLc0d5vBumN35BGtV3x41%2BmwelsXDHL4Nl8NH1E9HqgQ7OFcHxgtRl2Uop53F3WHLV6ddkam%2FE9v%2BFId3%2BCyXUHvlzJApMx7Z2Gih5%2Br4zF%2Fx9gXE4rrOw5478x6ufrouAb%2BBzoLt4gIQx4nr6SzM1sKWfQlZbd4yj2mldwJAz7vMnJ0Ev8XuI7EziAvKDo1Y8FkZ9Z%2BMBdb%2FViuUdwcGzNLqrsDKGjMem8m2MqQVoYjLCwBVcdFBH9VM6RzZG7JsNi68U89HcmCK8DhEyV6%2B63YPA3K54081sr%2FvXFt7uxrMSY6eu5t42WNTuyWy3Bl5bM4jGv3c8iIIXsw%3D%3D"}
[debug] [2023-01-30T10:34:15.468Z] >>> [apiv2][query] PUT https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/255149e8-9fa4-4961-a9c0-170015eb0f04.zip GoogleAccessId=service-171978637376%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1675076655&Signature=DVWyp5HLc0d5vBumN35BGtV3x41%2BmwelsXDHL4Nl8NH1E9HqgQ7OFcHxgtRl2Uop53F3WHLV6ddkam%2FE9v%2BFId3%2BCyXUHvlzJApMx7Z2Gih5%2Br4zF%2Fx9gXE4rrOw5478x6ufrouAb%2BBzoLt4gIQx4nr6SzM1sKWfQlZbd4yj2mldwJAz7vMnJ0Ev8XuI7EziAvKDo1Y8FkZ9Z%2BMBdb%2FViuUdwcGzNLqrsDKGjMem8m2MqQVoYjLCwBVcdFBH9VM6RzZG7JsNi68U89HcmCK8DhEyV6%2B63YPA3K54081sr%2FvXFt7uxrMSY6eu5t42WNTuyWy3Bl5bM4jGv3c8iIIXsw%3D%3D
[debug] [2023-01-30T10:34:15.473Z] >>> [apiv2][body] PUT https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/255149e8-9fa4-4961-a9c0-170015eb0f04.zip [stream]
[debug] [2023-01-30T10:34:16.992Z] <<< [apiv2][status] PUT https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/255149e8-9fa4-4961-a9c0-170015eb0f04.zip 200
[debug] [2023-01-30T10:34:16.993Z] <<< [apiv2][body] PUT https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/255149e8-9fa4-4961-a9c0-170015eb0f04.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] i  functions: updating Node.js 16 function api(us-central1)... 
[debug] [2023-01-30T10:34:17.007Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/us-central1/functions/api updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken
[debug] [2023-01-30T10:34:17.007Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/us-central1/functions/api {"name":"projects/todoapp-65153/locations/us-central1/functions/api","sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/255149e8-9fa4-4961-a9c0-170015eb0f04.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675076655&Signature=DVWyp5HLc0d5vBumN35BGtV3x41%2BmwelsXDHL4Nl8NH1E9HqgQ7OFcHxgtRl2Uop53F3WHLV6ddkam%2FE9v%2BFId3%2BCyXUHvlzJApMx7Z2Gih5%2Br4zF%2Fx9gXE4rrOw5478x6ufrouAb%2BBzoLt4gIQx4nr6SzM1sKWfQlZbd4yj2mldwJAz7vMnJ0Ev8XuI7EziAvKDo1Y8FkZ9Z%2BMBdb%2FViuUdwcGzNLqrsDKGjMem8m2MqQVoYjLCwBVcdFBH9VM6RzZG7JsNi68U89HcmCK8DhEyV6%2B63YPA3K54081sr%2FvXFt7uxrMSY6eu5t42WNTuyWy3Bl5bM4jGv3c8iIIXsw%3D%3D","entryPoint":"api","runtime":"nodejs16","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null}
[debug] [2023-01-30T10:34:17.810Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/us-central1/functions/api 200
[debug] [2023-01-30T10:34:17.811Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/us-central1/functions/api {"name":"operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvTzhnYnBBYTdCRXM","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/todoapp-65153/locations/us-central1/functions/api","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/todoapp-65153/locations/us-central1/functions/api","httpsTrigger":{"url":"https://us-central1-todoapp-65153.cloudfunctions.net/api","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"api","updateTime":"2023-01-15T08:46:26.409Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/255149e8-9fa4-4961-a9c0-170015eb0f04.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675076655&Signature=DVWyp5HLc0d5vBumN35BGtV3x41%2BmwelsXDHL4Nl8NH1E9HqgQ7OFcHxgtRl2Uop53F3WHLV6ddkam%2FE9v%2BFId3%2BCyXUHvlzJApMx7Z2Gih5%2Br4zF%2Fx9gXE4rrOw5478x6ufrouAb%2BBzoLt4gIQx4nr6SzM1sKWfQlZbd4yj2mldwJAz7vMnJ0Ev8XuI7EziAvKDo1Y8FkZ9Z%2BMBdb%2FViuUdwcGzNLqrsDKGjMem8m2MqQVoYjLCwBVcdFBH9VM6RzZG7JsNi68U89HcmCK8DhEyV6%2B63YPA3K54081sr%2FvXFt7uxrMSY6eu5t42WNTuyWy3Bl5bM4jGv3c8iIIXsw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"runtime":"nodejs16","buildId":"cde7acda-5096-4f8a-a10f-65a19397ee2f","buildName":"projects/171978637376/locations/us-central1/builds/cde7acda-5096-4f8a-a10f-65a19397ee2f","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"6","updateTime":"2023-01-30T10:34:17Z"}}
[debug] [2023-01-30T10:34:17.812Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvTzhnYnBBYTdCRXM [none]
[debug] [2023-01-30T10:34:18.317Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvTzhnYnBBYTdCRXM 200
[debug] [2023-01-30T10:34:18.317Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvTzhnYnBBYTdCRXM {"name":"operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvTzhnYnBBYTdCRXM","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/todoapp-65153/locations/us-central1/functions/api","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/todoapp-65153/locations/us-central1/functions/api","httpsTrigger":{"url":"https://us-central1-todoapp-65153.cloudfunctions.net/api","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"api","updateTime":"2023-01-15T08:46:26.409Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/255149e8-9fa4-4961-a9c0-170015eb0f04.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675076655&Signature=DVWyp5HLc0d5vBumN35BGtV3x41%2BmwelsXDHL4Nl8NH1E9HqgQ7OFcHxgtRl2Uop53F3WHLV6ddkam%2FE9v%2BFId3%2BCyXUHvlzJApMx7Z2Gih5%2Br4zF%2Fx9gXE4rrOw5478x6ufrouAb%2BBzoLt4gIQx4nr6SzM1sKWfQlZbd4yj2mldwJAz7vMnJ0Ev8XuI7EziAvKDo1Y8FkZ9Z%2BMBdb%2FViuUdwcGzNLqrsDKGjMem8m2MqQVoYjLCwBVcdFBH9VM6RzZG7JsNi68U89HcmCK8DhEyV6%2B63YPA3K54081sr%2FvXFt7uxrMSY6eu5t42WNTuyWy3Bl5bM4jGv3c8iIIXsw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"runtime":"nodejs16","buildId":"cde7acda-5096-4f8a-a10f-65a19397ee2f","buildName":"projects/171978637376/locations/us-central1/builds/cde7acda-5096-4f8a-a10f-65a19397ee2f","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"6","updateTime":"2023-01-30T10:34:17Z"}}
[debug] [2023-01-30T10:34:18.824Z] [update-default-us-central1-api] Retrying task index 0
[debug] [2023-01-30T10:34:18.827Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvTzhnYnBBYTdCRXM [none]
[debug] [2023-01-30T10:34:19.241Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvTzhnYnBBYTdCRXM 200
[debug] [2023-01-30T10:34:19.241Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvTzhnYnBBYTdCRXM {"name":"operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvTzhnYnBBYTdCRXM","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/todoapp-65153/locations/us-central1/functions/api","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/todoapp-65153/locations/us-central1/functions/api","httpsTrigger":{"url":"https://us-central1-todoapp-65153.cloudfunctions.net/api","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"api","updateTime":"2023-01-15T08:46:26.409Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/255149e8-9fa4-4961-a9c0-170015eb0f04.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675076655&Signature=DVWyp5HLc0d5vBumN35BGtV3x41%2BmwelsXDHL4Nl8NH1E9HqgQ7OFcHxgtRl2Uop53F3WHLV6ddkam%2FE9v%2BFId3%2BCyXUHvlzJApMx7Z2Gih5%2Br4zF%2Fx9gXE4rrOw5478x6ufrouAb%2BBzoLt4gIQx4nr6SzM1sKWfQlZbd4yj2mldwJAz7vMnJ0Ev8XuI7EziAvKDo1Y8FkZ9Z%2BMBdb%2FViuUdwcGzNLqrsDKGjMem8m2MqQVoYjLCwBVcdFBH9VM6RzZG7JsNi68U89HcmCK8DhEyV6%2B63YPA3K54081sr%2FvXFt7uxrMSY6eu5t42WNTuyWy3Bl5bM4jGv3c8iIIXsw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"runtime":"nodejs16","buildId":"cde7acda-5096-4f8a-a10f-65a19397ee2f","buildName":"projects/171978637376/locations/us-central1/builds/cde7acda-5096-4f8a-a10f-65a19397ee2f","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"6","updateTime":"2023-01-30T10:34:17Z","buildId":"be545c9e-2b1f-4424-be4c-f3a32a5bb580","buildName":"projects/171978637376/locations/us-central1/builds/be545c9e-2b1f-4424-be4c-f3a32a5bb580"}}
[debug] [2023-01-30T10:34:20.246Z] [update-default-us-central1-api] Retrying task index 0
[debug] [2023-01-30T10:34:20.248Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvTzhnYnBBYTdCRXM [none]
[debug] [2023-01-30T10:34:20.640Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvTzhnYnBBYTdCRXM 200
[debug] [2023-01-30T10:34:20.641Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvTzhnYnBBYTdCRXM {"name":"operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvTzhnYnBBYTdCRXM","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/todoapp-65153/locations/us-central1/functions/api","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/todoapp-65153/locations/us-central1/functions/api","httpsTrigger":{"url":"https://us-central1-todoapp-65153.cloudfunctions.net/api","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"api","updateTime":"2023-01-15T08:46:26.409Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/255149e8-9fa4-4961-a9c0-170015eb0f04.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675076655&Signature=DVWyp5HLc0d5vBumN35BGtV3x41%2BmwelsXDHL4Nl8NH1E9HqgQ7OFcHxgtRl2Uop53F3WHLV6ddkam%2FE9v%2BFId3%2BCyXUHvlzJApMx7Z2Gih5%2Br4zF%2Fx9gXE4rrOw5478x6ufrouAb%2BBzoLt4gIQx4nr6SzM1sKWfQlZbd4yj2mldwJAz7vMnJ0Ev8XuI7EziAvKDo1Y8FkZ9Z%2BMBdb%2FViuUdwcGzNLqrsDKGjMem8m2MqQVoYjLCwBVcdFBH9VM6RzZG7JsNi68U89HcmCK8DhEyV6%2B63YPA3K54081sr%2FvXFt7uxrMSY6eu5t42WNTuyWy3Bl5bM4jGv3c8iIIXsw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"runtime":"nodejs16","buildId":"cde7acda-5096-4f8a-a10f-65a19397ee2f","buildName":"projects/171978637376/locations/us-central1/builds/cde7acda-5096-4f8a-a10f-65a19397ee2f","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"6","updateTime":"2023-01-30T10:34:17Z","buildId":"be545c9e-2b1f-4424-be4c-f3a32a5bb580","buildName":"projects/171978637376/locations/us-central1/builds/be545c9e-2b1f-4424-be4c-f3a32a5bb580"}}
[debug] [2023-01-30T10:34:22.644Z] [update-default-us-central1-api] Retrying task index 0
[debug] [2023-01-30T10:34:22.645Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvTzhnYnBBYTdCRXM [none]
[debug] [2023-01-30T10:34:23.042Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvTzhnYnBBYTdCRXM 200
[debug] [2023-01-30T10:34:23.043Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvTzhnYnBBYTdCRXM {"name":"operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvTzhnYnBBYTdCRXM","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/todoapp-65153/locations/us-central1/functions/api","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/todoapp-65153/locations/us-central1/functions/api","httpsTrigger":{"url":"https://us-central1-todoapp-65153.cloudfunctions.net/api","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"api","updateTime":"2023-01-15T08:46:26.409Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/255149e8-9fa4-4961-a9c0-170015eb0f04.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675076655&Signature=DVWyp5HLc0d5vBumN35BGtV3x41%2BmwelsXDHL4Nl8NH1E9HqgQ7OFcHxgtRl2Uop53F3WHLV6ddkam%2FE9v%2BFId3%2BCyXUHvlzJApMx7Z2Gih5%2Br4zF%2Fx9gXE4rrOw5478x6ufrouAb%2BBzoLt4gIQx4nr6SzM1sKWfQlZbd4yj2mldwJAz7vMnJ0Ev8XuI7EziAvKDo1Y8FkZ9Z%2BMBdb%2FViuUdwcGzNLqrsDKGjMem8m2MqQVoYjLCwBVcdFBH9VM6RzZG7JsNi68U89HcmCK8DhEyV6%2B63YPA3K54081sr%2FvXFt7uxrMSY6eu5t42WNTuyWy3Bl5bM4jGv3c8iIIXsw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"runtime":"nodejs16","buildId":"cde7acda-5096-4f8a-a10f-65a19397ee2f","buildName":"projects/171978637376/locations/us-central1/builds/cde7acda-5096-4f8a-a10f-65a19397ee2f","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"6","updateTime":"2023-01-30T10:34:17Z","buildId":"be545c9e-2b1f-4424-be4c-f3a32a5bb580","buildName":"projects/171978637376/locations/us-central1/builds/be545c9e-2b1f-4424-be4c-f3a32a5bb580"}}
[debug] [2023-01-30T10:34:27.050Z] [update-default-us-central1-api] Retrying task index 0
[debug] [2023-01-30T10:34:27.054Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvTzhnYnBBYTdCRXM [none]
[debug] [2023-01-30T10:34:27.539Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvTzhnYnBBYTdCRXM 200
[debug] [2023-01-30T10:34:27.539Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvTzhnYnBBYTdCRXM {"name":"operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvTzhnYnBBYTdCRXM","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/todoapp-65153/locations/us-central1/functions/api","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/todoapp-65153/locations/us-central1/functions/api","httpsTrigger":{"url":"https://us-central1-todoapp-65153.cloudfunctions.net/api","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"api","updateTime":"2023-01-15T08:46:26.409Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/255149e8-9fa4-4961-a9c0-170015eb0f04.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675076655&Signature=DVWyp5HLc0d5vBumN35BGtV3x41%2BmwelsXDHL4Nl8NH1E9HqgQ7OFcHxgtRl2Uop53F3WHLV6ddkam%2FE9v%2BFId3%2BCyXUHvlzJApMx7Z2Gih5%2Br4zF%2Fx9gXE4rrOw5478x6ufrouAb%2BBzoLt4gIQx4nr6SzM1sKWfQlZbd4yj2mldwJAz7vMnJ0Ev8XuI7EziAvKDo1Y8FkZ9Z%2BMBdb%2FViuUdwcGzNLqrsDKGjMem8m2MqQVoYjLCwBVcdFBH9VM6RzZG7JsNi68U89HcmCK8DhEyV6%2B63YPA3K54081sr%2FvXFt7uxrMSY6eu5t42WNTuyWy3Bl5bM4jGv3c8iIIXsw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"runtime":"nodejs16","buildId":"cde7acda-5096-4f8a-a10f-65a19397ee2f","buildName":"projects/171978637376/locations/us-central1/builds/cde7acda-5096-4f8a-a10f-65a19397ee2f","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"6","updateTime":"2023-01-30T10:34:17Z","buildId":"be545c9e-2b1f-4424-be4c-f3a32a5bb580","buildName":"projects/171978637376/locations/us-central1/builds/be545c9e-2b1f-4424-be4c-f3a32a5bb580"}}
[debug] [2023-01-30T10:34:35.545Z] [update-default-us-central1-api] Retrying task index 0
[debug] [2023-01-30T10:34:35.550Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvTzhnYnBBYTdCRXM [none]
[debug] [2023-01-30T10:34:36.036Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvTzhnYnBBYTdCRXM 200
[debug] [2023-01-30T10:34:36.036Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvTzhnYnBBYTdCRXM {"name":"operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvTzhnYnBBYTdCRXM","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/todoapp-65153/locations/us-central1/functions/api","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/todoapp-65153/locations/us-central1/functions/api","httpsTrigger":{"url":"https://us-central1-todoapp-65153.cloudfunctions.net/api","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"api","updateTime":"2023-01-15T08:46:26.409Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/255149e8-9fa4-4961-a9c0-170015eb0f04.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675076655&Signature=DVWyp5HLc0d5vBumN35BGtV3x41%2BmwelsXDHL4Nl8NH1E9HqgQ7OFcHxgtRl2Uop53F3WHLV6ddkam%2FE9v%2BFId3%2BCyXUHvlzJApMx7Z2Gih5%2Br4zF%2Fx9gXE4rrOw5478x6ufrouAb%2BBzoLt4gIQx4nr6SzM1sKWfQlZbd4yj2mldwJAz7vMnJ0Ev8XuI7EziAvKDo1Y8FkZ9Z%2BMBdb%2FViuUdwcGzNLqrsDKGjMem8m2MqQVoYjLCwBVcdFBH9VM6RzZG7JsNi68U89HcmCK8DhEyV6%2B63YPA3K54081sr%2FvXFt7uxrMSY6eu5t42WNTuyWy3Bl5bM4jGv3c8iIIXsw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"runtime":"nodejs16","buildId":"cde7acda-5096-4f8a-a10f-65a19397ee2f","buildName":"projects/171978637376/locations/us-central1/builds/cde7acda-5096-4f8a-a10f-65a19397ee2f","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"6","updateTime":"2023-01-30T10:34:17Z","buildId":"be545c9e-2b1f-4424-be4c-f3a32a5bb580","buildName":"projects/171978637376/locations/us-central1/builds/be545c9e-2b1f-4424-be4c-f3a32a5bb580"}}
[debug] [2023-01-30T10:34:46.042Z] [update-default-us-central1-api] Retrying task index 0
[debug] [2023-01-30T10:34:46.045Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvTzhnYnBBYTdCRXM [none]
[debug] [2023-01-30T10:34:46.583Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvTzhnYnBBYTdCRXM 200
[debug] [2023-01-30T10:34:46.584Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvTzhnYnBBYTdCRXM {"name":"operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvTzhnYnBBYTdCRXM","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/todoapp-65153/locations/us-central1/functions/api","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/todoapp-65153/locations/us-central1/functions/api","httpsTrigger":{"url":"https://us-central1-todoapp-65153.cloudfunctions.net/api","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"api","updateTime":"2023-01-15T08:46:26.409Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/255149e8-9fa4-4961-a9c0-170015eb0f04.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675076655&Signature=DVWyp5HLc0d5vBumN35BGtV3x41%2BmwelsXDHL4Nl8NH1E9HqgQ7OFcHxgtRl2Uop53F3WHLV6ddkam%2FE9v%2BFId3%2BCyXUHvlzJApMx7Z2Gih5%2Br4zF%2Fx9gXE4rrOw5478x6ufrouAb%2BBzoLt4gIQx4nr6SzM1sKWfQlZbd4yj2mldwJAz7vMnJ0Ev8XuI7EziAvKDo1Y8FkZ9Z%2BMBdb%2FViuUdwcGzNLqrsDKGjMem8m2MqQVoYjLCwBVcdFBH9VM6RzZG7JsNi68U89HcmCK8DhEyV6%2B63YPA3K54081sr%2FvXFt7uxrMSY6eu5t42WNTuyWy3Bl5bM4jGv3c8iIIXsw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"runtime":"nodejs16","buildId":"cde7acda-5096-4f8a-a10f-65a19397ee2f","buildName":"projects/171978637376/locations/us-central1/builds/cde7acda-5096-4f8a-a10f-65a19397ee2f","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"6","updateTime":"2023-01-30T10:34:17Z","buildId":"be545c9e-2b1f-4424-be4c-f3a32a5bb580","buildName":"projects/171978637376/locations/us-central1/builds/be545c9e-2b1f-4424-be4c-f3a32a5bb580"}}
[debug] [2023-01-30T10:34:56.592Z] [update-default-us-central1-api] Retrying task index 0
[debug] [2023-01-30T10:34:56.596Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvTzhnYnBBYTdCRXM [none]
[debug] [2023-01-30T10:34:57.029Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvTzhnYnBBYTdCRXM 200
[debug] [2023-01-30T10:34:57.029Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvTzhnYnBBYTdCRXM {"name":"operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvTzhnYnBBYTdCRXM","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/todoapp-65153/locations/us-central1/functions/api","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/todoapp-65153/locations/us-central1/functions/api","httpsTrigger":{"url":"https://us-central1-todoapp-65153.cloudfunctions.net/api","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"api","updateTime":"2023-01-15T08:46:26.409Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/255149e8-9fa4-4961-a9c0-170015eb0f04.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675076655&Signature=DVWyp5HLc0d5vBumN35BGtV3x41%2BmwelsXDHL4Nl8NH1E9HqgQ7OFcHxgtRl2Uop53F3WHLV6ddkam%2FE9v%2BFId3%2BCyXUHvlzJApMx7Z2Gih5%2Br4zF%2Fx9gXE4rrOw5478x6ufrouAb%2BBzoLt4gIQx4nr6SzM1sKWfQlZbd4yj2mldwJAz7vMnJ0Ev8XuI7EziAvKDo1Y8FkZ9Z%2BMBdb%2FViuUdwcGzNLqrsDKGjMem8m2MqQVoYjLCwBVcdFBH9VM6RzZG7JsNi68U89HcmCK8DhEyV6%2B63YPA3K54081sr%2FvXFt7uxrMSY6eu5t42WNTuyWy3Bl5bM4jGv3c8iIIXsw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"runtime":"nodejs16","buildId":"cde7acda-5096-4f8a-a10f-65a19397ee2f","buildName":"projects/171978637376/locations/us-central1/builds/cde7acda-5096-4f8a-a10f-65a19397ee2f","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"6","updateTime":"2023-01-30T10:34:52Z","buildId":"be545c9e-2b1f-4424-be4c-f3a32a5bb580","buildName":"projects/171978637376/locations/us-central1/builds/be545c9e-2b1f-4424-be4c-f3a32a5bb580"},"done":true,"error":{"code":3,"message":"Build failed: ... Missing: @types/fs-extra@8.1.2 from lock file\nnpm ERR! Missing: lodash.at@4.6.0 from lock file\nnpm ERR! Missing: lodash.has@4.5.2 from lock file\nnpm ERR! Missing: semver@6.3.0 from lock file\nnpm ERR! Missing: walkdir@0.4.1 from lock file\nnpm ERR! Missing: gaxios@2.3.4 from lock file\nnpm ERR! Invalid: lock file's google-p12-pem@3.1.4 does not satisfy google-p12-pem@2.0.5\nnpm ERR! Missing: node-forge@0.10.0 from lock file\nnpm ERR! Missing: has-tostringtag@1.0.0 from lock file\nnpm ERR! Missing: is-typed-array@1.1.10 from lock file\nnpm ERR! Missing: available-typed-arrays@1.0.5 from lock file\nnpm ERR! Missing: for-each@0.3.3 from lock file\nnpm ERR! Missing: gopd@1.0.1 from lock file\nnpm ERR! Missing: is-callable@1.2.7 from lock file\nnpm ERR! Invalid: lock file's yallist@4.0.0 does not satisfy yallist@3.1.1\nnpm ERR! Missing: define-properties@1.1.4 from lock file\nnpm ERR! Missing: has-property-descriptors@1.0.0 from lock file\nnpm ERR! Missing: mimic-fn@2.1.0 from lock file\nnpm ERR! Missing: p-try@2.2.0 from lock file\nnpm ERR! Missing: duplexify@4.1.2 from lock file\nnpm ERR! Missing: functions-have-names@1.2.3 from lock file\nnpm ERR! Missing: internal-slot@1.0.4 from lock file\nnpm ERR! Invalid: lock file's http-proxy-agent@5.0.0 does not satisfy http-proxy-agent@4.0.1\nnpm ERR! Invalid: lock file's uuid@8.3.2 does not satisfy uuid@7.0.3\nnpm ERR! Invalid: lock file's @tootallnate/once@2.0.0 does not satisfy @tootallnate/once@1.1.2\nnpm ERR! Missing: is-bigint@1.0.4 from lock file\nnpm ERR! Missing: is-boolean-object@1.1.2 from lock file\nnpm ERR! Missing: is-number-object@1.0.7 from lock file\nnpm ERR! Missing: is-symbol@1.0.4 from lock file\nnpm ERR! Missing: has-bigints@1.0.2 from lock file\nnpm ERR! Missing: is-weakmap@2.0.1 from lock file\nnpm ERR! Missing: is-weakset@2.0.2 from lock file\nnpm ERR! Missing: core-util-is@1.0.3 from lock file\nnpm ERR! Missing: isarray@1.0.0 from lock file\nnpm ERR! Missing: process-nextick-args@2.0.1 from lock file\nnpm ERR! Missing: safe-buffer@5.1.2 from lock file\nnpm ERR! Missing: string_decoder@1.1.1 from lock file\nnpm ERR! \nnpm ERR! Clean install a project\nnpm ERR! \nnpm ERR! Usage:\nnpm ERR! npm ci\nnpm ERR! \nnpm ERR! Options:\nnpm ERR! [-S|--save|--no-save|--save-prod|--save-dev|--save-optional|--save-peer|--save-bundle]\nnpm ERR! [-E|--save-exact] [-g|--global] [--global-style] [--legacy-bundling]\nnpm ERR! [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm ERR! [--strict-peer-deps] [--no-package-lock] [--foreground-scripts]\nnpm ERR! [--ignore-scripts] [--no-audit] [--no-bin-links] [--no-fund] [--dry-run]\nnpm ERR! [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm ERR! [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm ERR! \nnpm ERR! aliases: clean-install, ic, install-clean, isntall-clean\nnpm ERR! \nnpm ERR! Run \"npm help ci\" for more info\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /www-data-home/.npm/_logs/2023-01-30T10_34_43_716Z-debug-0.log; Error ID: beaf8772"}}
[debug] [2023-01-30T10:34:57.029Z] Got source token undefined for region us-central1
[error] Build failed: ... Missing: @types/fs-extra@8.1.2 from lock file
npm ERR! Missing: lodash.at@4.6.0 from lock file
npm ERR! Missing: lodash.has@4.5.2 from lock file
npm ERR! Missing: semver@6.3.0 from lock file
npm ERR! Missing: walkdir@0.4.1 from lock file
npm ERR! Missing: gaxios@2.3.4 from lock file
npm ERR! Invalid: lock file's google-p12-pem@3.1.4 does not satisfy google-p12-pem@2.0.5
npm ERR! Missing: node-forge@0.10.0 from lock file
npm ERR! Missing: has-tostringtag@1.0.0 from lock file
npm ERR! Missing: is-typed-array@1.1.10 from lock file
npm ERR! Missing: available-typed-arrays@1.0.5 from lock file
npm ERR! Missing: for-each@0.3.3 from lock file
npm ERR! Missing: gopd@1.0.1 from lock file
npm ERR! Missing: is-callable@1.2.7 from lock file
npm ERR! Invalid: lock file's yallist@4.0.0 does not satisfy yallist@3.1.1
npm ERR! Missing: define-properties@1.1.4 from lock file
npm ERR! Missing: has-property-descriptors@1.0.0 from lock file
npm ERR! Missing: mimic-fn@2.1.0 from lock file
npm ERR! Missing: p-try@2.2.0 from lock file
npm ERR! Missing: duplexify@4.1.2 from lock file
npm ERR! Missing: functions-have-names@1.2.3 from lock file
npm ERR! Missing: internal-slot@1.0.4 from lock file
npm ERR! Invalid: lock file's http-proxy-agent@5.0.0 does not satisfy http-proxy-agent@4.0.1
npm ERR! Invalid: lock file's uuid@8.3.2 does not satisfy uuid@7.0.3
npm ERR! Invalid: lock file's @tootallnate/once@2.0.0 does not satisfy @tootallnate/once@1.1.2
npm ERR! Missing: is-bigint@1.0.4 from lock file
npm ERR! Missing: is-boolean-object@1.1.2 from lock file
npm ERR! Missing: is-number-object@1.0.7 from lock file
npm ERR! Missing: is-symbol@1.0.4 from lock file
npm ERR! Missing: has-bigints@1.0.2 from lock file
npm ERR! Missing: is-weakmap@2.0.1 from lock file
npm ERR! Missing: is-weakset@2.0.2 from lock file
npm ERR! Missing: core-util-is@1.0.3 from lock file
npm ERR! Missing: isarray@1.0.0 from lock file
npm ERR! Missing: process-nextick-args@2.0.1 from lock file
npm ERR! Missing: safe-buffer@5.1.2 from lock file
npm ERR! Missing: string_decoder@1.1.1 from lock file
npm ERR! 
npm ERR! Clean install a project
npm ERR! 
npm ERR! Usage:
npm ERR! npm ci
npm ERR! 
npm ERR! Options:
npm ERR! [-S|--save|--no-save|--save-prod|--save-dev|--save-optional|--save-peer|--save-bundle]
npm ERR! [-E|--save-exact] [-g|--global] [--global-style] [--legacy-bundling]
npm ERR! [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]
npm ERR! [--strict-peer-deps] [--no-package-lock] [--foreground-scripts]
npm ERR! [--ignore-scripts] [--no-audit] [--no-bin-links] [--no-fund] [--dry-run]
npm ERR! [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]
npm ERR! [-ws|--workspaces] [--include-workspace-root] [--install-links]
npm ERR! 
npm ERR! aliases: clean-install, ic, install-clean, isntall-clean
npm ERR! 
npm ERR! Run "npm help ci" for more info

npm ERR! A complete log of this run can be found in:
npm ERR!     /www-data-home/.npm/_logs/2023-01-30T10_34_43_716Z-debug-0.log; Error ID: beaf8772
[debug] [2023-01-30T10:34:57.052Z] Total Function Deployment time: 40045
[debug] [2023-01-30T10:34:57.052Z] 1 Functions Deployed
[debug] [2023-01-30T10:34:57.052Z] 1 Functions Errored
[debug] [2023-01-30T10:34:57.053Z] 0 Function Deployments Aborted
[debug] [2023-01-30T10:34:57.053Z] Average Function Deployment time: 40043
[info] 
[info] Functions deploy had errors with the following functions:
	api(us-central1)
[debug] [2023-01-30T10:34:57.054Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[info] i  functions: cleaning up build files... 
[debug] [2023-01-30T10:34:57.058Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/todoapp-65153/locations/us-central1/repositories/gcf-artifacts/packages/api [none]
[debug] [2023-01-30T10:34:57.062Z] >>> [apiv2][query] GET https://us.gcr.io/v2/todoapp-65153/gcf/us-central1/tags/list [none]
[debug] [2023-01-30T10:34:57.646Z] <<< [apiv2][status] GET https://us.gcr.io/v2/todoapp-65153/gcf/us-central1/tags/list 200
[debug] [2023-01-30T10:34:57.647Z] <<< [apiv2][body] GET https://us.gcr.io/v2/todoapp-65153/gcf/us-central1/tags/list {"child":[],"manifest":{},"name":"todoapp-65153/gcf/us-central1","tags":[]}
[debug] [2023-01-30T10:34:57.648Z] Could not find image for function projects/todoapp-65153/locations/us-central1/functions/api
[debug] [2023-01-30T10:34:58.395Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/todoapp-65153/locations/us-central1/repositories/gcf-artifacts/packages/api 404
[debug] [2023-01-30T10:34:58.396Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/todoapp-65153/locations/us-central1/repositories/gcf-artifacts/packages/api {"error":{"code":404,"message":"Package \"projects/todoapp-65153/locations/us-central1/repositories/gcf-artifacts/packages/api\" was not found.","status":"NOT_FOUND"}}
[debug] [2023-01-30T10:34:58.399Z] Functions deploy failed.
[debug] [2023-01-30T10:34:58.399Z] {
  "endpoint": {
    "id": "api",
    "project": "todoapp-65153",
    "region": "us-central1",
    "entryPoint": "api",
    "platform": "gcfv1",
    "runtime": "nodejs16",
    "httpsTrigger": {},
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}",
      "GCLOUD_PROJECT": "todoapp-65153",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/todoapp-65153/locations/us-central1/functions/api"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f",
    "labels": {
      "deployment-tool": "cli-firebase"
    }
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Build failed: ... Missing: @types/fs-extra@8.1.2 from lock file\nnpm ERR! Missing: lodash.at@4.6.0 from lock file\nnpm ERR! Missing: lodash.has@4.5.2 from lock file\nnpm ERR! Missing: semver@6.3.0 from lock file\nnpm ERR! Missing: walkdir@0.4.1 from lock file\nnpm ERR! Missing: gaxios@2.3.4 from lock file\nnpm ERR! Invalid: lock file's google-p12-pem@3.1.4 does not satisfy google-p12-pem@2.0.5\nnpm ERR! Missing: node-forge@0.10.0 from lock file\nnpm ERR! Missing: has-tostringtag@1.0.0 from lock file\nnpm ERR! Missing: is-typed-array@1.1.10 from lock file\nnpm ERR! Missing: available-typed-arrays@1.0.5 from lock file\nnpm ERR! Missing: for-each@0.3.3 from lock file\nnpm ERR! Missing: gopd@1.0.1 from lock file\nnpm ERR! Missing: is-callable@1.2.7 from lock file\nnpm ERR! Invalid: lock file's yallist@4.0.0 does not satisfy yallist@3.1.1\nnpm ERR! Missing: define-properties@1.1.4 from lock file\nnpm ERR! Missing: has-property-descriptors@1.0.0 from lock file\nnpm ERR! Missing: mimic-fn@2.1.0 from lock file\nnpm ERR! Missing: p-try@2.2.0 from lock file\nnpm ERR! Missing: duplexify@4.1.2 from lock file\nnpm ERR! Missing: functions-have-names@1.2.3 from lock file\nnpm ERR! Missing: internal-slot@1.0.4 from lock file\nnpm ERR! Invalid: lock file's http-proxy-agent@5.0.0 does not satisfy http-proxy-agent@4.0.1\nnpm ERR! Invalid: lock file's uuid@8.3.2 does not satisfy uuid@7.0.3\nnpm ERR! Invalid: lock file's @tootallnate/once@2.0.0 does not satisfy @tootallnate/once@1.1.2\nnpm ERR! Missing: is-bigint@1.0.4 from lock file\nnpm ERR! Missing: is-boolean-object@1.1.2 from lock file\nnpm ERR! Missing: is-number-object@1.0.7 from lock file\nnpm ERR! Missing: is-symbol@1.0.4 from lock file\nnpm ERR! Missing: has-bigints@1.0.2 from lock file\nnpm ERR! Missing: is-weakmap@2.0.1 from lock file\nnpm ERR! Missing: is-weakset@2.0.2 from lock file\nnpm ERR! Missing: core-util-is@1.0.3 from lock file\nnpm ERR! Missing: isarray@1.0.0 from lock file\nnpm ERR! Missing: process-nextick-args@2.0.1 from lock file\nnpm ERR! Missing: safe-buffer@5.1.2 from lock file\nnpm ERR! Missing: string_decoder@1.1.1 from lock file\nnpm ERR! \nnpm ERR! Clean install a project\nnpm ERR! \nnpm ERR! Usage:\nnpm ERR! npm ci\nnpm ERR! \nnpm ERR! Options:\nnpm ERR! [-S|--save|--no-save|--save-prod|--save-dev|--save-optional|--save-peer|--save-bundle]\nnpm ERR! [-E|--save-exact] [-g|--global] [--global-style] [--legacy-bundling]\nnpm ERR! [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm ERR! [--strict-peer-deps] [--no-package-lock] [--foreground-scripts]\nnpm ERR! [--ignore-scripts] [--no-audit] [--no-bin-links] [--no-fund] [--dry-run]\nnpm ERR! [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm ERR! [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm ERR! \nnpm ERR! aliases: clean-install, ic, install-clean, isntall-clean\nnpm ERR! \nnpm ERR! Run \"npm help ci\" for more info\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /www-data-home/.npm/_logs/2023-01-30T10_34_43_716Z-debug-0.log; Error ID: beaf8772",
    "status": 3
  }
}
[debug] [2023-01-30T10:34:58.402Z] Error: Failed to update function api in region us-central1
    at /Users/ryanguai/.npm-global/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:48:11
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Fabricator.updateV1Function (/Users/ryanguai/.npm-global/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:330:32)
    at async Fabricator.updateEndpoint (/Users/ryanguai/.npm-global/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:147:13)
    at async handle (/Users/ryanguai/.npm-global/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:85:17)
[error] 
[error] Error: There was an error deploying functions
[debug] [2023-01-30T10:36:06.942Z] ----------------------------------------------------------------------
[debug] [2023-01-30T10:36:06.944Z] Command:       /usr/local/bin/node /Users/ryanguai/.npm-global/bin/firebase deploy --only functions
[debug] [2023-01-30T10:36:06.945Z] CLI Version:   11.21.0
[debug] [2023-01-30T10:36:06.946Z] Platform:      darwin
[debug] [2023-01-30T10:36:06.947Z] Node Version:  v16.13.0
[debug] [2023-01-30T10:36:06.950Z] Time:          Mon Jan 30 2023 18:36:06 GMT+0800 (Singapore Standard Time)
[debug] [2023-01-30T10:36:06.951Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-01-30T10:36:07.065Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-01-30T10:36:07.066Z] > authorizing via signed-in user (e0694442@u.nus.edu)
[debug] [2023-01-30T10:36:07.067Z] [iam] checking project todoapp-65153 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2023-01-30T10:36:07.069Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions [none]
[debug] [2023-01-30T10:36:07.070Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions x-goog-quota-user=projects/todoapp-65153
[debug] [2023-01-30T10:36:07.071Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-01-30T10:36:08.221Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions 200
[debug] [2023-01-30T10:36:08.226Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-01-30T10:36:08.231Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/todoapp-65153/serviceAccounts/todoapp-65153@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2023-01-30T10:36:08.235Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/todoapp-65153/serviceAccounts/todoapp-65153@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-01-30T10:36:09.267Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/todoapp-65153/serviceAccounts/todoapp-65153@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2023-01-30T10:36:09.273Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/todoapp-65153/serviceAccounts/todoapp-65153@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'todoapp-65153'...
[info] 
[info] i  deploying functions 
[debug] [2023-01-30T10:36:09.285Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 [none]
[debug] [2023-01-30T10:36:09.858Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 200
[debug] [2023-01-30T10:36:09.860Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 {"projectId":"todoapp-65153","projectNumber":"171978637376","displayName":"TodoApp","name":"projects/todoapp-65153","resources":{"hostingSite":"todoapp-65153","storageBucket":"todoapp-65153.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_d84f8fcc-8c68-40e1-ad99-08ccc732edb5"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2023-01-30T10:36:09.868Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/cloudfunctions.googleapis.com [none]
[debug] [2023-01-30T10:36:09.869Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/todoapp-65153
[debug] [2023-01-30T10:36:09.880Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/runtimeconfig.googleapis.com [none]
[debug] [2023-01-30T10:36:09.881Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/todoapp-65153
[debug] [2023-01-30T10:36:09.888Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/cloudbuild.googleapis.com [none]
[debug] [2023-01-30T10:36:09.890Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/cloudbuild.googleapis.com x-goog-quota-user=projects/todoapp-65153
[debug] [2023-01-30T10:36:09.895Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/artifactregistry.googleapis.com [none]
[debug] [2023-01-30T10:36:09.895Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/artifactregistry.googleapis.com x-goog-quota-user=projects/todoapp-65153
[debug] [2023-01-30T10:36:11.545Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/cloudbuild.googleapis.com 200
[debug] [2023-01-30T10:36:11.546Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2023-01-30T10:36:11.553Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/runtimeconfig.googleapis.com 200
[debug] [2023-01-30T10:36:11.554Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/runtimeconfig.googleapis.com [omitted]
[debug] [2023-01-30T10:36:11.556Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/artifactregistry.googleapis.com 200
[debug] [2023-01-30T10:36:11.556Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2023-01-30T10:36:11.562Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/cloudfunctions.googleapis.com 200
[debug] [2023-01-30T10:36:11.562Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2023-01-30T10:36:11.564Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig [none]
[debug] [2023-01-30T10:36:12.006Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig 200
[debug] [2023-01-30T10:36:12.013Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig {"projectId":"todoapp-65153","storageBucket":"todoapp-65153.appspot.com","locationId":"us-central"}
[debug] [2023-01-30T10:36:12.016Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/todoapp-65153/configs [none]
[debug] [2023-01-30T10:36:12.522Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/todoapp-65153/configs 200
[debug] [2023-01-30T10:36:12.527Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/todoapp-65153/configs {}
[debug] [2023-01-30T10:36:12.535Z] Validating nodejs source
[debug] [2023-01-30T10:36:13.534Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-30T10:36:13.535Z] Building nodejs source
[debug] [2023-01-30T10:36:13.536Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-30T10:36:13.830Z] Serving at port 9005

[debug] [2023-01-30T10:36:14.214Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-30T10:36:14.229Z] shutdown requested via /__/quitquitquit

[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/ryanguai/DCO-Tutorial/functions (59.5 KB) for uploading 
[debug] [2023-01-30T10:36:14.328Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/-/functions [none]
[debug] [2023-01-30T10:36:16.323Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/-/functions 200
[debug] [2023-01-30T10:36:16.329Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/-/functions {"functions":[{"name":"projects/todoapp-65153/locations/us-central1/functions/api","httpsTrigger":{"url":"https://us-central1-todoapp-65153.cloudfunctions.net/api","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"api","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"todoapp-65153@appspot.gserviceaccount.com","updateTime":"2023-01-15T08:46:26.409Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"c8a151dec141459f0b788d55b3da1965a3eef8ec"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/bf322b94-439d-4c62-8344-9d0047a10b85.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"runtime":"nodejs16","ingressSettings":"ALLOW_ALL","buildId":"cde7acda-5096-4f8a-a10f-65a19397ee2f","buildName":"projects/171978637376/locations/us-central1/builds/cde7acda-5096-4f8a-a10f-65a19397ee2f","dockerRegistry":"ARTIFACT_REGISTRY"}]}
[debug] [2023-01-30T10:36:16.333Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/todoapp-65153/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2023-01-30T10:36:18.038Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/todoapp-65153/locations/-/functions 200
[debug] [2023-01-30T10:36:18.039Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/todoapp-65153/locations/-/functions {}
[debug] [2023-01-30T10:36:18.053Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 [none]
[debug] [2023-01-30T10:36:18.442Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 200
[debug] [2023-01-30T10:36:18.443Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 {"projectId":"todoapp-65153","projectNumber":"171978637376","displayName":"TodoApp","name":"projects/todoapp-65153","resources":{"hostingSite":"todoapp-65153","storageBucket":"todoapp-65153.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_d84f8fcc-8c68-40e1-ad99-08ccc732edb5"}
[debug] [2023-01-30T10:36:18.451Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2023-01-30T10:36:18.452Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/us-central1/functions:generateUploadUrl {}
[debug] [2023-01-30T10:36:19.159Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/us-central1/functions:generateUploadUrl 200
[debug] [2023-01-30T10:36:19.160Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/0e15a81b-65a4-425b-a02b-5ce3abb9c2d6.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675076778&Signature=XlYdNWt95%2F%2BkOZw1NwSdsWVwqHrUpywzduubxzCsiCdMFPq8gnKBNP26p0Vf4Uo%2B1iZAc2iikDI5uMnTVSBpYS8UE90R6yxMhwJytkXUvDuK5A3Otu8BKqSL0mTsOAtk44tWfBedN8ZYyD2TFhW65qidaXjL6q3UxUXrfF32JWrMMAZVzR5GHEJJEOxjtCFXfRvA15HEx9J%2FSHhmodR%2BSswVTy0ffKo4pQNhZRDzD1r9Bbc3LmQTwUaEeJIVirVq9WkrOZ3Z1SZj%2BDnoKP5Nnbnogle6Tp3uLWX4lNXRY5LMg2tnwYNDsKjDBGGACzfD6o6PfjZR%2FiSYUExOd%2BYb7w%3D%3D"}
[debug] [2023-01-30T10:36:19.165Z] >>> [apiv2][query] PUT https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/0e15a81b-65a4-425b-a02b-5ce3abb9c2d6.zip GoogleAccessId=service-171978637376%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1675076778&Signature=XlYdNWt95%2F%2BkOZw1NwSdsWVwqHrUpywzduubxzCsiCdMFPq8gnKBNP26p0Vf4Uo%2B1iZAc2iikDI5uMnTVSBpYS8UE90R6yxMhwJytkXUvDuK5A3Otu8BKqSL0mTsOAtk44tWfBedN8ZYyD2TFhW65qidaXjL6q3UxUXrfF32JWrMMAZVzR5GHEJJEOxjtCFXfRvA15HEx9J%2FSHhmodR%2BSswVTy0ffKo4pQNhZRDzD1r9Bbc3LmQTwUaEeJIVirVq9WkrOZ3Z1SZj%2BDnoKP5Nnbnogle6Tp3uLWX4lNXRY5LMg2tnwYNDsKjDBGGACzfD6o6PfjZR%2FiSYUExOd%2BYb7w%3D%3D
[debug] [2023-01-30T10:36:19.166Z] >>> [apiv2][body] PUT https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/0e15a81b-65a4-425b-a02b-5ce3abb9c2d6.zip [stream]
[debug] [2023-01-30T10:36:19.763Z] <<< [apiv2][status] PUT https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/0e15a81b-65a4-425b-a02b-5ce3abb9c2d6.zip 200
[debug] [2023-01-30T10:36:19.764Z] <<< [apiv2][body] PUT https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/0e15a81b-65a4-425b-a02b-5ce3abb9c2d6.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] i  functions: updating Node.js 16 function api(us-central1)... 
[debug] [2023-01-30T10:36:19.769Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/us-central1/functions/api updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken
[debug] [2023-01-30T10:36:19.770Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/us-central1/functions/api {"name":"projects/todoapp-65153/locations/us-central1/functions/api","sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/0e15a81b-65a4-425b-a02b-5ce3abb9c2d6.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675076778&Signature=XlYdNWt95%2F%2BkOZw1NwSdsWVwqHrUpywzduubxzCsiCdMFPq8gnKBNP26p0Vf4Uo%2B1iZAc2iikDI5uMnTVSBpYS8UE90R6yxMhwJytkXUvDuK5A3Otu8BKqSL0mTsOAtk44tWfBedN8ZYyD2TFhW65qidaXjL6q3UxUXrfF32JWrMMAZVzR5GHEJJEOxjtCFXfRvA15HEx9J%2FSHhmodR%2BSswVTy0ffKo4pQNhZRDzD1r9Bbc3LmQTwUaEeJIVirVq9WkrOZ3Z1SZj%2BDnoKP5Nnbnogle6Tp3uLWX4lNXRY5LMg2tnwYNDsKjDBGGACzfD6o6PfjZR%2FiSYUExOd%2BYb7w%3D%3D","entryPoint":"api","runtime":"nodejs16","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null}
[debug] [2023-01-30T10:36:20.490Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/us-central1/functions/api 200
[debug] [2023-01-30T10:36:20.492Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/us-central1/functions/api {"name":"operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvYVh2UUcxSjdVSFU","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/todoapp-65153/locations/us-central1/functions/api","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/todoapp-65153/locations/us-central1/functions/api","httpsTrigger":{"url":"https://us-central1-todoapp-65153.cloudfunctions.net/api","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"api","updateTime":"2023-01-15T08:46:26.409Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/0e15a81b-65a4-425b-a02b-5ce3abb9c2d6.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675076778&Signature=XlYdNWt95%2F%2BkOZw1NwSdsWVwqHrUpywzduubxzCsiCdMFPq8gnKBNP26p0Vf4Uo%2B1iZAc2iikDI5uMnTVSBpYS8UE90R6yxMhwJytkXUvDuK5A3Otu8BKqSL0mTsOAtk44tWfBedN8ZYyD2TFhW65qidaXjL6q3UxUXrfF32JWrMMAZVzR5GHEJJEOxjtCFXfRvA15HEx9J%2FSHhmodR%2BSswVTy0ffKo4pQNhZRDzD1r9Bbc3LmQTwUaEeJIVirVq9WkrOZ3Z1SZj%2BDnoKP5Nnbnogle6Tp3uLWX4lNXRY5LMg2tnwYNDsKjDBGGACzfD6o6PfjZR%2FiSYUExOd%2BYb7w%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"runtime":"nodejs16","buildId":"cde7acda-5096-4f8a-a10f-65a19397ee2f","buildName":"projects/171978637376/locations/us-central1/builds/cde7acda-5096-4f8a-a10f-65a19397ee2f","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"7","updateTime":"2023-01-30T10:36:20Z"}}
[debug] [2023-01-30T10:36:20.494Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvYVh2UUcxSjdVSFU [none]
[debug] [2023-01-30T10:36:20.900Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvYVh2UUcxSjdVSFU 200
[debug] [2023-01-30T10:36:20.900Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvYVh2UUcxSjdVSFU {"name":"operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvYVh2UUcxSjdVSFU","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/todoapp-65153/locations/us-central1/functions/api","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/todoapp-65153/locations/us-central1/functions/api","httpsTrigger":{"url":"https://us-central1-todoapp-65153.cloudfunctions.net/api","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"api","updateTime":"2023-01-15T08:46:26.409Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/0e15a81b-65a4-425b-a02b-5ce3abb9c2d6.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675076778&Signature=XlYdNWt95%2F%2BkOZw1NwSdsWVwqHrUpywzduubxzCsiCdMFPq8gnKBNP26p0Vf4Uo%2B1iZAc2iikDI5uMnTVSBpYS8UE90R6yxMhwJytkXUvDuK5A3Otu8BKqSL0mTsOAtk44tWfBedN8ZYyD2TFhW65qidaXjL6q3UxUXrfF32JWrMMAZVzR5GHEJJEOxjtCFXfRvA15HEx9J%2FSHhmodR%2BSswVTy0ffKo4pQNhZRDzD1r9Bbc3LmQTwUaEeJIVirVq9WkrOZ3Z1SZj%2BDnoKP5Nnbnogle6Tp3uLWX4lNXRY5LMg2tnwYNDsKjDBGGACzfD6o6PfjZR%2FiSYUExOd%2BYb7w%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"runtime":"nodejs16","buildId":"cde7acda-5096-4f8a-a10f-65a19397ee2f","buildName":"projects/171978637376/locations/us-central1/builds/cde7acda-5096-4f8a-a10f-65a19397ee2f","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"7","updateTime":"2023-01-30T10:36:20Z"}}
[debug] [2023-01-30T10:36:21.407Z] [update-default-us-central1-api] Retrying task index 0
[debug] [2023-01-30T10:36:21.409Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvYVh2UUcxSjdVSFU [none]
[debug] [2023-01-30T10:36:21.810Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvYVh2UUcxSjdVSFU 200
[debug] [2023-01-30T10:36:21.811Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvYVh2UUcxSjdVSFU {"name":"operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvYVh2UUcxSjdVSFU","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/todoapp-65153/locations/us-central1/functions/api","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/todoapp-65153/locations/us-central1/functions/api","httpsTrigger":{"url":"https://us-central1-todoapp-65153.cloudfunctions.net/api","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"api","updateTime":"2023-01-15T08:46:26.409Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/0e15a81b-65a4-425b-a02b-5ce3abb9c2d6.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675076778&Signature=XlYdNWt95%2F%2BkOZw1NwSdsWVwqHrUpywzduubxzCsiCdMFPq8gnKBNP26p0Vf4Uo%2B1iZAc2iikDI5uMnTVSBpYS8UE90R6yxMhwJytkXUvDuK5A3Otu8BKqSL0mTsOAtk44tWfBedN8ZYyD2TFhW65qidaXjL6q3UxUXrfF32JWrMMAZVzR5GHEJJEOxjtCFXfRvA15HEx9J%2FSHhmodR%2BSswVTy0ffKo4pQNhZRDzD1r9Bbc3LmQTwUaEeJIVirVq9WkrOZ3Z1SZj%2BDnoKP5Nnbnogle6Tp3uLWX4lNXRY5LMg2tnwYNDsKjDBGGACzfD6o6PfjZR%2FiSYUExOd%2BYb7w%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"runtime":"nodejs16","buildId":"cde7acda-5096-4f8a-a10f-65a19397ee2f","buildName":"projects/171978637376/locations/us-central1/builds/cde7acda-5096-4f8a-a10f-65a19397ee2f","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"7","updateTime":"2023-01-30T10:36:20Z","buildId":"e35f2605-fb2d-4dc3-81a2-975573c4f07c","buildName":"projects/171978637376/locations/us-central1/builds/e35f2605-fb2d-4dc3-81a2-975573c4f07c"}}
[debug] [2023-01-30T10:36:22.817Z] [update-default-us-central1-api] Retrying task index 0
[debug] [2023-01-30T10:36:22.822Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvYVh2UUcxSjdVSFU [none]
[debug] [2023-01-30T10:36:23.256Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvYVh2UUcxSjdVSFU 200
[debug] [2023-01-30T10:36:23.257Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvYVh2UUcxSjdVSFU {"name":"operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvYVh2UUcxSjdVSFU","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/todoapp-65153/locations/us-central1/functions/api","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/todoapp-65153/locations/us-central1/functions/api","httpsTrigger":{"url":"https://us-central1-todoapp-65153.cloudfunctions.net/api","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"api","updateTime":"2023-01-15T08:46:26.409Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/0e15a81b-65a4-425b-a02b-5ce3abb9c2d6.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675076778&Signature=XlYdNWt95%2F%2BkOZw1NwSdsWVwqHrUpywzduubxzCsiCdMFPq8gnKBNP26p0Vf4Uo%2B1iZAc2iikDI5uMnTVSBpYS8UE90R6yxMhwJytkXUvDuK5A3Otu8BKqSL0mTsOAtk44tWfBedN8ZYyD2TFhW65qidaXjL6q3UxUXrfF32JWrMMAZVzR5GHEJJEOxjtCFXfRvA15HEx9J%2FSHhmodR%2BSswVTy0ffKo4pQNhZRDzD1r9Bbc3LmQTwUaEeJIVirVq9WkrOZ3Z1SZj%2BDnoKP5Nnbnogle6Tp3uLWX4lNXRY5LMg2tnwYNDsKjDBGGACzfD6o6PfjZR%2FiSYUExOd%2BYb7w%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"runtime":"nodejs16","buildId":"cde7acda-5096-4f8a-a10f-65a19397ee2f","buildName":"projects/171978637376/locations/us-central1/builds/cde7acda-5096-4f8a-a10f-65a19397ee2f","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"7","updateTime":"2023-01-30T10:36:20Z","buildId":"e35f2605-fb2d-4dc3-81a2-975573c4f07c","buildName":"projects/171978637376/locations/us-central1/builds/e35f2605-fb2d-4dc3-81a2-975573c4f07c"}}
[debug] [2023-01-30T10:36:25.260Z] [update-default-us-central1-api] Retrying task index 0
[debug] [2023-01-30T10:36:25.266Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvYVh2UUcxSjdVSFU [none]
[debug] [2023-01-30T10:36:25.712Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvYVh2UUcxSjdVSFU 200
[debug] [2023-01-30T10:36:25.713Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvYVh2UUcxSjdVSFU {"name":"operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvYVh2UUcxSjdVSFU","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/todoapp-65153/locations/us-central1/functions/api","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/todoapp-65153/locations/us-central1/functions/api","httpsTrigger":{"url":"https://us-central1-todoapp-65153.cloudfunctions.net/api","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"api","updateTime":"2023-01-15T08:46:26.409Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/0e15a81b-65a4-425b-a02b-5ce3abb9c2d6.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675076778&Signature=XlYdNWt95%2F%2BkOZw1NwSdsWVwqHrUpywzduubxzCsiCdMFPq8gnKBNP26p0Vf4Uo%2B1iZAc2iikDI5uMnTVSBpYS8UE90R6yxMhwJytkXUvDuK5A3Otu8BKqSL0mTsOAtk44tWfBedN8ZYyD2TFhW65qidaXjL6q3UxUXrfF32JWrMMAZVzR5GHEJJEOxjtCFXfRvA15HEx9J%2FSHhmodR%2BSswVTy0ffKo4pQNhZRDzD1r9Bbc3LmQTwUaEeJIVirVq9WkrOZ3Z1SZj%2BDnoKP5Nnbnogle6Tp3uLWX4lNXRY5LMg2tnwYNDsKjDBGGACzfD6o6PfjZR%2FiSYUExOd%2BYb7w%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"runtime":"nodejs16","buildId":"cde7acda-5096-4f8a-a10f-65a19397ee2f","buildName":"projects/171978637376/locations/us-central1/builds/cde7acda-5096-4f8a-a10f-65a19397ee2f","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"7","updateTime":"2023-01-30T10:36:20Z","buildId":"e35f2605-fb2d-4dc3-81a2-975573c4f07c","buildName":"projects/171978637376/locations/us-central1/builds/e35f2605-fb2d-4dc3-81a2-975573c4f07c"}}
[debug] [2023-01-30T10:36:29.718Z] [update-default-us-central1-api] Retrying task index 0
[debug] [2023-01-30T10:36:29.729Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvYVh2UUcxSjdVSFU [none]
[debug] [2023-01-30T10:36:30.123Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvYVh2UUcxSjdVSFU 200
[debug] [2023-01-30T10:36:30.124Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvYVh2UUcxSjdVSFU {"name":"operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvYVh2UUcxSjdVSFU","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/todoapp-65153/locations/us-central1/functions/api","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/todoapp-65153/locations/us-central1/functions/api","httpsTrigger":{"url":"https://us-central1-todoapp-65153.cloudfunctions.net/api","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"api","updateTime":"2023-01-15T08:46:26.409Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/0e15a81b-65a4-425b-a02b-5ce3abb9c2d6.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675076778&Signature=XlYdNWt95%2F%2BkOZw1NwSdsWVwqHrUpywzduubxzCsiCdMFPq8gnKBNP26p0Vf4Uo%2B1iZAc2iikDI5uMnTVSBpYS8UE90R6yxMhwJytkXUvDuK5A3Otu8BKqSL0mTsOAtk44tWfBedN8ZYyD2TFhW65qidaXjL6q3UxUXrfF32JWrMMAZVzR5GHEJJEOxjtCFXfRvA15HEx9J%2FSHhmodR%2BSswVTy0ffKo4pQNhZRDzD1r9Bbc3LmQTwUaEeJIVirVq9WkrOZ3Z1SZj%2BDnoKP5Nnbnogle6Tp3uLWX4lNXRY5LMg2tnwYNDsKjDBGGACzfD6o6PfjZR%2FiSYUExOd%2BYb7w%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"runtime":"nodejs16","buildId":"cde7acda-5096-4f8a-a10f-65a19397ee2f","buildName":"projects/171978637376/locations/us-central1/builds/cde7acda-5096-4f8a-a10f-65a19397ee2f","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"7","updateTime":"2023-01-30T10:36:20Z","buildId":"e35f2605-fb2d-4dc3-81a2-975573c4f07c","buildName":"projects/171978637376/locations/us-central1/builds/e35f2605-fb2d-4dc3-81a2-975573c4f07c"}}
[debug] [2023-01-30T10:36:38.129Z] [update-default-us-central1-api] Retrying task index 0
[debug] [2023-01-30T10:36:38.133Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvYVh2UUcxSjdVSFU [none]
[debug] [2023-01-30T10:36:38.623Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvYVh2UUcxSjdVSFU 200
[debug] [2023-01-30T10:36:38.629Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvYVh2UUcxSjdVSFU {"name":"operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvYVh2UUcxSjdVSFU","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/todoapp-65153/locations/us-central1/functions/api","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/todoapp-65153/locations/us-central1/functions/api","httpsTrigger":{"url":"https://us-central1-todoapp-65153.cloudfunctions.net/api","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"api","updateTime":"2023-01-15T08:46:26.409Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/0e15a81b-65a4-425b-a02b-5ce3abb9c2d6.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675076778&Signature=XlYdNWt95%2F%2BkOZw1NwSdsWVwqHrUpywzduubxzCsiCdMFPq8gnKBNP26p0Vf4Uo%2B1iZAc2iikDI5uMnTVSBpYS8UE90R6yxMhwJytkXUvDuK5A3Otu8BKqSL0mTsOAtk44tWfBedN8ZYyD2TFhW65qidaXjL6q3UxUXrfF32JWrMMAZVzR5GHEJJEOxjtCFXfRvA15HEx9J%2FSHhmodR%2BSswVTy0ffKo4pQNhZRDzD1r9Bbc3LmQTwUaEeJIVirVq9WkrOZ3Z1SZj%2BDnoKP5Nnbnogle6Tp3uLWX4lNXRY5LMg2tnwYNDsKjDBGGACzfD6o6PfjZR%2FiSYUExOd%2BYb7w%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"runtime":"nodejs16","buildId":"cde7acda-5096-4f8a-a10f-65a19397ee2f","buildName":"projects/171978637376/locations/us-central1/builds/cde7acda-5096-4f8a-a10f-65a19397ee2f","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"7","updateTime":"2023-01-30T10:36:20Z","buildId":"e35f2605-fb2d-4dc3-81a2-975573c4f07c","buildName":"projects/171978637376/locations/us-central1/builds/e35f2605-fb2d-4dc3-81a2-975573c4f07c"}}
[debug] [2023-01-30T10:36:48.632Z] [update-default-us-central1-api] Retrying task index 0
[debug] [2023-01-30T10:36:48.643Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvYVh2UUcxSjdVSFU [none]
[debug] [2023-01-30T10:36:49.049Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvYVh2UUcxSjdVSFU 200
[debug] [2023-01-30T10:36:49.050Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvYVh2UUcxSjdVSFU {"name":"operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvYVh2UUcxSjdVSFU","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/todoapp-65153/locations/us-central1/functions/api","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/todoapp-65153/locations/us-central1/functions/api","httpsTrigger":{"url":"https://us-central1-todoapp-65153.cloudfunctions.net/api","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"api","updateTime":"2023-01-15T08:46:26.409Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/0e15a81b-65a4-425b-a02b-5ce3abb9c2d6.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675076778&Signature=XlYdNWt95%2F%2BkOZw1NwSdsWVwqHrUpywzduubxzCsiCdMFPq8gnKBNP26p0Vf4Uo%2B1iZAc2iikDI5uMnTVSBpYS8UE90R6yxMhwJytkXUvDuK5A3Otu8BKqSL0mTsOAtk44tWfBedN8ZYyD2TFhW65qidaXjL6q3UxUXrfF32JWrMMAZVzR5GHEJJEOxjtCFXfRvA15HEx9J%2FSHhmodR%2BSswVTy0ffKo4pQNhZRDzD1r9Bbc3LmQTwUaEeJIVirVq9WkrOZ3Z1SZj%2BDnoKP5Nnbnogle6Tp3uLWX4lNXRY5LMg2tnwYNDsKjDBGGACzfD6o6PfjZR%2FiSYUExOd%2BYb7w%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"runtime":"nodejs16","buildId":"cde7acda-5096-4f8a-a10f-65a19397ee2f","buildName":"projects/171978637376/locations/us-central1/builds/cde7acda-5096-4f8a-a10f-65a19397ee2f","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"7","updateTime":"2023-01-30T10:36:20Z","buildId":"e35f2605-fb2d-4dc3-81a2-975573c4f07c","buildName":"projects/171978637376/locations/us-central1/builds/e35f2605-fb2d-4dc3-81a2-975573c4f07c"}}
[debug] [2023-01-30T10:36:59.057Z] [update-default-us-central1-api] Retrying task index 0
[debug] [2023-01-30T10:36:59.062Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvYVh2UUcxSjdVSFU [none]
[debug] [2023-01-30T10:36:59.504Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvYVh2UUcxSjdVSFU 200
[debug] [2023-01-30T10:36:59.505Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvYVh2UUcxSjdVSFU {"name":"operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvYVh2UUcxSjdVSFU","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/todoapp-65153/locations/us-central1/functions/api","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/todoapp-65153/locations/us-central1/functions/api","httpsTrigger":{"url":"https://us-central1-todoapp-65153.cloudfunctions.net/api","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"api","updateTime":"2023-01-15T08:46:26.409Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/0e15a81b-65a4-425b-a02b-5ce3abb9c2d6.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675076778&Signature=XlYdNWt95%2F%2BkOZw1NwSdsWVwqHrUpywzduubxzCsiCdMFPq8gnKBNP26p0Vf4Uo%2B1iZAc2iikDI5uMnTVSBpYS8UE90R6yxMhwJytkXUvDuK5A3Otu8BKqSL0mTsOAtk44tWfBedN8ZYyD2TFhW65qidaXjL6q3UxUXrfF32JWrMMAZVzR5GHEJJEOxjtCFXfRvA15HEx9J%2FSHhmodR%2BSswVTy0ffKo4pQNhZRDzD1r9Bbc3LmQTwUaEeJIVirVq9WkrOZ3Z1SZj%2BDnoKP5Nnbnogle6Tp3uLWX4lNXRY5LMg2tnwYNDsKjDBGGACzfD6o6PfjZR%2FiSYUExOd%2BYb7w%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"runtime":"nodejs16","buildId":"cde7acda-5096-4f8a-a10f-65a19397ee2f","buildName":"projects/171978637376/locations/us-central1/builds/cde7acda-5096-4f8a-a10f-65a19397ee2f","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"7","updateTime":"2023-01-30T10:36:57Z","buildId":"e35f2605-fb2d-4dc3-81a2-975573c4f07c","buildName":"projects/171978637376/locations/us-central1/builds/e35f2605-fb2d-4dc3-81a2-975573c4f07c"},"done":true,"error":{"code":3,"message":"Build failed: ... Missing: @types/fs-extra@8.1.2 from lock file\nnpm ERR! Missing: lodash.at@4.6.0 from lock file\nnpm ERR! Missing: lodash.has@4.5.2 from lock file\nnpm ERR! Missing: semver@6.3.0 from lock file\nnpm ERR! Missing: walkdir@0.4.1 from lock file\nnpm ERR! Missing: gaxios@2.3.4 from lock file\nnpm ERR! Invalid: lock file's google-p12-pem@3.1.4 does not satisfy google-p12-pem@2.0.5\nnpm ERR! Missing: node-forge@0.10.0 from lock file\nnpm ERR! Missing: has-tostringtag@1.0.0 from lock file\nnpm ERR! Missing: is-typed-array@1.1.10 from lock file\nnpm ERR! Missing: available-typed-arrays@1.0.5 from lock file\nnpm ERR! Missing: for-each@0.3.3 from lock file\nnpm ERR! Missing: gopd@1.0.1 from lock file\nnpm ERR! Missing: is-callable@1.2.7 from lock file\nnpm ERR! Invalid: lock file's yallist@4.0.0 does not satisfy yallist@3.1.1\nnpm ERR! Missing: define-properties@1.1.4 from lock file\nnpm ERR! Missing: has-property-descriptors@1.0.0 from lock file\nnpm ERR! Missing: mimic-fn@2.1.0 from lock file\nnpm ERR! Missing: p-try@2.2.0 from lock file\nnpm ERR! Missing: duplexify@4.1.2 from lock file\nnpm ERR! Missing: functions-have-names@1.2.3 from lock file\nnpm ERR! Missing: internal-slot@1.0.4 from lock file\nnpm ERR! Invalid: lock file's http-proxy-agent@5.0.0 does not satisfy http-proxy-agent@4.0.1\nnpm ERR! Invalid: lock file's uuid@8.3.2 does not satisfy uuid@7.0.3\nnpm ERR! Invalid: lock file's @tootallnate/once@2.0.0 does not satisfy @tootallnate/once@1.1.2\nnpm ERR! Missing: is-bigint@1.0.4 from lock file\nnpm ERR! Missing: is-boolean-object@1.1.2 from lock file\nnpm ERR! Missing: is-number-object@1.0.7 from lock file\nnpm ERR! Missing: is-symbol@1.0.4 from lock file\nnpm ERR! Missing: has-bigints@1.0.2 from lock file\nnpm ERR! Missing: is-weakmap@2.0.1 from lock file\nnpm ERR! Missing: is-weakset@2.0.2 from lock file\nnpm ERR! Missing: core-util-is@1.0.3 from lock file\nnpm ERR! Missing: isarray@1.0.0 from lock file\nnpm ERR! Missing: process-nextick-args@2.0.1 from lock file\nnpm ERR! Missing: safe-buffer@5.1.2 from lock file\nnpm ERR! Missing: string_decoder@1.1.1 from lock file\nnpm ERR! \nnpm ERR! Clean install a project\nnpm ERR! \nnpm ERR! Usage:\nnpm ERR! npm ci\nnpm ERR! \nnpm ERR! Options:\nnpm ERR! [-S|--save|--no-save|--save-prod|--save-dev|--save-optional|--save-peer|--save-bundle]\nnpm ERR! [-E|--save-exact] [-g|--global] [--global-style] [--legacy-bundling]\nnpm ERR! [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm ERR! [--strict-peer-deps] [--no-package-lock] [--foreground-scripts]\nnpm ERR! [--ignore-scripts] [--no-audit] [--no-bin-links] [--no-fund] [--dry-run]\nnpm ERR! [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm ERR! [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm ERR! \nnpm ERR! aliases: clean-install, ic, install-clean, isntall-clean\nnpm ERR! \nnpm ERR! Run \"npm help ci\" for more info\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /www-data-home/.npm/_logs/2023-01-30T10_36_45_625Z-debug-0.log; Error ID: beaf8772"}}
[debug] [2023-01-30T10:36:59.505Z] Got source token undefined for region us-central1
[error] Build failed: ... Missing: @types/fs-extra@8.1.2 from lock file
npm ERR! Missing: lodash.at@4.6.0 from lock file
npm ERR! Missing: lodash.has@4.5.2 from lock file
npm ERR! Missing: semver@6.3.0 from lock file
npm ERR! Missing: walkdir@0.4.1 from lock file
npm ERR! Missing: gaxios@2.3.4 from lock file
npm ERR! Invalid: lock file's google-p12-pem@3.1.4 does not satisfy google-p12-pem@2.0.5
npm ERR! Missing: node-forge@0.10.0 from lock file
npm ERR! Missing: has-tostringtag@1.0.0 from lock file
npm ERR! Missing: is-typed-array@1.1.10 from lock file
npm ERR! Missing: available-typed-arrays@1.0.5 from lock file
npm ERR! Missing: for-each@0.3.3 from lock file
npm ERR! Missing: gopd@1.0.1 from lock file
npm ERR! Missing: is-callable@1.2.7 from lock file
npm ERR! Invalid: lock file's yallist@4.0.0 does not satisfy yallist@3.1.1
npm ERR! Missing: define-properties@1.1.4 from lock file
npm ERR! Missing: has-property-descriptors@1.0.0 from lock file
npm ERR! Missing: mimic-fn@2.1.0 from lock file
npm ERR! Missing: p-try@2.2.0 from lock file
npm ERR! Missing: duplexify@4.1.2 from lock file
npm ERR! Missing: functions-have-names@1.2.3 from lock file
npm ERR! Missing: internal-slot@1.0.4 from lock file
npm ERR! Invalid: lock file's http-proxy-agent@5.0.0 does not satisfy http-proxy-agent@4.0.1
npm ERR! Invalid: lock file's uuid@8.3.2 does not satisfy uuid@7.0.3
npm ERR! Invalid: lock file's @tootallnate/once@2.0.0 does not satisfy @tootallnate/once@1.1.2
npm ERR! Missing: is-bigint@1.0.4 from lock file
npm ERR! Missing: is-boolean-object@1.1.2 from lock file
npm ERR! Missing: is-number-object@1.0.7 from lock file
npm ERR! Missing: is-symbol@1.0.4 from lock file
npm ERR! Missing: has-bigints@1.0.2 from lock file
npm ERR! Missing: is-weakmap@2.0.1 from lock file
npm ERR! Missing: is-weakset@2.0.2 from lock file
npm ERR! Missing: core-util-is@1.0.3 from lock file
npm ERR! Missing: isarray@1.0.0 from lock file
npm ERR! Missing: process-nextick-args@2.0.1 from lock file
npm ERR! Missing: safe-buffer@5.1.2 from lock file
npm ERR! Missing: string_decoder@1.1.1 from lock file
npm ERR! 
npm ERR! Clean install a project
npm ERR! 
npm ERR! Usage:
npm ERR! npm ci
npm ERR! 
npm ERR! Options:
npm ERR! [-S|--save|--no-save|--save-prod|--save-dev|--save-optional|--save-peer|--save-bundle]
npm ERR! [-E|--save-exact] [-g|--global] [--global-style] [--legacy-bundling]
npm ERR! [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]
npm ERR! [--strict-peer-deps] [--no-package-lock] [--foreground-scripts]
npm ERR! [--ignore-scripts] [--no-audit] [--no-bin-links] [--no-fund] [--dry-run]
npm ERR! [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]
npm ERR! [-ws|--workspaces] [--include-workspace-root] [--install-links]
npm ERR! 
npm ERR! aliases: clean-install, ic, install-clean, isntall-clean
npm ERR! 
npm ERR! Run "npm help ci" for more info

npm ERR! A complete log of this run can be found in:
npm ERR!     /www-data-home/.npm/_logs/2023-01-30T10_36_45_625Z-debug-0.log; Error ID: beaf8772
[debug] [2023-01-30T10:36:59.541Z] Total Function Deployment time: 39770
[debug] [2023-01-30T10:36:59.541Z] 1 Functions Deployed
[debug] [2023-01-30T10:36:59.541Z] 1 Functions Errored
[debug] [2023-01-30T10:36:59.541Z] 0 Function Deployments Aborted
[debug] [2023-01-30T10:36:59.541Z] Average Function Deployment time: 39769
[info] 
[info] Functions deploy had errors with the following functions:
	api(us-central1)
[debug] [2023-01-30T10:36:59.544Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[info] i  functions: cleaning up build files... 
[debug] [2023-01-30T10:36:59.548Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/todoapp-65153/locations/us-central1/repositories/gcf-artifacts/packages/api [none]
[debug] [2023-01-30T10:36:59.553Z] >>> [apiv2][query] GET https://us.gcr.io/v2/todoapp-65153/gcf/us-central1/tags/list [none]
[debug] [2023-01-30T10:36:59.931Z] <<< [apiv2][status] GET https://us.gcr.io/v2/todoapp-65153/gcf/us-central1/tags/list 200
[debug] [2023-01-30T10:36:59.932Z] <<< [apiv2][body] GET https://us.gcr.io/v2/todoapp-65153/gcf/us-central1/tags/list {"child":[],"manifest":{},"name":"todoapp-65153/gcf/us-central1","tags":[]}
[debug] [2023-01-30T10:36:59.933Z] Could not find image for function projects/todoapp-65153/locations/us-central1/functions/api
[debug] [2023-01-30T10:37:00.898Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/todoapp-65153/locations/us-central1/repositories/gcf-artifacts/packages/api 404
[debug] [2023-01-30T10:37:00.899Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/todoapp-65153/locations/us-central1/repositories/gcf-artifacts/packages/api {"error":{"code":404,"message":"Package \"projects/todoapp-65153/locations/us-central1/repositories/gcf-artifacts/packages/api\" was not found.","status":"NOT_FOUND"}}
[debug] [2023-01-30T10:37:00.903Z] Functions deploy failed.
[debug] [2023-01-30T10:37:00.903Z] {
  "endpoint": {
    "id": "api",
    "project": "todoapp-65153",
    "region": "us-central1",
    "entryPoint": "api",
    "platform": "gcfv1",
    "runtime": "nodejs16",
    "httpsTrigger": {},
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}",
      "GCLOUD_PROJECT": "todoapp-65153",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/todoapp-65153/locations/us-central1/functions/api"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f",
    "labels": {
      "deployment-tool": "cli-firebase"
    }
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Build failed: ... Missing: @types/fs-extra@8.1.2 from lock file\nnpm ERR! Missing: lodash.at@4.6.0 from lock file\nnpm ERR! Missing: lodash.has@4.5.2 from lock file\nnpm ERR! Missing: semver@6.3.0 from lock file\nnpm ERR! Missing: walkdir@0.4.1 from lock file\nnpm ERR! Missing: gaxios@2.3.4 from lock file\nnpm ERR! Invalid: lock file's google-p12-pem@3.1.4 does not satisfy google-p12-pem@2.0.5\nnpm ERR! Missing: node-forge@0.10.0 from lock file\nnpm ERR! Missing: has-tostringtag@1.0.0 from lock file\nnpm ERR! Missing: is-typed-array@1.1.10 from lock file\nnpm ERR! Missing: available-typed-arrays@1.0.5 from lock file\nnpm ERR! Missing: for-each@0.3.3 from lock file\nnpm ERR! Missing: gopd@1.0.1 from lock file\nnpm ERR! Missing: is-callable@1.2.7 from lock file\nnpm ERR! Invalid: lock file's yallist@4.0.0 does not satisfy yallist@3.1.1\nnpm ERR! Missing: define-properties@1.1.4 from lock file\nnpm ERR! Missing: has-property-descriptors@1.0.0 from lock file\nnpm ERR! Missing: mimic-fn@2.1.0 from lock file\nnpm ERR! Missing: p-try@2.2.0 from lock file\nnpm ERR! Missing: duplexify@4.1.2 from lock file\nnpm ERR! Missing: functions-have-names@1.2.3 from lock file\nnpm ERR! Missing: internal-slot@1.0.4 from lock file\nnpm ERR! Invalid: lock file's http-proxy-agent@5.0.0 does not satisfy http-proxy-agent@4.0.1\nnpm ERR! Invalid: lock file's uuid@8.3.2 does not satisfy uuid@7.0.3\nnpm ERR! Invalid: lock file's @tootallnate/once@2.0.0 does not satisfy @tootallnate/once@1.1.2\nnpm ERR! Missing: is-bigint@1.0.4 from lock file\nnpm ERR! Missing: is-boolean-object@1.1.2 from lock file\nnpm ERR! Missing: is-number-object@1.0.7 from lock file\nnpm ERR! Missing: is-symbol@1.0.4 from lock file\nnpm ERR! Missing: has-bigints@1.0.2 from lock file\nnpm ERR! Missing: is-weakmap@2.0.1 from lock file\nnpm ERR! Missing: is-weakset@2.0.2 from lock file\nnpm ERR! Missing: core-util-is@1.0.3 from lock file\nnpm ERR! Missing: isarray@1.0.0 from lock file\nnpm ERR! Missing: process-nextick-args@2.0.1 from lock file\nnpm ERR! Missing: safe-buffer@5.1.2 from lock file\nnpm ERR! Missing: string_decoder@1.1.1 from lock file\nnpm ERR! \nnpm ERR! Clean install a project\nnpm ERR! \nnpm ERR! Usage:\nnpm ERR! npm ci\nnpm ERR! \nnpm ERR! Options:\nnpm ERR! [-S|--save|--no-save|--save-prod|--save-dev|--save-optional|--save-peer|--save-bundle]\nnpm ERR! [-E|--save-exact] [-g|--global] [--global-style] [--legacy-bundling]\nnpm ERR! [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm ERR! [--strict-peer-deps] [--no-package-lock] [--foreground-scripts]\nnpm ERR! [--ignore-scripts] [--no-audit] [--no-bin-links] [--no-fund] [--dry-run]\nnpm ERR! [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm ERR! [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm ERR! \nnpm ERR! aliases: clean-install, ic, install-clean, isntall-clean\nnpm ERR! \nnpm ERR! Run \"npm help ci\" for more info\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /www-data-home/.npm/_logs/2023-01-30T10_36_45_625Z-debug-0.log; Error ID: beaf8772",
    "status": 3
  }
}
[debug] [2023-01-30T10:37:00.907Z] Error: Failed to update function api in region us-central1
    at /Users/ryanguai/.npm-global/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:48:11
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Fabricator.updateV1Function (/Users/ryanguai/.npm-global/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:330:32)
    at async Fabricator.updateEndpoint (/Users/ryanguai/.npm-global/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:147:13)
    at async handle (/Users/ryanguai/.npm-global/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:85:17)
[error] 
[error] Error: There was an error deploying functions
[debug] [2023-01-30T10:37:39.664Z] ----------------------------------------------------------------------
[debug] [2023-01-30T10:37:39.666Z] Command:       /usr/local/bin/node /Users/ryanguai/.npm-global/bin/firebase deploy --only functions
[debug] [2023-01-30T10:37:39.667Z] CLI Version:   11.21.0
[debug] [2023-01-30T10:37:39.667Z] Platform:      darwin
[debug] [2023-01-30T10:37:39.668Z] Node Version:  v16.13.0
[debug] [2023-01-30T10:37:39.669Z] Time:          Mon Jan 30 2023 18:37:39 GMT+0800 (Singapore Standard Time)
[debug] [2023-01-30T10:37:39.670Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-01-30T10:37:39.777Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-01-30T10:37:39.778Z] > authorizing via signed-in user (e0694442@u.nus.edu)
[debug] [2023-01-30T10:37:39.778Z] [iam] checking project todoapp-65153 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2023-01-30T10:37:39.780Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions [none]
[debug] [2023-01-30T10:37:39.781Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions x-goog-quota-user=projects/todoapp-65153
[debug] [2023-01-30T10:37:39.782Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-01-30T10:37:40.878Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions 200
[debug] [2023-01-30T10:37:40.883Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-01-30T10:37:40.885Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/todoapp-65153/serviceAccounts/todoapp-65153@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2023-01-30T10:37:40.886Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/todoapp-65153/serviceAccounts/todoapp-65153@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-01-30T10:37:42.013Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/todoapp-65153/serviceAccounts/todoapp-65153@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2023-01-30T10:37:42.018Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/todoapp-65153/serviceAccounts/todoapp-65153@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'todoapp-65153'...
[info] 
[info] i  deploying functions 
[debug] [2023-01-30T10:37:42.024Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 [none]
[debug] [2023-01-30T10:37:42.416Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 200
[debug] [2023-01-30T10:37:42.418Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 {"projectId":"todoapp-65153","projectNumber":"171978637376","displayName":"TodoApp","name":"projects/todoapp-65153","resources":{"hostingSite":"todoapp-65153","storageBucket":"todoapp-65153.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_d84f8fcc-8c68-40e1-ad99-08ccc732edb5"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2023-01-30T10:37:42.424Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/cloudfunctions.googleapis.com [none]
[debug] [2023-01-30T10:37:42.425Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/todoapp-65153
[debug] [2023-01-30T10:37:42.436Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/runtimeconfig.googleapis.com [none]
[debug] [2023-01-30T10:37:42.437Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/todoapp-65153
[debug] [2023-01-30T10:37:42.449Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/cloudbuild.googleapis.com [none]
[debug] [2023-01-30T10:37:42.451Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/cloudbuild.googleapis.com x-goog-quota-user=projects/todoapp-65153
[debug] [2023-01-30T10:37:42.455Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/artifactregistry.googleapis.com [none]
[debug] [2023-01-30T10:37:42.455Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/artifactregistry.googleapis.com x-goog-quota-user=projects/todoapp-65153
[debug] [2023-01-30T10:37:43.989Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/runtimeconfig.googleapis.com 200
[debug] [2023-01-30T10:37:43.991Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/runtimeconfig.googleapis.com [omitted]
[debug] [2023-01-30T10:37:43.994Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/artifactregistry.googleapis.com 200
[debug] [2023-01-30T10:37:43.995Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2023-01-30T10:37:43.998Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/cloudfunctions.googleapis.com 200
[debug] [2023-01-30T10:37:43.998Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2023-01-30T10:37:44.001Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/cloudbuild.googleapis.com 200
[debug] [2023-01-30T10:37:44.002Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2023-01-30T10:37:44.003Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig [none]
[debug] [2023-01-30T10:37:44.354Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig 200
[debug] [2023-01-30T10:37:44.357Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig {"projectId":"todoapp-65153","storageBucket":"todoapp-65153.appspot.com","locationId":"us-central"}
[debug] [2023-01-30T10:37:44.360Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/todoapp-65153/configs [none]
[debug] [2023-01-30T10:37:44.776Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/todoapp-65153/configs 200
[debug] [2023-01-30T10:37:44.782Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/todoapp-65153/configs {}
[debug] [2023-01-30T10:37:44.789Z] Validating nodejs source
[debug] [2023-01-30T10:37:45.736Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-30T10:37:45.737Z] Building nodejs source
[debug] [2023-01-30T10:37:45.738Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-30T10:37:46.116Z] Serving at port 9005

[debug] [2023-01-30T10:37:46.526Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-30T10:37:46.540Z] shutdown requested via /__/quitquitquit

[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/ryanguai/DCO-Tutorial/functions (59.5 KB) for uploading 
[debug] [2023-01-30T10:37:46.642Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/-/functions [none]
[debug] [2023-01-30T10:37:47.224Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/-/functions 200
[debug] [2023-01-30T10:37:47.224Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/-/functions {"functions":[{"name":"projects/todoapp-65153/locations/us-central1/functions/api","httpsTrigger":{"url":"https://us-central1-todoapp-65153.cloudfunctions.net/api","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"api","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"todoapp-65153@appspot.gserviceaccount.com","updateTime":"2023-01-15T08:46:26.409Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"c8a151dec141459f0b788d55b3da1965a3eef8ec"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/bf322b94-439d-4c62-8344-9d0047a10b85.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"runtime":"nodejs16","ingressSettings":"ALLOW_ALL","buildId":"cde7acda-5096-4f8a-a10f-65a19397ee2f","buildName":"projects/171978637376/locations/us-central1/builds/cde7acda-5096-4f8a-a10f-65a19397ee2f","dockerRegistry":"ARTIFACT_REGISTRY"}]}
[debug] [2023-01-30T10:37:47.227Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/todoapp-65153/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2023-01-30T10:37:48.965Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/todoapp-65153/locations/-/functions 200
[debug] [2023-01-30T10:37:48.965Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/todoapp-65153/locations/-/functions {}
[debug] [2023-01-30T10:37:48.974Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 [none]
[debug] [2023-01-30T10:37:49.308Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 200
[debug] [2023-01-30T10:37:49.314Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 {"projectId":"todoapp-65153","projectNumber":"171978637376","displayName":"TodoApp","name":"projects/todoapp-65153","resources":{"hostingSite":"todoapp-65153","storageBucket":"todoapp-65153.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_d84f8fcc-8c68-40e1-ad99-08ccc732edb5"}
[debug] [2023-01-30T10:37:49.318Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2023-01-30T10:37:49.318Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/us-central1/functions:generateUploadUrl {}
[debug] [2023-01-30T10:37:50.114Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/us-central1/functions:generateUploadUrl 200
[debug] [2023-01-30T10:37:50.119Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/c996e4d6-a9e6-4217-b26a-405ee5946eb2.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675076869&Signature=I6guKrSyiHVuTyp5iV1LhwPcoXKYKlmvQmDNKDipizCChw%2BZEZ4IX%2BSerjCdBbbO1ocP1dcURF2vatI7hf82781qixCn6fgRDeTOn55Hk38ta%2BFo2fZoz2j1T6UdFgKnLyutu7AYbWOb1vXpQWajjPojl57A7lAbA2pjgNKbxZeqJjGkmf0j0O5O7S%2BIAxG7Kv1WNayogdezMjyxGmQfx8n3LQ4KmObjQFvCjkxrGdsHEr%2BHR7FR9Ijjqe2R1ggxatlqAXYa3f%2F1ESlxV%2FmrD%2FSjb0A%2FtriM9WQv35sdLdEwqcESOcvLpEXcnlqiuMKwXjh4HlzGPHH%2FTmvJ1W2xSA%3D%3D"}
[debug] [2023-01-30T10:37:50.124Z] >>> [apiv2][query] PUT https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/c996e4d6-a9e6-4217-b26a-405ee5946eb2.zip GoogleAccessId=service-171978637376%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1675076869&Signature=I6guKrSyiHVuTyp5iV1LhwPcoXKYKlmvQmDNKDipizCChw%2BZEZ4IX%2BSerjCdBbbO1ocP1dcURF2vatI7hf82781qixCn6fgRDeTOn55Hk38ta%2BFo2fZoz2j1T6UdFgKnLyutu7AYbWOb1vXpQWajjPojl57A7lAbA2pjgNKbxZeqJjGkmf0j0O5O7S%2BIAxG7Kv1WNayogdezMjyxGmQfx8n3LQ4KmObjQFvCjkxrGdsHEr%2BHR7FR9Ijjqe2R1ggxatlqAXYa3f%2F1ESlxV%2FmrD%2FSjb0A%2FtriM9WQv35sdLdEwqcESOcvLpEXcnlqiuMKwXjh4HlzGPHH%2FTmvJ1W2xSA%3D%3D
[debug] [2023-01-30T10:37:50.124Z] >>> [apiv2][body] PUT https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/c996e4d6-a9e6-4217-b26a-405ee5946eb2.zip [stream]
[debug] [2023-01-30T10:37:50.726Z] <<< [apiv2][status] PUT https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/c996e4d6-a9e6-4217-b26a-405ee5946eb2.zip 200
[debug] [2023-01-30T10:37:50.727Z] <<< [apiv2][body] PUT https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/c996e4d6-a9e6-4217-b26a-405ee5946eb2.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] i  functions: updating Node.js 16 function api(us-central1)... 
[debug] [2023-01-30T10:37:50.742Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/us-central1/functions/api updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken
[debug] [2023-01-30T10:37:50.742Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/us-central1/functions/api {"name":"projects/todoapp-65153/locations/us-central1/functions/api","sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/c996e4d6-a9e6-4217-b26a-405ee5946eb2.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675076869&Signature=I6guKrSyiHVuTyp5iV1LhwPcoXKYKlmvQmDNKDipizCChw%2BZEZ4IX%2BSerjCdBbbO1ocP1dcURF2vatI7hf82781qixCn6fgRDeTOn55Hk38ta%2BFo2fZoz2j1T6UdFgKnLyutu7AYbWOb1vXpQWajjPojl57A7lAbA2pjgNKbxZeqJjGkmf0j0O5O7S%2BIAxG7Kv1WNayogdezMjyxGmQfx8n3LQ4KmObjQFvCjkxrGdsHEr%2BHR7FR9Ijjqe2R1ggxatlqAXYa3f%2F1ESlxV%2FmrD%2FSjb0A%2FtriM9WQv35sdLdEwqcESOcvLpEXcnlqiuMKwXjh4HlzGPHH%2FTmvJ1W2xSA%3D%3D","entryPoint":"api","runtime":"nodejs16","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null}
[debug] [2023-01-30T10:37:51.421Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/us-central1/functions/api 200
[debug] [2023-01-30T10:37:51.422Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/us-central1/functions/api {"name":"operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvdnNUYU1EMk9Pemc","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/todoapp-65153/locations/us-central1/functions/api","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/todoapp-65153/locations/us-central1/functions/api","httpsTrigger":{"url":"https://us-central1-todoapp-65153.cloudfunctions.net/api","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"api","updateTime":"2023-01-15T08:46:26.409Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/c996e4d6-a9e6-4217-b26a-405ee5946eb2.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675076869&Signature=I6guKrSyiHVuTyp5iV1LhwPcoXKYKlmvQmDNKDipizCChw%2BZEZ4IX%2BSerjCdBbbO1ocP1dcURF2vatI7hf82781qixCn6fgRDeTOn55Hk38ta%2BFo2fZoz2j1T6UdFgKnLyutu7AYbWOb1vXpQWajjPojl57A7lAbA2pjgNKbxZeqJjGkmf0j0O5O7S%2BIAxG7Kv1WNayogdezMjyxGmQfx8n3LQ4KmObjQFvCjkxrGdsHEr%2BHR7FR9Ijjqe2R1ggxatlqAXYa3f%2F1ESlxV%2FmrD%2FSjb0A%2FtriM9WQv35sdLdEwqcESOcvLpEXcnlqiuMKwXjh4HlzGPHH%2FTmvJ1W2xSA%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"runtime":"nodejs16","buildId":"cde7acda-5096-4f8a-a10f-65a19397ee2f","buildName":"projects/171978637376/locations/us-central1/builds/cde7acda-5096-4f8a-a10f-65a19397ee2f","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"8","updateTime":"2023-01-30T10:37:51Z"}}
[debug] [2023-01-30T10:37:51.425Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvdnNUYU1EMk9Pemc [none]
[debug] [2023-01-30T10:37:51.827Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvdnNUYU1EMk9Pemc 200
[debug] [2023-01-30T10:37:51.827Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvdnNUYU1EMk9Pemc {"name":"operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvdnNUYU1EMk9Pemc","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/todoapp-65153/locations/us-central1/functions/api","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/todoapp-65153/locations/us-central1/functions/api","httpsTrigger":{"url":"https://us-central1-todoapp-65153.cloudfunctions.net/api","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"api","updateTime":"2023-01-15T08:46:26.409Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/c996e4d6-a9e6-4217-b26a-405ee5946eb2.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675076869&Signature=I6guKrSyiHVuTyp5iV1LhwPcoXKYKlmvQmDNKDipizCChw%2BZEZ4IX%2BSerjCdBbbO1ocP1dcURF2vatI7hf82781qixCn6fgRDeTOn55Hk38ta%2BFo2fZoz2j1T6UdFgKnLyutu7AYbWOb1vXpQWajjPojl57A7lAbA2pjgNKbxZeqJjGkmf0j0O5O7S%2BIAxG7Kv1WNayogdezMjyxGmQfx8n3LQ4KmObjQFvCjkxrGdsHEr%2BHR7FR9Ijjqe2R1ggxatlqAXYa3f%2F1ESlxV%2FmrD%2FSjb0A%2FtriM9WQv35sdLdEwqcESOcvLpEXcnlqiuMKwXjh4HlzGPHH%2FTmvJ1W2xSA%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"runtime":"nodejs16","buildId":"cde7acda-5096-4f8a-a10f-65a19397ee2f","buildName":"projects/171978637376/locations/us-central1/builds/cde7acda-5096-4f8a-a10f-65a19397ee2f","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"8","updateTime":"2023-01-30T10:37:51Z"}}
[debug] [2023-01-30T10:37:52.336Z] [update-default-us-central1-api] Retrying task index 0
[debug] [2023-01-30T10:37:52.339Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvdnNUYU1EMk9Pemc [none]
[debug] [2023-01-30T10:37:52.758Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvdnNUYU1EMk9Pemc 200
[debug] [2023-01-30T10:37:52.758Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvdnNUYU1EMk9Pemc {"name":"operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvdnNUYU1EMk9Pemc","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/todoapp-65153/locations/us-central1/functions/api","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/todoapp-65153/locations/us-central1/functions/api","httpsTrigger":{"url":"https://us-central1-todoapp-65153.cloudfunctions.net/api","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"api","updateTime":"2023-01-15T08:46:26.409Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/c996e4d6-a9e6-4217-b26a-405ee5946eb2.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675076869&Signature=I6guKrSyiHVuTyp5iV1LhwPcoXKYKlmvQmDNKDipizCChw%2BZEZ4IX%2BSerjCdBbbO1ocP1dcURF2vatI7hf82781qixCn6fgRDeTOn55Hk38ta%2BFo2fZoz2j1T6UdFgKnLyutu7AYbWOb1vXpQWajjPojl57A7lAbA2pjgNKbxZeqJjGkmf0j0O5O7S%2BIAxG7Kv1WNayogdezMjyxGmQfx8n3LQ4KmObjQFvCjkxrGdsHEr%2BHR7FR9Ijjqe2R1ggxatlqAXYa3f%2F1ESlxV%2FmrD%2FSjb0A%2FtriM9WQv35sdLdEwqcESOcvLpEXcnlqiuMKwXjh4HlzGPHH%2FTmvJ1W2xSA%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"runtime":"nodejs16","buildId":"cde7acda-5096-4f8a-a10f-65a19397ee2f","buildName":"projects/171978637376/locations/us-central1/builds/cde7acda-5096-4f8a-a10f-65a19397ee2f","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"8","updateTime":"2023-01-30T10:37:51Z","buildId":"ddac6e15-dd3c-4a22-81c3-94d3caaf519d","buildName":"projects/171978637376/locations/us-central1/builds/ddac6e15-dd3c-4a22-81c3-94d3caaf519d"}}
[debug] [2023-01-30T10:37:53.764Z] [update-default-us-central1-api] Retrying task index 0
[debug] [2023-01-30T10:37:53.767Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvdnNUYU1EMk9Pemc [none]
[debug] [2023-01-30T10:37:54.186Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvdnNUYU1EMk9Pemc 200
[debug] [2023-01-30T10:37:54.188Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvdnNUYU1EMk9Pemc {"name":"operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvdnNUYU1EMk9Pemc","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/todoapp-65153/locations/us-central1/functions/api","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/todoapp-65153/locations/us-central1/functions/api","httpsTrigger":{"url":"https://us-central1-todoapp-65153.cloudfunctions.net/api","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"api","updateTime":"2023-01-15T08:46:26.409Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/c996e4d6-a9e6-4217-b26a-405ee5946eb2.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675076869&Signature=I6guKrSyiHVuTyp5iV1LhwPcoXKYKlmvQmDNKDipizCChw%2BZEZ4IX%2BSerjCdBbbO1ocP1dcURF2vatI7hf82781qixCn6fgRDeTOn55Hk38ta%2BFo2fZoz2j1T6UdFgKnLyutu7AYbWOb1vXpQWajjPojl57A7lAbA2pjgNKbxZeqJjGkmf0j0O5O7S%2BIAxG7Kv1WNayogdezMjyxGmQfx8n3LQ4KmObjQFvCjkxrGdsHEr%2BHR7FR9Ijjqe2R1ggxatlqAXYa3f%2F1ESlxV%2FmrD%2FSjb0A%2FtriM9WQv35sdLdEwqcESOcvLpEXcnlqiuMKwXjh4HlzGPHH%2FTmvJ1W2xSA%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"runtime":"nodejs16","buildId":"cde7acda-5096-4f8a-a10f-65a19397ee2f","buildName":"projects/171978637376/locations/us-central1/builds/cde7acda-5096-4f8a-a10f-65a19397ee2f","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"8","updateTime":"2023-01-30T10:37:51Z","buildId":"ddac6e15-dd3c-4a22-81c3-94d3caaf519d","buildName":"projects/171978637376/locations/us-central1/builds/ddac6e15-dd3c-4a22-81c3-94d3caaf519d"}}
[debug] [2023-01-30T10:37:56.193Z] [update-default-us-central1-api] Retrying task index 0
[debug] [2023-01-30T10:37:56.196Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvdnNUYU1EMk9Pemc [none]
[debug] [2023-01-30T10:37:56.540Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvdnNUYU1EMk9Pemc 200
[debug] [2023-01-30T10:37:56.540Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvdnNUYU1EMk9Pemc {"name":"operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvdnNUYU1EMk9Pemc","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/todoapp-65153/locations/us-central1/functions/api","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/todoapp-65153/locations/us-central1/functions/api","httpsTrigger":{"url":"https://us-central1-todoapp-65153.cloudfunctions.net/api","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"api","updateTime":"2023-01-15T08:46:26.409Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/c996e4d6-a9e6-4217-b26a-405ee5946eb2.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675076869&Signature=I6guKrSyiHVuTyp5iV1LhwPcoXKYKlmvQmDNKDipizCChw%2BZEZ4IX%2BSerjCdBbbO1ocP1dcURF2vatI7hf82781qixCn6fgRDeTOn55Hk38ta%2BFo2fZoz2j1T6UdFgKnLyutu7AYbWOb1vXpQWajjPojl57A7lAbA2pjgNKbxZeqJjGkmf0j0O5O7S%2BIAxG7Kv1WNayogdezMjyxGmQfx8n3LQ4KmObjQFvCjkxrGdsHEr%2BHR7FR9Ijjqe2R1ggxatlqAXYa3f%2F1ESlxV%2FmrD%2FSjb0A%2FtriM9WQv35sdLdEwqcESOcvLpEXcnlqiuMKwXjh4HlzGPHH%2FTmvJ1W2xSA%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"runtime":"nodejs16","buildId":"cde7acda-5096-4f8a-a10f-65a19397ee2f","buildName":"projects/171978637376/locations/us-central1/builds/cde7acda-5096-4f8a-a10f-65a19397ee2f","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"8","updateTime":"2023-01-30T10:37:51Z","buildId":"ddac6e15-dd3c-4a22-81c3-94d3caaf519d","buildName":"projects/171978637376/locations/us-central1/builds/ddac6e15-dd3c-4a22-81c3-94d3caaf519d"}}
[debug] [2023-01-30T10:38:00.550Z] [update-default-us-central1-api] Retrying task index 0
[debug] [2023-01-30T10:38:00.562Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvdnNUYU1EMk9Pemc [none]
[debug] [2023-01-30T10:38:00.950Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvdnNUYU1EMk9Pemc 200
[debug] [2023-01-30T10:38:00.950Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvdnNUYU1EMk9Pemc {"name":"operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvdnNUYU1EMk9Pemc","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/todoapp-65153/locations/us-central1/functions/api","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/todoapp-65153/locations/us-central1/functions/api","httpsTrigger":{"url":"https://us-central1-todoapp-65153.cloudfunctions.net/api","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"api","updateTime":"2023-01-15T08:46:26.409Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/c996e4d6-a9e6-4217-b26a-405ee5946eb2.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675076869&Signature=I6guKrSyiHVuTyp5iV1LhwPcoXKYKlmvQmDNKDipizCChw%2BZEZ4IX%2BSerjCdBbbO1ocP1dcURF2vatI7hf82781qixCn6fgRDeTOn55Hk38ta%2BFo2fZoz2j1T6UdFgKnLyutu7AYbWOb1vXpQWajjPojl57A7lAbA2pjgNKbxZeqJjGkmf0j0O5O7S%2BIAxG7Kv1WNayogdezMjyxGmQfx8n3LQ4KmObjQFvCjkxrGdsHEr%2BHR7FR9Ijjqe2R1ggxatlqAXYa3f%2F1ESlxV%2FmrD%2FSjb0A%2FtriM9WQv35sdLdEwqcESOcvLpEXcnlqiuMKwXjh4HlzGPHH%2FTmvJ1W2xSA%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"runtime":"nodejs16","buildId":"cde7acda-5096-4f8a-a10f-65a19397ee2f","buildName":"projects/171978637376/locations/us-central1/builds/cde7acda-5096-4f8a-a10f-65a19397ee2f","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"8","updateTime":"2023-01-30T10:37:51Z","buildId":"ddac6e15-dd3c-4a22-81c3-94d3caaf519d","buildName":"projects/171978637376/locations/us-central1/builds/ddac6e15-dd3c-4a22-81c3-94d3caaf519d"}}
[debug] [2023-01-30T10:38:08.958Z] [update-default-us-central1-api] Retrying task index 0
[debug] [2023-01-30T10:38:08.965Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvdnNUYU1EMk9Pemc [none]
[debug] [2023-01-30T10:38:09.446Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvdnNUYU1EMk9Pemc 200
[debug] [2023-01-30T10:38:09.447Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvdnNUYU1EMk9Pemc {"name":"operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvdnNUYU1EMk9Pemc","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/todoapp-65153/locations/us-central1/functions/api","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/todoapp-65153/locations/us-central1/functions/api","httpsTrigger":{"url":"https://us-central1-todoapp-65153.cloudfunctions.net/api","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"api","updateTime":"2023-01-15T08:46:26.409Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/c996e4d6-a9e6-4217-b26a-405ee5946eb2.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675076869&Signature=I6guKrSyiHVuTyp5iV1LhwPcoXKYKlmvQmDNKDipizCChw%2BZEZ4IX%2BSerjCdBbbO1ocP1dcURF2vatI7hf82781qixCn6fgRDeTOn55Hk38ta%2BFo2fZoz2j1T6UdFgKnLyutu7AYbWOb1vXpQWajjPojl57A7lAbA2pjgNKbxZeqJjGkmf0j0O5O7S%2BIAxG7Kv1WNayogdezMjyxGmQfx8n3LQ4KmObjQFvCjkxrGdsHEr%2BHR7FR9Ijjqe2R1ggxatlqAXYa3f%2F1ESlxV%2FmrD%2FSjb0A%2FtriM9WQv35sdLdEwqcESOcvLpEXcnlqiuMKwXjh4HlzGPHH%2FTmvJ1W2xSA%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"runtime":"nodejs16","buildId":"cde7acda-5096-4f8a-a10f-65a19397ee2f","buildName":"projects/171978637376/locations/us-central1/builds/cde7acda-5096-4f8a-a10f-65a19397ee2f","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"8","updateTime":"2023-01-30T10:37:51Z","buildId":"ddac6e15-dd3c-4a22-81c3-94d3caaf519d","buildName":"projects/171978637376/locations/us-central1/builds/ddac6e15-dd3c-4a22-81c3-94d3caaf519d"}}
[debug] [2023-01-30T10:38:19.455Z] [update-default-us-central1-api] Retrying task index 0
[debug] [2023-01-30T10:38:19.463Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvdnNUYU1EMk9Pemc [none]
[debug] [2023-01-30T10:38:19.842Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvdnNUYU1EMk9Pemc 200
[debug] [2023-01-30T10:38:19.845Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvdnNUYU1EMk9Pemc {"name":"operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvdnNUYU1EMk9Pemc","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/todoapp-65153/locations/us-central1/functions/api","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/todoapp-65153/locations/us-central1/functions/api","httpsTrigger":{"url":"https://us-central1-todoapp-65153.cloudfunctions.net/api","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"api","updateTime":"2023-01-15T08:46:26.409Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/c996e4d6-a9e6-4217-b26a-405ee5946eb2.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675076869&Signature=I6guKrSyiHVuTyp5iV1LhwPcoXKYKlmvQmDNKDipizCChw%2BZEZ4IX%2BSerjCdBbbO1ocP1dcURF2vatI7hf82781qixCn6fgRDeTOn55Hk38ta%2BFo2fZoz2j1T6UdFgKnLyutu7AYbWOb1vXpQWajjPojl57A7lAbA2pjgNKbxZeqJjGkmf0j0O5O7S%2BIAxG7Kv1WNayogdezMjyxGmQfx8n3LQ4KmObjQFvCjkxrGdsHEr%2BHR7FR9Ijjqe2R1ggxatlqAXYa3f%2F1ESlxV%2FmrD%2FSjb0A%2FtriM9WQv35sdLdEwqcESOcvLpEXcnlqiuMKwXjh4HlzGPHH%2FTmvJ1W2xSA%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"runtime":"nodejs16","buildId":"cde7acda-5096-4f8a-a10f-65a19397ee2f","buildName":"projects/171978637376/locations/us-central1/builds/cde7acda-5096-4f8a-a10f-65a19397ee2f","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"8","updateTime":"2023-01-30T10:37:51Z","buildId":"ddac6e15-dd3c-4a22-81c3-94d3caaf519d","buildName":"projects/171978637376/locations/us-central1/builds/ddac6e15-dd3c-4a22-81c3-94d3caaf519d"}}
[debug] [2023-01-30T10:38:29.852Z] [update-default-us-central1-api] Retrying task index 0
[debug] [2023-01-30T10:38:29.865Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvdnNUYU1EMk9Pemc [none]
[debug] [2023-01-30T10:38:30.327Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvdnNUYU1EMk9Pemc 200
[debug] [2023-01-30T10:38:30.330Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvdnNUYU1EMk9Pemc {"name":"operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvdnNUYU1EMk9Pemc","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/todoapp-65153/locations/us-central1/functions/api","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/todoapp-65153/locations/us-central1/functions/api","httpsTrigger":{"url":"https://us-central1-todoapp-65153.cloudfunctions.net/api","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"api","updateTime":"2023-01-15T08:46:26.409Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/c996e4d6-a9e6-4217-b26a-405ee5946eb2.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675076869&Signature=I6guKrSyiHVuTyp5iV1LhwPcoXKYKlmvQmDNKDipizCChw%2BZEZ4IX%2BSerjCdBbbO1ocP1dcURF2vatI7hf82781qixCn6fgRDeTOn55Hk38ta%2BFo2fZoz2j1T6UdFgKnLyutu7AYbWOb1vXpQWajjPojl57A7lAbA2pjgNKbxZeqJjGkmf0j0O5O7S%2BIAxG7Kv1WNayogdezMjyxGmQfx8n3LQ4KmObjQFvCjkxrGdsHEr%2BHR7FR9Ijjqe2R1ggxatlqAXYa3f%2F1ESlxV%2FmrD%2FSjb0A%2FtriM9WQv35sdLdEwqcESOcvLpEXcnlqiuMKwXjh4HlzGPHH%2FTmvJ1W2xSA%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"runtime":"nodejs16","buildId":"cde7acda-5096-4f8a-a10f-65a19397ee2f","buildName":"projects/171978637376/locations/us-central1/builds/cde7acda-5096-4f8a-a10f-65a19397ee2f","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"8","updateTime":"2023-01-30T10:38:27Z","buildId":"ddac6e15-dd3c-4a22-81c3-94d3caaf519d","buildName":"projects/171978637376/locations/us-central1/builds/ddac6e15-dd3c-4a22-81c3-94d3caaf519d"},"done":true,"error":{"code":3,"message":"Build failed: ... Missing: @types/fs-extra@8.1.2 from lock file\nnpm ERR! Missing: lodash.at@4.6.0 from lock file\nnpm ERR! Missing: lodash.has@4.5.2 from lock file\nnpm ERR! Missing: semver@6.3.0 from lock file\nnpm ERR! Missing: walkdir@0.4.1 from lock file\nnpm ERR! Missing: gaxios@2.3.4 from lock file\nnpm ERR! Invalid: lock file's google-p12-pem@3.1.4 does not satisfy google-p12-pem@2.0.5\nnpm ERR! Missing: node-forge@0.10.0 from lock file\nnpm ERR! Missing: has-tostringtag@1.0.0 from lock file\nnpm ERR! Missing: is-typed-array@1.1.10 from lock file\nnpm ERR! Missing: available-typed-arrays@1.0.5 from lock file\nnpm ERR! Missing: for-each@0.3.3 from lock file\nnpm ERR! Missing: gopd@1.0.1 from lock file\nnpm ERR! Missing: is-callable@1.2.7 from lock file\nnpm ERR! Invalid: lock file's yallist@4.0.0 does not satisfy yallist@3.1.1\nnpm ERR! Missing: define-properties@1.1.4 from lock file\nnpm ERR! Missing: has-property-descriptors@1.0.0 from lock file\nnpm ERR! Missing: mimic-fn@2.1.0 from lock file\nnpm ERR! Missing: p-try@2.2.0 from lock file\nnpm ERR! Missing: duplexify@4.1.2 from lock file\nnpm ERR! Missing: functions-have-names@1.2.3 from lock file\nnpm ERR! Missing: internal-slot@1.0.4 from lock file\nnpm ERR! Invalid: lock file's http-proxy-agent@5.0.0 does not satisfy http-proxy-agent@4.0.1\nnpm ERR! Invalid: lock file's uuid@8.3.2 does not satisfy uuid@7.0.3\nnpm ERR! Invalid: lock file's @tootallnate/once@2.0.0 does not satisfy @tootallnate/once@1.1.2\nnpm ERR! Missing: is-bigint@1.0.4 from lock file\nnpm ERR! Missing: is-boolean-object@1.1.2 from lock file\nnpm ERR! Missing: is-number-object@1.0.7 from lock file\nnpm ERR! Missing: is-symbol@1.0.4 from lock file\nnpm ERR! Missing: has-bigints@1.0.2 from lock file\nnpm ERR! Missing: is-weakmap@2.0.1 from lock file\nnpm ERR! Missing: is-weakset@2.0.2 from lock file\nnpm ERR! Missing: core-util-is@1.0.3 from lock file\nnpm ERR! Missing: isarray@1.0.0 from lock file\nnpm ERR! Missing: process-nextick-args@2.0.1 from lock file\nnpm ERR! Missing: safe-buffer@5.1.2 from lock file\nnpm ERR! Missing: string_decoder@1.1.1 from lock file\nnpm ERR! \nnpm ERR! Clean install a project\nnpm ERR! \nnpm ERR! Usage:\nnpm ERR! npm ci\nnpm ERR! \nnpm ERR! Options:\nnpm ERR! [-S|--save|--no-save|--save-prod|--save-dev|--save-optional|--save-peer|--save-bundle]\nnpm ERR! [-E|--save-exact] [-g|--global] [--global-style] [--legacy-bundling]\nnpm ERR! [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm ERR! [--strict-peer-deps] [--no-package-lock] [--foreground-scripts]\nnpm ERR! [--ignore-scripts] [--no-audit] [--no-bin-links] [--no-fund] [--dry-run]\nnpm ERR! [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm ERR! [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm ERR! \nnpm ERR! aliases: clean-install, ic, install-clean, isntall-clean\nnpm ERR! \nnpm ERR! Run \"npm help ci\" for more info\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /www-data-home/.npm/_logs/2023-01-30T10_38_17_983Z-debug-0.log; Error ID: beaf8772"}}
[debug] [2023-01-30T10:38:30.330Z] Got source token undefined for region us-central1
[error] Build failed: ... Missing: @types/fs-extra@8.1.2 from lock file
npm ERR! Missing: lodash.at@4.6.0 from lock file
npm ERR! Missing: lodash.has@4.5.2 from lock file
npm ERR! Missing: semver@6.3.0 from lock file
npm ERR! Missing: walkdir@0.4.1 from lock file
npm ERR! Missing: gaxios@2.3.4 from lock file
npm ERR! Invalid: lock file's google-p12-pem@3.1.4 does not satisfy google-p12-pem@2.0.5
npm ERR! Missing: node-forge@0.10.0 from lock file
npm ERR! Missing: has-tostringtag@1.0.0 from lock file
npm ERR! Missing: is-typed-array@1.1.10 from lock file
npm ERR! Missing: available-typed-arrays@1.0.5 from lock file
npm ERR! Missing: for-each@0.3.3 from lock file
npm ERR! Missing: gopd@1.0.1 from lock file
npm ERR! Missing: is-callable@1.2.7 from lock file
npm ERR! Invalid: lock file's yallist@4.0.0 does not satisfy yallist@3.1.1
npm ERR! Missing: define-properties@1.1.4 from lock file
npm ERR! Missing: has-property-descriptors@1.0.0 from lock file
npm ERR! Missing: mimic-fn@2.1.0 from lock file
npm ERR! Missing: p-try@2.2.0 from lock file
npm ERR! Missing: duplexify@4.1.2 from lock file
npm ERR! Missing: functions-have-names@1.2.3 from lock file
npm ERR! Missing: internal-slot@1.0.4 from lock file
npm ERR! Invalid: lock file's http-proxy-agent@5.0.0 does not satisfy http-proxy-agent@4.0.1
npm ERR! Invalid: lock file's uuid@8.3.2 does not satisfy uuid@7.0.3
npm ERR! Invalid: lock file's @tootallnate/once@2.0.0 does not satisfy @tootallnate/once@1.1.2
npm ERR! Missing: is-bigint@1.0.4 from lock file
npm ERR! Missing: is-boolean-object@1.1.2 from lock file
npm ERR! Missing: is-number-object@1.0.7 from lock file
npm ERR! Missing: is-symbol@1.0.4 from lock file
npm ERR! Missing: has-bigints@1.0.2 from lock file
npm ERR! Missing: is-weakmap@2.0.1 from lock file
npm ERR! Missing: is-weakset@2.0.2 from lock file
npm ERR! Missing: core-util-is@1.0.3 from lock file
npm ERR! Missing: isarray@1.0.0 from lock file
npm ERR! Missing: process-nextick-args@2.0.1 from lock file
npm ERR! Missing: safe-buffer@5.1.2 from lock file
npm ERR! Missing: string_decoder@1.1.1 from lock file
npm ERR! 
npm ERR! Clean install a project
npm ERR! 
npm ERR! Usage:
npm ERR! npm ci
npm ERR! 
npm ERR! Options:
npm ERR! [-S|--save|--no-save|--save-prod|--save-dev|--save-optional|--save-peer|--save-bundle]
npm ERR! [-E|--save-exact] [-g|--global] [--global-style] [--legacy-bundling]
npm ERR! [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]
npm ERR! [--strict-peer-deps] [--no-package-lock] [--foreground-scripts]
npm ERR! [--ignore-scripts] [--no-audit] [--no-bin-links] [--no-fund] [--dry-run]
npm ERR! [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]
npm ERR! [-ws|--workspaces] [--include-workspace-root] [--install-links]
npm ERR! 
npm ERR! aliases: clean-install, ic, install-clean, isntall-clean
npm ERR! 
npm ERR! Run "npm help ci" for more info

npm ERR! A complete log of this run can be found in:
npm ERR!     /www-data-home/.npm/_logs/2023-01-30T10_38_17_983Z-debug-0.log; Error ID: beaf8772
[debug] [2023-01-30T10:38:30.372Z] Total Function Deployment time: 39634
[debug] [2023-01-30T10:38:30.372Z] 1 Functions Deployed
[debug] [2023-01-30T10:38:30.372Z] 1 Functions Errored
[debug] [2023-01-30T10:38:30.373Z] 0 Function Deployments Aborted
[debug] [2023-01-30T10:38:30.373Z] Average Function Deployment time: 39632
[info] 
[info] Functions deploy had errors with the following functions:
	api(us-central1)
[debug] [2023-01-30T10:38:30.374Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[info] i  functions: cleaning up build files... 
[debug] [2023-01-30T10:38:30.376Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/todoapp-65153/locations/us-central1/repositories/gcf-artifacts/packages/api [none]
[debug] [2023-01-30T10:38:30.378Z] >>> [apiv2][query] GET https://us.gcr.io/v2/todoapp-65153/gcf/us-central1/tags/list [none]
[debug] [2023-01-30T10:38:30.738Z] <<< [apiv2][status] GET https://us.gcr.io/v2/todoapp-65153/gcf/us-central1/tags/list 200
[debug] [2023-01-30T10:38:30.738Z] <<< [apiv2][body] GET https://us.gcr.io/v2/todoapp-65153/gcf/us-central1/tags/list {"child":[],"manifest":{},"name":"todoapp-65153/gcf/us-central1","tags":[]}
[debug] [2023-01-30T10:38:30.739Z] Could not find image for function projects/todoapp-65153/locations/us-central1/functions/api
[debug] [2023-01-30T10:38:31.760Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/todoapp-65153/locations/us-central1/repositories/gcf-artifacts/packages/api 404
[debug] [2023-01-30T10:38:31.760Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/todoapp-65153/locations/us-central1/repositories/gcf-artifacts/packages/api {"error":{"code":404,"message":"Package \"projects/todoapp-65153/locations/us-central1/repositories/gcf-artifacts/packages/api\" was not found.","status":"NOT_FOUND"}}
[debug] [2023-01-30T10:38:31.765Z] Functions deploy failed.
[debug] [2023-01-30T10:38:31.766Z] {
  "endpoint": {
    "id": "api",
    "project": "todoapp-65153",
    "region": "us-central1",
    "entryPoint": "api",
    "platform": "gcfv1",
    "runtime": "nodejs16",
    "httpsTrigger": {},
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}",
      "GCLOUD_PROJECT": "todoapp-65153",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/todoapp-65153/locations/us-central1/functions/api"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f",
    "labels": {
      "deployment-tool": "cli-firebase"
    }
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Build failed: ... Missing: @types/fs-extra@8.1.2 from lock file\nnpm ERR! Missing: lodash.at@4.6.0 from lock file\nnpm ERR! Missing: lodash.has@4.5.2 from lock file\nnpm ERR! Missing: semver@6.3.0 from lock file\nnpm ERR! Missing: walkdir@0.4.1 from lock file\nnpm ERR! Missing: gaxios@2.3.4 from lock file\nnpm ERR! Invalid: lock file's google-p12-pem@3.1.4 does not satisfy google-p12-pem@2.0.5\nnpm ERR! Missing: node-forge@0.10.0 from lock file\nnpm ERR! Missing: has-tostringtag@1.0.0 from lock file\nnpm ERR! Missing: is-typed-array@1.1.10 from lock file\nnpm ERR! Missing: available-typed-arrays@1.0.5 from lock file\nnpm ERR! Missing: for-each@0.3.3 from lock file\nnpm ERR! Missing: gopd@1.0.1 from lock file\nnpm ERR! Missing: is-callable@1.2.7 from lock file\nnpm ERR! Invalid: lock file's yallist@4.0.0 does not satisfy yallist@3.1.1\nnpm ERR! Missing: define-properties@1.1.4 from lock file\nnpm ERR! Missing: has-property-descriptors@1.0.0 from lock file\nnpm ERR! Missing: mimic-fn@2.1.0 from lock file\nnpm ERR! Missing: p-try@2.2.0 from lock file\nnpm ERR! Missing: duplexify@4.1.2 from lock file\nnpm ERR! Missing: functions-have-names@1.2.3 from lock file\nnpm ERR! Missing: internal-slot@1.0.4 from lock file\nnpm ERR! Invalid: lock file's http-proxy-agent@5.0.0 does not satisfy http-proxy-agent@4.0.1\nnpm ERR! Invalid: lock file's uuid@8.3.2 does not satisfy uuid@7.0.3\nnpm ERR! Invalid: lock file's @tootallnate/once@2.0.0 does not satisfy @tootallnate/once@1.1.2\nnpm ERR! Missing: is-bigint@1.0.4 from lock file\nnpm ERR! Missing: is-boolean-object@1.1.2 from lock file\nnpm ERR! Missing: is-number-object@1.0.7 from lock file\nnpm ERR! Missing: is-symbol@1.0.4 from lock file\nnpm ERR! Missing: has-bigints@1.0.2 from lock file\nnpm ERR! Missing: is-weakmap@2.0.1 from lock file\nnpm ERR! Missing: is-weakset@2.0.2 from lock file\nnpm ERR! Missing: core-util-is@1.0.3 from lock file\nnpm ERR! Missing: isarray@1.0.0 from lock file\nnpm ERR! Missing: process-nextick-args@2.0.1 from lock file\nnpm ERR! Missing: safe-buffer@5.1.2 from lock file\nnpm ERR! Missing: string_decoder@1.1.1 from lock file\nnpm ERR! \nnpm ERR! Clean install a project\nnpm ERR! \nnpm ERR! Usage:\nnpm ERR! npm ci\nnpm ERR! \nnpm ERR! Options:\nnpm ERR! [-S|--save|--no-save|--save-prod|--save-dev|--save-optional|--save-peer|--save-bundle]\nnpm ERR! [-E|--save-exact] [-g|--global] [--global-style] [--legacy-bundling]\nnpm ERR! [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm ERR! [--strict-peer-deps] [--no-package-lock] [--foreground-scripts]\nnpm ERR! [--ignore-scripts] [--no-audit] [--no-bin-links] [--no-fund] [--dry-run]\nnpm ERR! [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm ERR! [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm ERR! \nnpm ERR! aliases: clean-install, ic, install-clean, isntall-clean\nnpm ERR! \nnpm ERR! Run \"npm help ci\" for more info\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /www-data-home/.npm/_logs/2023-01-30T10_38_17_983Z-debug-0.log; Error ID: beaf8772",
    "status": 3
  }
}
[debug] [2023-01-30T10:38:31.768Z] Error: Failed to update function api in region us-central1
    at /Users/ryanguai/.npm-global/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:48:11
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Fabricator.updateV1Function (/Users/ryanguai/.npm-global/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:330:32)
    at async Fabricator.updateEndpoint (/Users/ryanguai/.npm-global/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:147:13)
    at async handle (/Users/ryanguai/.npm-global/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:85:17)
[error] 
[error] Error: There was an error deploying functions
[debug] [2023-01-30T10:49:35.658Z] ----------------------------------------------------------------------
[debug] [2023-01-30T10:49:35.659Z] Command:       /usr/local/bin/node /Users/ryanguai/.npm-global/bin/firebase deploy
[debug] [2023-01-30T10:49:35.660Z] CLI Version:   11.21.0
[debug] [2023-01-30T10:49:35.660Z] Platform:      darwin
[debug] [2023-01-30T10:49:35.661Z] Node Version:  v16.13.0
[debug] [2023-01-30T10:49:35.665Z] Time:          Mon Jan 30 2023 18:49:35 GMT+0800 (Singapore Standard Time)
[debug] [2023-01-30T10:49:35.666Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-01-30T10:49:35.766Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-01-30T10:49:35.768Z] > authorizing via signed-in user (e0694442@u.nus.edu)
[debug] [2023-01-30T10:49:35.768Z] [iam] checking project todoapp-65153 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2023-01-30T10:49:35.770Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions [none]
[debug] [2023-01-30T10:49:35.771Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions x-goog-quota-user=projects/todoapp-65153
[debug] [2023-01-30T10:49:35.772Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-01-30T10:49:36.986Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions 200
[debug] [2023-01-30T10:49:36.991Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/todoapp-65153:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-01-30T10:49:36.993Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/todoapp-65153/serviceAccounts/todoapp-65153@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2023-01-30T10:49:36.994Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/todoapp-65153/serviceAccounts/todoapp-65153@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-01-30T10:49:38.093Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/todoapp-65153/serviceAccounts/todoapp-65153@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2023-01-30T10:49:38.095Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/todoapp-65153/serviceAccounts/todoapp-65153@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'todoapp-65153'...
[info] 
[info] i  deploying functions 
[debug] [2023-01-30T10:49:38.102Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 [none]
[debug] [2023-01-30T10:49:38.600Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 200
[debug] [2023-01-30T10:49:38.602Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 {"projectId":"todoapp-65153","projectNumber":"171978637376","displayName":"TodoApp","name":"projects/todoapp-65153","resources":{"hostingSite":"todoapp-65153","storageBucket":"todoapp-65153.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_d84f8fcc-8c68-40e1-ad99-08ccc732edb5"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2023-01-30T10:49:38.607Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/cloudfunctions.googleapis.com [none]
[debug] [2023-01-30T10:49:38.609Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/todoapp-65153
[debug] [2023-01-30T10:49:38.622Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/runtimeconfig.googleapis.com [none]
[debug] [2023-01-30T10:49:38.623Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/todoapp-65153
[debug] [2023-01-30T10:49:38.636Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/cloudbuild.googleapis.com [none]
[debug] [2023-01-30T10:49:38.638Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/cloudbuild.googleapis.com x-goog-quota-user=projects/todoapp-65153
[debug] [2023-01-30T10:49:38.644Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/artifactregistry.googleapis.com [none]
[debug] [2023-01-30T10:49:38.644Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/artifactregistry.googleapis.com x-goog-quota-user=projects/todoapp-65153
[debug] [2023-01-30T10:49:40.180Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/cloudbuild.googleapis.com 200
[debug] [2023-01-30T10:49:40.181Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2023-01-30T10:49:40.187Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/artifactregistry.googleapis.com 200
[debug] [2023-01-30T10:49:40.188Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2023-01-30T10:49:40.192Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/runtimeconfig.googleapis.com 200
[debug] [2023-01-30T10:49:40.193Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/runtimeconfig.googleapis.com [omitted]
[debug] [2023-01-30T10:49:40.194Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/cloudfunctions.googleapis.com 200
[debug] [2023-01-30T10:49:40.194Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/todoapp-65153/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2023-01-30T10:49:40.196Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig [none]
[debug] [2023-01-30T10:49:40.549Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig 200
[debug] [2023-01-30T10:49:40.551Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153/adminSdkConfig {"projectId":"todoapp-65153","storageBucket":"todoapp-65153.appspot.com","locationId":"us-central"}
[debug] [2023-01-30T10:49:40.553Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/todoapp-65153/configs [none]
[debug] [2023-01-30T10:49:40.960Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/todoapp-65153/configs 200
[debug] [2023-01-30T10:49:40.960Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/todoapp-65153/configs {}
[debug] [2023-01-30T10:49:40.969Z] Validating nodejs source
[debug] [2023-01-30T10:49:41.986Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^8.13.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-30T10:49:41.986Z] Building nodejs source
[debug] [2023-01-30T10:49:41.987Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-30T10:49:42.315Z] Serving at port 9005

[debug] [2023-01-30T10:49:42.752Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-30T10:49:42.767Z] shutdown requested via /__/quitquitquit

[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/ryanguai/DCO-Tutorial/functions (59.5 KB) for uploading 
[debug] [2023-01-30T10:49:42.882Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/-/functions [none]
[debug] [2023-01-30T10:49:43.522Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/-/functions 200
[debug] [2023-01-30T10:49:43.523Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/-/functions {"functions":[{"name":"projects/todoapp-65153/locations/us-central1/functions/api","httpsTrigger":{"url":"https://us-central1-todoapp-65153.cloudfunctions.net/api","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"api","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"todoapp-65153@appspot.gserviceaccount.com","updateTime":"2023-01-15T08:46:26.409Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"c8a151dec141459f0b788d55b3da1965a3eef8ec"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/bf322b94-439d-4c62-8344-9d0047a10b85.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"runtime":"nodejs16","ingressSettings":"ALLOW_ALL","buildId":"cde7acda-5096-4f8a-a10f-65a19397ee2f","buildName":"projects/171978637376/locations/us-central1/builds/cde7acda-5096-4f8a-a10f-65a19397ee2f","dockerRegistry":"ARTIFACT_REGISTRY"}]}
[debug] [2023-01-30T10:49:43.525Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/todoapp-65153/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2023-01-30T10:49:45.220Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/todoapp-65153/locations/-/functions 200
[debug] [2023-01-30T10:49:45.226Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/todoapp-65153/locations/-/functions {}
[debug] [2023-01-30T10:49:45.236Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 [none]
[debug] [2023-01-30T10:49:45.547Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 200
[debug] [2023-01-30T10:49:45.548Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/todoapp-65153 {"projectId":"todoapp-65153","projectNumber":"171978637376","displayName":"TodoApp","name":"projects/todoapp-65153","resources":{"hostingSite":"todoapp-65153","storageBucket":"todoapp-65153.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_d84f8fcc-8c68-40e1-ad99-08ccc732edb5"}
[debug] [2023-01-30T10:49:45.553Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2023-01-30T10:49:45.553Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/us-central1/functions:generateUploadUrl {}
[debug] [2023-01-30T10:49:46.384Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/us-central1/functions:generateUploadUrl 200
[debug] [2023-01-30T10:49:46.386Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/4464e257-a465-4284-ac1d-abb31d09e582.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675077586&Signature=h6qVTvBAWsHYaMYfN22uYnk7wn%2FarLB%2BPARHgjuw7HD3PCyq746Ihdiy4iO7mlTzYTdAvLaEQ39p2HvnVebSdX2NMSBMYiatPnc0KcN49IRPffK6cwAjFI6W1LuvQbZ%2BLoJkYBYnyXWgsAnSlWRm8DzA0phEUOomZwVIaJ9efFN9ZlNkfp9RVQrB%2FNZuIOZMropgJr5SW2y66IHZbOjq9Iy2qiZ5EZ1U1Il5HZ3VJsPt0vFLjw9Xd8hLstUJRfyiSPiQbeBtP0Wgm49nKxkGsrO7TbcjZyMSuH50r%2BrUPEJUfGntVtpg%2B8WAS%2FvB2pLiSalgbfVCxVtlbuCMMRPEJQ%3D%3D"}
[debug] [2023-01-30T10:49:46.389Z] >>> [apiv2][query] PUT https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/4464e257-a465-4284-ac1d-abb31d09e582.zip GoogleAccessId=service-171978637376%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1675077586&Signature=h6qVTvBAWsHYaMYfN22uYnk7wn%2FarLB%2BPARHgjuw7HD3PCyq746Ihdiy4iO7mlTzYTdAvLaEQ39p2HvnVebSdX2NMSBMYiatPnc0KcN49IRPffK6cwAjFI6W1LuvQbZ%2BLoJkYBYnyXWgsAnSlWRm8DzA0phEUOomZwVIaJ9efFN9ZlNkfp9RVQrB%2FNZuIOZMropgJr5SW2y66IHZbOjq9Iy2qiZ5EZ1U1Il5HZ3VJsPt0vFLjw9Xd8hLstUJRfyiSPiQbeBtP0Wgm49nKxkGsrO7TbcjZyMSuH50r%2BrUPEJUfGntVtpg%2B8WAS%2FvB2pLiSalgbfVCxVtlbuCMMRPEJQ%3D%3D
[debug] [2023-01-30T10:49:46.389Z] >>> [apiv2][body] PUT https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/4464e257-a465-4284-ac1d-abb31d09e582.zip [stream]
[debug] [2023-01-30T10:49:47.916Z] <<< [apiv2][status] PUT https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/4464e257-a465-4284-ac1d-abb31d09e582.zip 200
[debug] [2023-01-30T10:49:47.918Z] <<< [apiv2][body] PUT https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/4464e257-a465-4284-ac1d-abb31d09e582.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] i  functions: updating Node.js 16 function api(us-central1)... 
[debug] [2023-01-30T10:49:47.932Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/us-central1/functions/api updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken
[debug] [2023-01-30T10:49:47.934Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/us-central1/functions/api {"name":"projects/todoapp-65153/locations/us-central1/functions/api","sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/4464e257-a465-4284-ac1d-abb31d09e582.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675077586&Signature=h6qVTvBAWsHYaMYfN22uYnk7wn%2FarLB%2BPARHgjuw7HD3PCyq746Ihdiy4iO7mlTzYTdAvLaEQ39p2HvnVebSdX2NMSBMYiatPnc0KcN49IRPffK6cwAjFI6W1LuvQbZ%2BLoJkYBYnyXWgsAnSlWRm8DzA0phEUOomZwVIaJ9efFN9ZlNkfp9RVQrB%2FNZuIOZMropgJr5SW2y66IHZbOjq9Iy2qiZ5EZ1U1Il5HZ3VJsPt0vFLjw9Xd8hLstUJRfyiSPiQbeBtP0Wgm49nKxkGsrO7TbcjZyMSuH50r%2BrUPEJUfGntVtpg%2B8WAS%2FvB2pLiSalgbfVCxVtlbuCMMRPEJQ%3D%3D","entryPoint":"api","runtime":"nodejs16","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null}
[debug] [2023-01-30T10:49:48.652Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/us-central1/functions/api 200
[debug] [2023-01-30T10:49:48.653Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/todoapp-65153/locations/us-central1/functions/api {"name":"operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvaVVLT3ZSdzR4SkE","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/todoapp-65153/locations/us-central1/functions/api","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/todoapp-65153/locations/us-central1/functions/api","httpsTrigger":{"url":"https://us-central1-todoapp-65153.cloudfunctions.net/api","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"api","updateTime":"2023-01-15T08:46:26.409Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/4464e257-a465-4284-ac1d-abb31d09e582.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675077586&Signature=h6qVTvBAWsHYaMYfN22uYnk7wn%2FarLB%2BPARHgjuw7HD3PCyq746Ihdiy4iO7mlTzYTdAvLaEQ39p2HvnVebSdX2NMSBMYiatPnc0KcN49IRPffK6cwAjFI6W1LuvQbZ%2BLoJkYBYnyXWgsAnSlWRm8DzA0phEUOomZwVIaJ9efFN9ZlNkfp9RVQrB%2FNZuIOZMropgJr5SW2y66IHZbOjq9Iy2qiZ5EZ1U1Il5HZ3VJsPt0vFLjw9Xd8hLstUJRfyiSPiQbeBtP0Wgm49nKxkGsrO7TbcjZyMSuH50r%2BrUPEJUfGntVtpg%2B8WAS%2FvB2pLiSalgbfVCxVtlbuCMMRPEJQ%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"runtime":"nodejs16","buildId":"cde7acda-5096-4f8a-a10f-65a19397ee2f","buildName":"projects/171978637376/locations/us-central1/builds/cde7acda-5096-4f8a-a10f-65a19397ee2f","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"9","updateTime":"2023-01-30T10:49:48Z"}}
[debug] [2023-01-30T10:49:48.656Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvaVVLT3ZSdzR4SkE [none]
[debug] [2023-01-30T10:49:48.989Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvaVVLT3ZSdzR4SkE 200
[debug] [2023-01-30T10:49:48.990Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvaVVLT3ZSdzR4SkE {"name":"operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvaVVLT3ZSdzR4SkE","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/todoapp-65153/locations/us-central1/functions/api","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/todoapp-65153/locations/us-central1/functions/api","httpsTrigger":{"url":"https://us-central1-todoapp-65153.cloudfunctions.net/api","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"api","updateTime":"2023-01-15T08:46:26.409Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/4464e257-a465-4284-ac1d-abb31d09e582.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675077586&Signature=h6qVTvBAWsHYaMYfN22uYnk7wn%2FarLB%2BPARHgjuw7HD3PCyq746Ihdiy4iO7mlTzYTdAvLaEQ39p2HvnVebSdX2NMSBMYiatPnc0KcN49IRPffK6cwAjFI6W1LuvQbZ%2BLoJkYBYnyXWgsAnSlWRm8DzA0phEUOomZwVIaJ9efFN9ZlNkfp9RVQrB%2FNZuIOZMropgJr5SW2y66IHZbOjq9Iy2qiZ5EZ1U1Il5HZ3VJsPt0vFLjw9Xd8hLstUJRfyiSPiQbeBtP0Wgm49nKxkGsrO7TbcjZyMSuH50r%2BrUPEJUfGntVtpg%2B8WAS%2FvB2pLiSalgbfVCxVtlbuCMMRPEJQ%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"runtime":"nodejs16","buildId":"cde7acda-5096-4f8a-a10f-65a19397ee2f","buildName":"projects/171978637376/locations/us-central1/builds/cde7acda-5096-4f8a-a10f-65a19397ee2f","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"9","updateTime":"2023-01-30T10:49:48Z"}}
[debug] [2023-01-30T10:49:49.497Z] [update-default-us-central1-api] Retrying task index 0
[debug] [2023-01-30T10:49:49.498Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvaVVLT3ZSdzR4SkE [none]
[debug] [2023-01-30T10:49:49.969Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvaVVLT3ZSdzR4SkE 200
[debug] [2023-01-30T10:49:49.970Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvaVVLT3ZSdzR4SkE {"name":"operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvaVVLT3ZSdzR4SkE","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/todoapp-65153/locations/us-central1/functions/api","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/todoapp-65153/locations/us-central1/functions/api","httpsTrigger":{"url":"https://us-central1-todoapp-65153.cloudfunctions.net/api","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"api","updateTime":"2023-01-15T08:46:26.409Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/4464e257-a465-4284-ac1d-abb31d09e582.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675077586&Signature=h6qVTvBAWsHYaMYfN22uYnk7wn%2FarLB%2BPARHgjuw7HD3PCyq746Ihdiy4iO7mlTzYTdAvLaEQ39p2HvnVebSdX2NMSBMYiatPnc0KcN49IRPffK6cwAjFI6W1LuvQbZ%2BLoJkYBYnyXWgsAnSlWRm8DzA0phEUOomZwVIaJ9efFN9ZlNkfp9RVQrB%2FNZuIOZMropgJr5SW2y66IHZbOjq9Iy2qiZ5EZ1U1Il5HZ3VJsPt0vFLjw9Xd8hLstUJRfyiSPiQbeBtP0Wgm49nKxkGsrO7TbcjZyMSuH50r%2BrUPEJUfGntVtpg%2B8WAS%2FvB2pLiSalgbfVCxVtlbuCMMRPEJQ%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"runtime":"nodejs16","buildId":"cde7acda-5096-4f8a-a10f-65a19397ee2f","buildName":"projects/171978637376/locations/us-central1/builds/cde7acda-5096-4f8a-a10f-65a19397ee2f","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"9","updateTime":"2023-01-30T10:49:48Z","buildId":"e5b8101b-c9ba-4f81-908c-226707c5edf3","buildName":"projects/171978637376/locations/us-central1/builds/e5b8101b-c9ba-4f81-908c-226707c5edf3"}}
[debug] [2023-01-30T10:49:50.976Z] [update-default-us-central1-api] Retrying task index 0
[debug] [2023-01-30T10:49:50.978Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvaVVLT3ZSdzR4SkE [none]
[debug] [2023-01-30T10:49:51.399Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvaVVLT3ZSdzR4SkE 200
[debug] [2023-01-30T10:49:51.399Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvaVVLT3ZSdzR4SkE {"name":"operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvaVVLT3ZSdzR4SkE","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/todoapp-65153/locations/us-central1/functions/api","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/todoapp-65153/locations/us-central1/functions/api","httpsTrigger":{"url":"https://us-central1-todoapp-65153.cloudfunctions.net/api","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"api","updateTime":"2023-01-15T08:46:26.409Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/4464e257-a465-4284-ac1d-abb31d09e582.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675077586&Signature=h6qVTvBAWsHYaMYfN22uYnk7wn%2FarLB%2BPARHgjuw7HD3PCyq746Ihdiy4iO7mlTzYTdAvLaEQ39p2HvnVebSdX2NMSBMYiatPnc0KcN49IRPffK6cwAjFI6W1LuvQbZ%2BLoJkYBYnyXWgsAnSlWRm8DzA0phEUOomZwVIaJ9efFN9ZlNkfp9RVQrB%2FNZuIOZMropgJr5SW2y66IHZbOjq9Iy2qiZ5EZ1U1Il5HZ3VJsPt0vFLjw9Xd8hLstUJRfyiSPiQbeBtP0Wgm49nKxkGsrO7TbcjZyMSuH50r%2BrUPEJUfGntVtpg%2B8WAS%2FvB2pLiSalgbfVCxVtlbuCMMRPEJQ%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"runtime":"nodejs16","buildId":"cde7acda-5096-4f8a-a10f-65a19397ee2f","buildName":"projects/171978637376/locations/us-central1/builds/cde7acda-5096-4f8a-a10f-65a19397ee2f","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"9","updateTime":"2023-01-30T10:49:48Z","buildId":"e5b8101b-c9ba-4f81-908c-226707c5edf3","buildName":"projects/171978637376/locations/us-central1/builds/e5b8101b-c9ba-4f81-908c-226707c5edf3"}}
[debug] [2023-01-30T10:49:53.404Z] [update-default-us-central1-api] Retrying task index 0
[debug] [2023-01-30T10:49:53.406Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvaVVLT3ZSdzR4SkE [none]
[debug] [2023-01-30T10:49:53.763Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvaVVLT3ZSdzR4SkE 200
[debug] [2023-01-30T10:49:53.763Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvaVVLT3ZSdzR4SkE {"name":"operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvaVVLT3ZSdzR4SkE","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/todoapp-65153/locations/us-central1/functions/api","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/todoapp-65153/locations/us-central1/functions/api","httpsTrigger":{"url":"https://us-central1-todoapp-65153.cloudfunctions.net/api","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"api","updateTime":"2023-01-15T08:46:26.409Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/4464e257-a465-4284-ac1d-abb31d09e582.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675077586&Signature=h6qVTvBAWsHYaMYfN22uYnk7wn%2FarLB%2BPARHgjuw7HD3PCyq746Ihdiy4iO7mlTzYTdAvLaEQ39p2HvnVebSdX2NMSBMYiatPnc0KcN49IRPffK6cwAjFI6W1LuvQbZ%2BLoJkYBYnyXWgsAnSlWRm8DzA0phEUOomZwVIaJ9efFN9ZlNkfp9RVQrB%2FNZuIOZMropgJr5SW2y66IHZbOjq9Iy2qiZ5EZ1U1Il5HZ3VJsPt0vFLjw9Xd8hLstUJRfyiSPiQbeBtP0Wgm49nKxkGsrO7TbcjZyMSuH50r%2BrUPEJUfGntVtpg%2B8WAS%2FvB2pLiSalgbfVCxVtlbuCMMRPEJQ%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"runtime":"nodejs16","buildId":"cde7acda-5096-4f8a-a10f-65a19397ee2f","buildName":"projects/171978637376/locations/us-central1/builds/cde7acda-5096-4f8a-a10f-65a19397ee2f","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"9","updateTime":"2023-01-30T10:49:48Z","buildId":"e5b8101b-c9ba-4f81-908c-226707c5edf3","buildName":"projects/171978637376/locations/us-central1/builds/e5b8101b-c9ba-4f81-908c-226707c5edf3"}}
[debug] [2023-01-30T10:49:57.768Z] [update-default-us-central1-api] Retrying task index 0
[debug] [2023-01-30T10:49:57.769Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvaVVLT3ZSdzR4SkE [none]
[debug] [2023-01-30T10:49:58.153Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvaVVLT3ZSdzR4SkE 200
[debug] [2023-01-30T10:49:58.153Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvaVVLT3ZSdzR4SkE {"name":"operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvaVVLT3ZSdzR4SkE","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/todoapp-65153/locations/us-central1/functions/api","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/todoapp-65153/locations/us-central1/functions/api","httpsTrigger":{"url":"https://us-central1-todoapp-65153.cloudfunctions.net/api","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"api","updateTime":"2023-01-15T08:46:26.409Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/4464e257-a465-4284-ac1d-abb31d09e582.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675077586&Signature=h6qVTvBAWsHYaMYfN22uYnk7wn%2FarLB%2BPARHgjuw7HD3PCyq746Ihdiy4iO7mlTzYTdAvLaEQ39p2HvnVebSdX2NMSBMYiatPnc0KcN49IRPffK6cwAjFI6W1LuvQbZ%2BLoJkYBYnyXWgsAnSlWRm8DzA0phEUOomZwVIaJ9efFN9ZlNkfp9RVQrB%2FNZuIOZMropgJr5SW2y66IHZbOjq9Iy2qiZ5EZ1U1Il5HZ3VJsPt0vFLjw9Xd8hLstUJRfyiSPiQbeBtP0Wgm49nKxkGsrO7TbcjZyMSuH50r%2BrUPEJUfGntVtpg%2B8WAS%2FvB2pLiSalgbfVCxVtlbuCMMRPEJQ%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"runtime":"nodejs16","buildId":"cde7acda-5096-4f8a-a10f-65a19397ee2f","buildName":"projects/171978637376/locations/us-central1/builds/cde7acda-5096-4f8a-a10f-65a19397ee2f","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"9","updateTime":"2023-01-30T10:49:48Z","buildId":"e5b8101b-c9ba-4f81-908c-226707c5edf3","buildName":"projects/171978637376/locations/us-central1/builds/e5b8101b-c9ba-4f81-908c-226707c5edf3"}}
[debug] [2023-01-30T10:50:06.159Z] [update-default-us-central1-api] Retrying task index 0
[debug] [2023-01-30T10:50:06.162Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvaVVLT3ZSdzR4SkE [none]
[debug] [2023-01-30T10:50:06.657Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvaVVLT3ZSdzR4SkE 200
[debug] [2023-01-30T10:50:06.658Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvaVVLT3ZSdzR4SkE {"name":"operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvaVVLT3ZSdzR4SkE","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/todoapp-65153/locations/us-central1/functions/api","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/todoapp-65153/locations/us-central1/functions/api","httpsTrigger":{"url":"https://us-central1-todoapp-65153.cloudfunctions.net/api","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"api","updateTime":"2023-01-15T08:46:26.409Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/4464e257-a465-4284-ac1d-abb31d09e582.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675077586&Signature=h6qVTvBAWsHYaMYfN22uYnk7wn%2FarLB%2BPARHgjuw7HD3PCyq746Ihdiy4iO7mlTzYTdAvLaEQ39p2HvnVebSdX2NMSBMYiatPnc0KcN49IRPffK6cwAjFI6W1LuvQbZ%2BLoJkYBYnyXWgsAnSlWRm8DzA0phEUOomZwVIaJ9efFN9ZlNkfp9RVQrB%2FNZuIOZMropgJr5SW2y66IHZbOjq9Iy2qiZ5EZ1U1Il5HZ3VJsPt0vFLjw9Xd8hLstUJRfyiSPiQbeBtP0Wgm49nKxkGsrO7TbcjZyMSuH50r%2BrUPEJUfGntVtpg%2B8WAS%2FvB2pLiSalgbfVCxVtlbuCMMRPEJQ%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"runtime":"nodejs16","buildId":"cde7acda-5096-4f8a-a10f-65a19397ee2f","buildName":"projects/171978637376/locations/us-central1/builds/cde7acda-5096-4f8a-a10f-65a19397ee2f","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"9","updateTime":"2023-01-30T10:49:48Z","buildId":"e5b8101b-c9ba-4f81-908c-226707c5edf3","buildName":"projects/171978637376/locations/us-central1/builds/e5b8101b-c9ba-4f81-908c-226707c5edf3"}}
[debug] [2023-01-30T10:50:16.668Z] [update-default-us-central1-api] Retrying task index 0
[debug] [2023-01-30T10:50:16.675Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvaVVLT3ZSdzR4SkE [none]
[debug] [2023-01-30T10:50:17.065Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvaVVLT3ZSdzR4SkE 200
[debug] [2023-01-30T10:50:17.066Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvaVVLT3ZSdzR4SkE {"name":"operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvaVVLT3ZSdzR4SkE","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/todoapp-65153/locations/us-central1/functions/api","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/todoapp-65153/locations/us-central1/functions/api","httpsTrigger":{"url":"https://us-central1-todoapp-65153.cloudfunctions.net/api","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"api","updateTime":"2023-01-15T08:46:26.409Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/4464e257-a465-4284-ac1d-abb31d09e582.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675077586&Signature=h6qVTvBAWsHYaMYfN22uYnk7wn%2FarLB%2BPARHgjuw7HD3PCyq746Ihdiy4iO7mlTzYTdAvLaEQ39p2HvnVebSdX2NMSBMYiatPnc0KcN49IRPffK6cwAjFI6W1LuvQbZ%2BLoJkYBYnyXWgsAnSlWRm8DzA0phEUOomZwVIaJ9efFN9ZlNkfp9RVQrB%2FNZuIOZMropgJr5SW2y66IHZbOjq9Iy2qiZ5EZ1U1Il5HZ3VJsPt0vFLjw9Xd8hLstUJRfyiSPiQbeBtP0Wgm49nKxkGsrO7TbcjZyMSuH50r%2BrUPEJUfGntVtpg%2B8WAS%2FvB2pLiSalgbfVCxVtlbuCMMRPEJQ%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"runtime":"nodejs16","buildId":"cde7acda-5096-4f8a-a10f-65a19397ee2f","buildName":"projects/171978637376/locations/us-central1/builds/cde7acda-5096-4f8a-a10f-65a19397ee2f","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"9","updateTime":"2023-01-30T10:49:48Z","buildId":"e5b8101b-c9ba-4f81-908c-226707c5edf3","buildName":"projects/171978637376/locations/us-central1/builds/e5b8101b-c9ba-4f81-908c-226707c5edf3"}}
[debug] [2023-01-30T10:50:27.075Z] [update-default-us-central1-api] Retrying task index 0
[debug] [2023-01-30T10:50:27.083Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvaVVLT3ZSdzR4SkE [none]
[debug] [2023-01-30T10:50:27.548Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvaVVLT3ZSdzR4SkE 200
[debug] [2023-01-30T10:50:27.548Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvaVVLT3ZSdzR4SkE {"name":"operations/dG9kb2FwcC02NTE1My91cy1jZW50cmFsMS9hcGkvaVVLT3ZSdzR4SkE","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/todoapp-65153/locations/us-central1/functions/api","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/todoapp-65153/locations/us-central1/functions/api","httpsTrigger":{"url":"https://us-central1-todoapp-65153.cloudfunctions.net/api","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"api","updateTime":"2023-01-15T08:46:26.409Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-56125796577.us-central1.cloudfunctions.appspot.com/4464e257-a465-4284-ac1d-abb31d09e582.zip?GoogleAccessId=service-171978637376@gcf-admin-robot.iam.gserviceaccount.com&Expires=1675077586&Signature=h6qVTvBAWsHYaMYfN22uYnk7wn%2FarLB%2BPARHgjuw7HD3PCyq746Ihdiy4iO7mlTzYTdAvLaEQ39p2HvnVebSdX2NMSBMYiatPnc0KcN49IRPffK6cwAjFI6W1LuvQbZ%2BLoJkYBYnyXWgsAnSlWRm8DzA0phEUOomZwVIaJ9efFN9ZlNkfp9RVQrB%2FNZuIOZMropgJr5SW2y66IHZbOjq9Iy2qiZ5EZ1U1Il5HZ3VJsPt0vFLjw9Xd8hLstUJRfyiSPiQbeBtP0Wgm49nKxkGsrO7TbcjZyMSuH50r%2BrUPEJUfGntVtpg%2B8WAS%2FvB2pLiSalgbfVCxVtlbuCMMRPEJQ%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"todoapp-65153","EVENTARC_CLOUD_EVENT_SOURCE":"projects/todoapp-65153/locations/us-central1/functions/api"},"runtime":"nodejs16","buildId":"cde7acda-5096-4f8a-a10f-65a19397ee2f","buildName":"projects/171978637376/locations/us-central1/builds/cde7acda-5096-4f8a-a10f-65a19397ee2f","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"9","updateTime":"2023-01-30T10:50:22Z","buildId":"e5b8101b-c9ba-4f81-908c-226707c5edf3","buildName":"projects/171978637376/locations/us-central1/builds/e5b8101b-c9ba-4f81-908c-226707c5edf3"},"done":true,"error":{"code":3,"message":"Build failed: ... Missing: @types/fs-extra@8.1.2 from lock file\nnpm ERR! Missing: lodash.at@4.6.0 from lock file\nnpm ERR! Missing: lodash.has@4.5.2 from lock file\nnpm ERR! Missing: semver@6.3.0 from lock file\nnpm ERR! Missing: walkdir@0.4.1 from lock file\nnpm ERR! Missing: gaxios@2.3.4 from lock file\nnpm ERR! Invalid: lock file's google-p12-pem@3.1.4 does not satisfy google-p12-pem@2.0.5\nnpm ERR! Missing: node-forge@0.10.0 from lock file\nnpm ERR! Missing: has-tostringtag@1.0.0 from lock file\nnpm ERR! Missing: is-typed-array@1.1.10 from lock file\nnpm ERR! Missing: available-typed-arrays@1.0.5 from lock file\nnpm ERR! Missing: for-each@0.3.3 from lock file\nnpm ERR! Missing: gopd@1.0.1 from lock file\nnpm ERR! Missing: is-callable@1.2.7 from lock file\nnpm ERR! Invalid: lock file's yallist@4.0.0 does not satisfy yallist@3.1.1\nnpm ERR! Missing: define-properties@1.1.4 from lock file\nnpm ERR! Missing: has-property-descriptors@1.0.0 from lock file\nnpm ERR! Missing: mimic-fn@2.1.0 from lock file\nnpm ERR! Missing: p-try@2.2.0 from lock file\nnpm ERR! Missing: duplexify@4.1.2 from lock file\nnpm ERR! Missing: functions-have-names@1.2.3 from lock file\nnpm ERR! Missing: internal-slot@1.0.4 from lock file\nnpm ERR! Invalid: lock file's http-proxy-agent@5.0.0 does not satisfy http-proxy-agent@4.0.1\nnpm ERR! Invalid: lock file's uuid@8.3.2 does not satisfy uuid@7.0.3\nnpm ERR! Invalid: lock file's @tootallnate/once@2.0.0 does not satisfy @tootallnate/once@1.1.2\nnpm ERR! Missing: is-bigint@1.0.4 from lock file\nnpm ERR! Missing: is-boolean-object@1.1.2 from lock file\nnpm ERR! Missing: is-number-object@1.0.7 from lock file\nnpm ERR! Missing: is-symbol@1.0.4 from lock file\nnpm ERR! Missing: has-bigints@1.0.2 from lock file\nnpm ERR! Missing: is-weakmap@2.0.1 from lock file\nnpm ERR! Missing: is-weakset@2.0.2 from lock file\nnpm ERR! Missing: core-util-is@1.0.3 from lock file\nnpm ERR! Missing: isarray@1.0.0 from lock file\nnpm ERR! Missing: process-nextick-args@2.0.1 from lock file\nnpm ERR! Missing: safe-buffer@5.1.2 from lock file\nnpm ERR! Missing: string_decoder@1.1.1 from lock file\nnpm ERR! \nnpm ERR! Clean install a project\nnpm ERR! \nnpm ERR! Usage:\nnpm ERR! npm ci\nnpm ERR! \nnpm ERR! Options:\nnpm ERR! [-S|--save|--no-save|--save-prod|--save-dev|--save-optional|--save-peer|--save-bundle]\nnpm ERR! [-E|--save-exact] [-g|--global] [--global-style] [--legacy-bundling]\nnpm ERR! [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm ERR! [--strict-peer-deps] [--no-package-lock] [--foreground-scripts]\nnpm ERR! [--ignore-scripts] [--no-audit] [--no-bin-links] [--no-fund] [--dry-run]\nnpm ERR! [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm ERR! [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm ERR! \nnpm ERR! aliases: clean-install, ic, install-clean, isntall-clean\nnpm ERR! \nnpm ERR! Run \"npm help ci\" for more info\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /www-data-home/.npm/_logs/2023-01-30T10_50_15_484Z-debug-0.log; Error ID: beaf8772"}}
[debug] [2023-01-30T10:50:27.549Z] Got source token undefined for region us-central1
[error] Build failed: ... Missing: @types/fs-extra@8.1.2 from lock file
npm ERR! Missing: lodash.at@4.6.0 from lock file
npm ERR! Missing: lodash.has@4.5.2 from lock file
npm ERR! Missing: semver@6.3.0 from lock file
npm ERR! Missing: walkdir@0.4.1 from lock file
npm ERR! Missing: gaxios@2.3.4 from lock file
npm ERR! Invalid: lock file's google-p12-pem@3.1.4 does not satisfy google-p12-pem@2.0.5
npm ERR! Missing: node-forge@0.10.0 from lock file
npm ERR! Missing: has-tostringtag@1.0.0 from lock file
npm ERR! Missing: is-typed-array@1.1.10 from lock file
npm ERR! Missing: available-typed-arrays@1.0.5 from lock file
npm ERR! Missing: for-each@0.3.3 from lock file
npm ERR! Missing: gopd@1.0.1 from lock file
npm ERR! Missing: is-callable@1.2.7 from lock file
npm ERR! Invalid: lock file's yallist@4.0.0 does not satisfy yallist@3.1.1
npm ERR! Missing: define-properties@1.1.4 from lock file
npm ERR! Missing: has-property-descriptors@1.0.0 from lock file
npm ERR! Missing: mimic-fn@2.1.0 from lock file
npm ERR! Missing: p-try@2.2.0 from lock file
npm ERR! Missing: duplexify@4.1.2 from lock file
npm ERR! Missing: functions-have-names@1.2.3 from lock file
npm ERR! Missing: internal-slot@1.0.4 from lock file
npm ERR! Invalid: lock file's http-proxy-agent@5.0.0 does not satisfy http-proxy-agent@4.0.1
npm ERR! Invalid: lock file's uuid@8.3.2 does not satisfy uuid@7.0.3
npm ERR! Invalid: lock file's @tootallnate/once@2.0.0 does not satisfy @tootallnate/once@1.1.2
npm ERR! Missing: is-bigint@1.0.4 from lock file
npm ERR! Missing: is-boolean-object@1.1.2 from lock file
npm ERR! Missing: is-number-object@1.0.7 from lock file
npm ERR! Missing: is-symbol@1.0.4 from lock file
npm ERR! Missing: has-bigints@1.0.2 from lock file
npm ERR! Missing: is-weakmap@2.0.1 from lock file
npm ERR! Missing: is-weakset@2.0.2 from lock file
npm ERR! Missing: core-util-is@1.0.3 from lock file
npm ERR! Missing: isarray@1.0.0 from lock file
npm ERR! Missing: process-nextick-args@2.0.1 from lock file
npm ERR! Missing: safe-buffer@5.1.2 from lock file
npm ERR! Missing: string_decoder@1.1.1 from lock file
npm ERR! 
npm ERR! Clean install a project
npm ERR! 
npm ERR! Usage:
npm ERR! npm ci
npm ERR! 
npm ERR! Options:
npm ERR! [-S|--save|--no-save|--save-prod|--save-dev|--save-optional|--save-peer|--save-bundle]
npm ERR! [-E|--save-exact] [-g|--global] [--global-style] [--legacy-bundling]
npm ERR! [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]
npm ERR! [--strict-peer-deps] [--no-package-lock] [--foreground-scripts]
npm ERR! [--ignore-scripts] [--no-audit] [--no-bin-links] [--no-fund] [--dry-run]
npm ERR! [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]
npm ERR! [-ws|--workspaces] [--include-workspace-root] [--install-links]
npm ERR! 
npm ERR! aliases: clean-install, ic, install-clean, isntall-clean
npm ERR! 
npm ERR! Run "npm help ci" for more info

npm ERR! A complete log of this run can be found in:
npm ERR!     /www-data-home/.npm/_logs/2023-01-30T10_50_15_484Z-debug-0.log; Error ID: beaf8772
[debug] [2023-01-30T10:50:27.571Z] Total Function Deployment time: 39642
[debug] [2023-01-30T10:50:27.571Z] 1 Functions Deployed
[debug] [2023-01-30T10:50:27.571Z] 1 Functions Errored
[debug] [2023-01-30T10:50:27.571Z] 0 Function Deployments Aborted
[debug] [2023-01-30T10:50:27.571Z] Average Function Deployment time: 39639
[info] 
[info] Functions deploy had errors with the following functions:
	api(us-central1)
[debug] [2023-01-30T10:50:27.573Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[info] i  functions: cleaning up build files... 
[debug] [2023-01-30T10:50:27.578Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/todoapp-65153/locations/us-central1/repositories/gcf-artifacts/packages/api [none]
[debug] [2023-01-30T10:50:27.585Z] >>> [apiv2][query] GET https://us.gcr.io/v2/todoapp-65153/gcf/us-central1/tags/list [none]
[debug] [2023-01-30T10:50:27.892Z] <<< [apiv2][status] GET https://us.gcr.io/v2/todoapp-65153/gcf/us-central1/tags/list 200
[debug] [2023-01-30T10:50:27.892Z] <<< [apiv2][body] GET https://us.gcr.io/v2/todoapp-65153/gcf/us-central1/tags/list {"child":[],"manifest":{},"name":"todoapp-65153/gcf/us-central1","tags":[]}
[debug] [2023-01-30T10:50:27.893Z] Could not find image for function projects/todoapp-65153/locations/us-central1/functions/api
[debug] [2023-01-30T10:50:28.989Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/todoapp-65153/locations/us-central1/repositories/gcf-artifacts/packages/api 404
[debug] [2023-01-30T10:50:28.989Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/todoapp-65153/locations/us-central1/repositories/gcf-artifacts/packages/api {"error":{"code":404,"message":"Package \"projects/todoapp-65153/locations/us-central1/repositories/gcf-artifacts/packages/api\" was not found.","status":"NOT_FOUND"}}
[debug] [2023-01-30T10:50:28.991Z] Functions deploy failed.
[debug] [2023-01-30T10:50:28.992Z] {
  "endpoint": {
    "id": "api",
    "project": "todoapp-65153",
    "region": "us-central1",
    "entryPoint": "api",
    "platform": "gcfv1",
    "runtime": "nodejs16",
    "httpsTrigger": {},
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"todoapp-65153\",\"storageBucket\":\"todoapp-65153.appspot.com\",\"locationId\":\"us-central\"}",
      "GCLOUD_PROJECT": "todoapp-65153",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/todoapp-65153/locations/us-central1/functions/api"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "d5bd1198d8775499f7c51c3a4fd91e9a150dcf0f",
    "labels": {
      "deployment-tool": "cli-firebase"
    }
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Build failed: ... Missing: @types/fs-extra@8.1.2 from lock file\nnpm ERR! Missing: lodash.at@4.6.0 from lock file\nnpm ERR! Missing: lodash.has@4.5.2 from lock file\nnpm ERR! Missing: semver@6.3.0 from lock file\nnpm ERR! Missing: walkdir@0.4.1 from lock file\nnpm ERR! Missing: gaxios@2.3.4 from lock file\nnpm ERR! Invalid: lock file's google-p12-pem@3.1.4 does not satisfy google-p12-pem@2.0.5\nnpm ERR! Missing: node-forge@0.10.0 from lock file\nnpm ERR! Missing: has-tostringtag@1.0.0 from lock file\nnpm ERR! Missing: is-typed-array@1.1.10 from lock file\nnpm ERR! Missing: available-typed-arrays@1.0.5 from lock file\nnpm ERR! Missing: for-each@0.3.3 from lock file\nnpm ERR! Missing: gopd@1.0.1 from lock file\nnpm ERR! Missing: is-callable@1.2.7 from lock file\nnpm ERR! Invalid: lock file's yallist@4.0.0 does not satisfy yallist@3.1.1\nnpm ERR! Missing: define-properties@1.1.4 from lock file\nnpm ERR! Missing: has-property-descriptors@1.0.0 from lock file\nnpm ERR! Missing: mimic-fn@2.1.0 from lock file\nnpm ERR! Missing: p-try@2.2.0 from lock file\nnpm ERR! Missing: duplexify@4.1.2 from lock file\nnpm ERR! Missing: functions-have-names@1.2.3 from lock file\nnpm ERR! Missing: internal-slot@1.0.4 from lock file\nnpm ERR! Invalid: lock file's http-proxy-agent@5.0.0 does not satisfy http-proxy-agent@4.0.1\nnpm ERR! Invalid: lock file's uuid@8.3.2 does not satisfy uuid@7.0.3\nnpm ERR! Invalid: lock file's @tootallnate/once@2.0.0 does not satisfy @tootallnate/once@1.1.2\nnpm ERR! Missing: is-bigint@1.0.4 from lock file\nnpm ERR! Missing: is-boolean-object@1.1.2 from lock file\nnpm ERR! Missing: is-number-object@1.0.7 from lock file\nnpm ERR! Missing: is-symbol@1.0.4 from lock file\nnpm ERR! Missing: has-bigints@1.0.2 from lock file\nnpm ERR! Missing: is-weakmap@2.0.1 from lock file\nnpm ERR! Missing: is-weakset@2.0.2 from lock file\nnpm ERR! Missing: core-util-is@1.0.3 from lock file\nnpm ERR! Missing: isarray@1.0.0 from lock file\nnpm ERR! Missing: process-nextick-args@2.0.1 from lock file\nnpm ERR! Missing: safe-buffer@5.1.2 from lock file\nnpm ERR! Missing: string_decoder@1.1.1 from lock file\nnpm ERR! \nnpm ERR! Clean install a project\nnpm ERR! \nnpm ERR! Usage:\nnpm ERR! npm ci\nnpm ERR! \nnpm ERR! Options:\nnpm ERR! [-S|--save|--no-save|--save-prod|--save-dev|--save-optional|--save-peer|--save-bundle]\nnpm ERR! [-E|--save-exact] [-g|--global] [--global-style] [--legacy-bundling]\nnpm ERR! [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm ERR! [--strict-peer-deps] [--no-package-lock] [--foreground-scripts]\nnpm ERR! [--ignore-scripts] [--no-audit] [--no-bin-links] [--no-fund] [--dry-run]\nnpm ERR! [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm ERR! [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm ERR! \nnpm ERR! aliases: clean-install, ic, install-clean, isntall-clean\nnpm ERR! \nnpm ERR! Run \"npm help ci\" for more info\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /www-data-home/.npm/_logs/2023-01-30T10_50_15_484Z-debug-0.log; Error ID: beaf8772",
    "status": 3
  }
}
[debug] [2023-01-30T10:50:28.993Z] Error: Failed to update function api in region us-central1
    at /Users/ryanguai/.npm-global/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:48:11
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Fabricator.updateV1Function (/Users/ryanguai/.npm-global/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:330:32)
    at async Fabricator.updateEndpoint (/Users/ryanguai/.npm-global/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:147:13)
    at async handle (/Users/ryanguai/.npm-global/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:85:17)
[error] 
[error] Error: There was an error deploying functions
